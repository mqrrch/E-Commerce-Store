var JR=Object.defineProperty;var eC=(n,e,t)=>e in n?JR(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Zm=(n,e,t)=>eC(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Jm={exports:{}},Zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function tC(){if(IE)return Zl;IE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Zl.Fragment=e,Zl.jsx=t,Zl.jsxs=t,Zl}var NE;function nC(){return NE||(NE=1,Jm.exports=tC()),Jm.exports}var C=nC(),ep={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DE;function rC(){if(DE)return xe;DE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function b(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,j={};function D(V,ie,pe){this.props=V,this.context=ie,this.refs=j,this.updater=pe||x}D.prototype.isReactComponent={},D.prototype.setState=function(V,ie){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,ie,"setState")},D.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function G(){}G.prototype=D.prototype;function X(V,ie,pe){this.props=V,this.context=ie,this.refs=j,this.updater=pe||x}var $=X.prototype=new G;$.constructor=X,I($,D.prototype),$.isPureReactComponent=!0;var se=Array.isArray,re={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function P(V,ie,pe,ue,ce,Ie){return pe=Ie.ref,{$$typeof:n,type:V,key:ie,ref:pe!==void 0?pe:null,props:Ie}}function R(V,ie){return P(V.type,ie,void 0,void 0,void 0,V.props)}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function O(V){var ie={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(pe){return ie[pe]})}var L=/\/+/g;function q(V,ie){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):ie.toString(36)}function M(){}function bt(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(M,M):(V.status="pending",V.then(function(ie){V.status==="pending"&&(V.status="fulfilled",V.value=ie)},function(ie){V.status==="pending"&&(V.status="rejected",V.reason=ie)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function pt(V,ie,pe,ue,ce){var Ie=typeof V;(Ie==="undefined"||Ie==="boolean")&&(V=null);var Ce=!1;if(V===null)Ce=!0;else switch(Ie){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(V.$$typeof){case n:case e:Ce=!0;break;case _:return Ce=V._init,pt(Ce(V._payload),ie,pe,ue,ce)}}if(Ce)return ce=ce(V),Ce=ue===""?"."+q(V,0):ue,se(ce)?(pe="",Ce!=null&&(pe=Ce.replace(L,"$&/")+"/"),pt(ce,ie,pe,"",function(at){return at})):ce!=null&&(A(ce)&&(ce=R(ce,pe+(ce.key==null||V&&V.key===ce.key?"":(""+ce.key).replace(L,"$&/")+"/")+Ce)),ie.push(ce)),1;Ce=0;var gt=ue===""?".":ue+":";if(se(V))for(var Be=0;Be<V.length;Be++)ue=V[Be],Ie=gt+q(ue,Be),Ce+=pt(ue,ie,pe,Ie,ce);else if(Be=b(V),typeof Be=="function")for(V=Be.call(V),Be=0;!(ue=V.next()).done;)ue=ue.value,Ie=gt+q(ue,Be++),Ce+=pt(ue,ie,pe,Ie,ce);else if(Ie==="object"){if(typeof V.then=="function")return pt(bt(V),ie,pe,ue,ce);throw ie=String(V),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function le(V,ie,pe){if(V==null)return V;var ue=[],ce=0;return pt(V,ue,"","",function(Ie){return ie.call(pe,Ie,ce++)}),ue}function Ee(V){if(V._status===-1){var ie=V._result;ie=ie(),ie.then(function(pe){(V._status===0||V._status===-1)&&(V._status=1,V._result=pe)},function(pe){(V._status===0||V._status===-1)&&(V._status=2,V._result=pe)}),V._status===-1&&(V._status=0,V._result=ie)}if(V._status===1)return V._result.default;throw V._result}var ye=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Ge(){}return xe.Children={map:le,forEach:function(V,ie,pe){le(V,function(){ie.apply(this,arguments)},pe)},count:function(V){var ie=0;return le(V,function(){ie++}),ie},toArray:function(V){return le(V,function(ie){return ie})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},xe.Component=D,xe.Fragment=t,xe.Profiler=a,xe.PureComponent=X,xe.StrictMode=i,xe.Suspense=m,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,xe.act=function(){throw Error("act(...) is not supported in production builds of React.")},xe.cache=function(V){return function(){return V.apply(null,arguments)}},xe.cloneElement=function(V,ie,pe){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var ue=I({},V.props),ce=V.key,Ie=void 0;if(ie!=null)for(Ce in ie.ref!==void 0&&(Ie=void 0),ie.key!==void 0&&(ce=""+ie.key),ie)!oe.call(ie,Ce)||Ce==="key"||Ce==="__self"||Ce==="__source"||Ce==="ref"&&ie.ref===void 0||(ue[Ce]=ie[Ce]);var Ce=arguments.length-2;if(Ce===1)ue.children=pe;else if(1<Ce){for(var gt=Array(Ce),Be=0;Be<Ce;Be++)gt[Be]=arguments[Be+2];ue.children=gt}return P(V.type,ce,void 0,void 0,Ie,ue)},xe.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:l,_context:V},V},xe.createElement=function(V,ie,pe){var ue,ce={},Ie=null;if(ie!=null)for(ue in ie.key!==void 0&&(Ie=""+ie.key),ie)oe.call(ie,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ce[ue]=ie[ue]);var Ce=arguments.length-2;if(Ce===1)ce.children=pe;else if(1<Ce){for(var gt=Array(Ce),Be=0;Be<Ce;Be++)gt[Be]=arguments[Be+2];ce.children=gt}if(V&&V.defaultProps)for(ue in Ce=V.defaultProps,Ce)ce[ue]===void 0&&(ce[ue]=Ce[ue]);return P(V,Ie,void 0,void 0,null,ce)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(V){return{$$typeof:d,render:V}},xe.isValidElement=A,xe.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:Ee}},xe.memo=function(V,ie){return{$$typeof:g,type:V,compare:ie===void 0?null:ie}},xe.startTransition=function(V){var ie=re.T,pe={};re.T=pe;try{var ue=V(),ce=re.S;ce!==null&&ce(pe,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(Ge,ye)}catch(Ie){ye(Ie)}finally{re.T=ie}},xe.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},xe.use=function(V){return re.H.use(V)},xe.useActionState=function(V,ie,pe){return re.H.useActionState(V,ie,pe)},xe.useCallback=function(V,ie){return re.H.useCallback(V,ie)},xe.useContext=function(V){return re.H.useContext(V)},xe.useDebugValue=function(){},xe.useDeferredValue=function(V,ie){return re.H.useDeferredValue(V,ie)},xe.useEffect=function(V,ie){return re.H.useEffect(V,ie)},xe.useId=function(){return re.H.useId()},xe.useImperativeHandle=function(V,ie,pe){return re.H.useImperativeHandle(V,ie,pe)},xe.useInsertionEffect=function(V,ie){return re.H.useInsertionEffect(V,ie)},xe.useLayoutEffect=function(V,ie){return re.H.useLayoutEffect(V,ie)},xe.useMemo=function(V,ie){return re.H.useMemo(V,ie)},xe.useOptimistic=function(V,ie){return re.H.useOptimistic(V,ie)},xe.useReducer=function(V,ie,pe){return re.H.useReducer(V,ie,pe)},xe.useRef=function(V){return re.H.useRef(V)},xe.useState=function(V){return re.H.useState(V)},xe.useSyncExternalStore=function(V,ie,pe){return re.H.useSyncExternalStore(V,ie,pe)},xe.useTransition=function(){return re.H.useTransition()},xe.version="19.0.0",xe}var OE;function vh(){return OE||(OE=1,ep.exports=rC()),ep.exports}var H=vh(),tp={exports:{}},Jl={},np={exports:{}},rp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function iC(){return ME||(ME=1,function(n){function e(le,Ee){var ye=le.length;le.push(Ee);e:for(;0<ye;){var Ge=ye-1>>>1,V=le[Ge];if(0<a(V,Ee))le[Ge]=Ee,le[ye]=V,ye=Ge;else break e}}function t(le){return le.length===0?null:le[0]}function i(le){if(le.length===0)return null;var Ee=le[0],ye=le.pop();if(ye!==Ee){le[0]=ye;e:for(var Ge=0,V=le.length,ie=V>>>1;Ge<ie;){var pe=2*(Ge+1)-1,ue=le[pe],ce=pe+1,Ie=le[ce];if(0>a(ue,ye))ce<V&&0>a(Ie,ue)?(le[Ge]=Ie,le[ce]=ye,Ge=ce):(le[Ge]=ue,le[pe]=ye,Ge=pe);else if(ce<V&&0>a(Ie,ye))le[Ge]=Ie,le[ce]=ye,Ge=ce;else break e}}return Ee}function a(le,Ee){var ye=le.sortIndex-Ee.sortIndex;return ye!==0?ye:le.id-Ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var m=[],g=[],_=1,T=null,b=3,x=!1,I=!1,j=!1,D=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function $(le){for(var Ee=t(g);Ee!==null;){if(Ee.callback===null)i(g);else if(Ee.startTime<=le)i(g),Ee.sortIndex=Ee.expirationTime,e(m,Ee);else break;Ee=t(g)}}function se(le){if(j=!1,$(le),!I)if(t(m)!==null)I=!0,bt();else{var Ee=t(g);Ee!==null&&pt(se,Ee.startTime-le)}}var re=!1,oe=-1,P=5,R=-1;function A(){return!(n.unstable_now()-R<P)}function O(){if(re){var le=n.unstable_now();R=le;var Ee=!0;try{e:{I=!1,j&&(j=!1,G(oe),oe=-1),x=!0;var ye=b;try{t:{for($(le),T=t(m);T!==null&&!(T.expirationTime>le&&A());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,b=T.priorityLevel;var V=Ge(T.expirationTime<=le);if(le=n.unstable_now(),typeof V=="function"){T.callback=V,$(le),Ee=!0;break t}T===t(m)&&i(m),$(le)}else i(m);T=t(m)}if(T!==null)Ee=!0;else{var ie=t(g);ie!==null&&pt(se,ie.startTime-le),Ee=!1}}break e}finally{T=null,b=ye,x=!1}Ee=void 0}}finally{Ee?L():re=!1}}}var L;if(typeof X=="function")L=function(){X(O)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,M=q.port2;q.port1.onmessage=O,L=function(){M.postMessage(null)}}else L=function(){D(O,0)};function bt(){re||(re=!0,L())}function pt(le,Ee){oe=D(function(){le(n.unstable_now())},Ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){I||x||(I=!0,bt())},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(le){switch(b){case 1:case 2:case 3:var Ee=3;break;default:Ee=b}var ye=b;b=Ee;try{return le()}finally{b=ye}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Ee){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ye=b;b=le;try{return Ee()}finally{b=ye}},n.unstable_scheduleCallback=function(le,Ee,ye){var Ge=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ge+ye:Ge):ye=Ge,le){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ye+V,le={id:_++,callback:Ee,priorityLevel:le,startTime:ye,expirationTime:V,sortIndex:-1},ye>Ge?(le.sortIndex=ye,e(g,le),t(m)===null&&le===t(g)&&(j?(G(oe),oe=-1):j=!0,pt(se,ye-Ge))):(le.sortIndex=V,e(m,le),I||x||(I=!0,bt())),le},n.unstable_shouldYield=A,n.unstable_wrapCallback=function(le){var Ee=b;return function(){var ye=b;b=Ee;try{return le.apply(this,arguments)}finally{b=ye}}}}(rp)),rp}var PE;function sC(){return PE||(PE=1,np.exports=iC()),np.exports}var ip={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function aC(){if(VE)return Wt;VE=1;var n=vh();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:_}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wt.createPortal=function(m,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,_)},Wt.flushSync=function(m){var g=c.T,_=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=g,i.p=_,i.d.f()}},Wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},Wt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:b,fetchPriority:x}):_==="script"&&i.d.X(m,{crossOrigin:T,integrity:b,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=d(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},Wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=d(_,g.crossOrigin);i.d.L(m,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var _=d(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},Wt.requestFormReset=function(m){i.d.r(m)},Wt.unstable_batchedUpdates=function(m,g){return m(g)},Wt.useFormState=function(m,g,_){return c.H.useFormState(m,g,_)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var kE;function oC(){if(kE)return ip.exports;kE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ip.exports=aC(),ip.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function lC(){if(LE)return Jl;LE=1;var n=sC(),e=vh(),t=oC();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}var l=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),$=Symbol.for("react.offscreen"),se=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function oe(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var P=Symbol.for("react.client.reference");function R(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===P?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case m:return"Fragment";case d:return"Portal";case _:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case D:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Provider";case b:return(r._context.displayName||"Context")+".Consumer";case I:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case G:return s=r.displayName||null,s!==null?s:R(r.type)||"Memo";case X:s=r._payload,r=r._init;try{return R(r(s))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=Object.assign,L,q;function M(r){if(L===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||"",q=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+r+q}var bt=!1;function pt(r,s){if(!r||bt)return"";bt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(W){var K=W}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(W){K=W}r.call(ne.prototype)}}else{try{throw Error()}catch(W){K=W}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(W){if(W&&K&&typeof W.stack=="string")return[W.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],w=p[1];if(E&&w){var N=E.split(`
`),U=w.split(`
`);for(h=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(u===N.length||h===U.length)for(u=N.length-1,h=U.length-1;1<=u&&0<=h&&N[u]!==U[h];)h--;for(;1<=u&&0<=h;u--,h--)if(N[u]!==U[h]){if(u!==1||h!==1)do if(u--,h--,0>h||N[u]!==U[h]){var Z=`
`+N[u].replace(" at new "," at ");return r.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",r.displayName)),Z}while(1<=u&&0<=h);break}}}finally{bt=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?M(o):""}function le(r){switch(r.tag){case 26:case 27:case 5:return M(r.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return r=pt(r.type,!1),r;case 11:return r=pt(r.type.render,!1),r;case 1:return r=pt(r.type,!0),r;default:return""}}function Ee(r){try{var s="";do s+=le(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function ye(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function Ge(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function V(r){if(ye(r)!==r)throw Error(i(188))}function ie(r){var s=r.alternate;if(!s){if(s=ye(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,u=s;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return V(h),r;if(p===u)return V(h),s;p=p.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=p;else{for(var E=!1,w=h.child;w;){if(w===o){E=!0,o=h,u=p;break}if(w===u){E=!0,u=h,o=p;break}w=w.sibling}if(!E){for(w=p.child;w;){if(w===o){E=!0,o=p,u=h;break}if(w===u){E=!0,u=p,o=h;break}w=w.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function pe(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=pe(r),s!==null)return s;r=r.sibling}return null}var ue=Array.isArray,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Ce=[],gt=-1;function Be(r){return{current:r}}function at(r){0>gt||(r.current=Ce[gt],Ce[gt]=null,gt--)}function Qe(r,s){gt++,Ce[gt]=r.current,r.current=s}var sn=Be(null),Pr=Be(null),Dn=Be(null),vi=Be(null);function Ei(r,s){switch(Qe(Dn,s),Qe(Pr,r),Qe(sn,null),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)&&(s=s.namespaceURI)?iE(s):0;break;default:if(r=r===8?s.parentNode:s,s=r.tagName,r=r.namespaceURI)r=iE(r),s=sE(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}at(sn),Qe(sn,s)}function Vr(){at(sn),at(Pr),at(Dn)}function $o(r){r.memoizedState!==null&&Qe(vi,r);var s=sn.current,o=sE(s,r.type);s!==o&&(Qe(Pr,r),Qe(sn,o))}function xa(r){Pr.current===r&&(at(sn),at(Pr)),vi.current===r&&(at(vi),$l._currentValue=Ie)}var Ia=Object.prototype.hasOwnProperty,Rs=n.unstable_scheduleCallback,Na=n.unstable_cancelCallback,ed=n.unstable_shouldYield,Qo=n.unstable_requestPaint,fn=n.unstable_now,Qu=n.unstable_getCurrentPriorityLevel,St=n.unstable_ImmediatePriority,Mt=n.unstable_UserBlockingPriority,kr=n.unstable_NormalPriority,Yu=n.unstable_LowPriority,Yo=n.unstable_IdlePriority,td=n.log,Cs=n.unstable_setDisableYieldValue,Ti=null,Yt=null;function Xo(r){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Ti,r,void 0,(r.current.flags&128)===128)}catch{}}function lr(r){if(typeof td=="function"&&Cs(r),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Ti,r)}catch{}}var an=Math.clz32?Math.clz32:Wu,Wo=Math.log,Xu=Math.LN2;function Wu(r){return r>>>=0,r===0?32:31-(Wo(r)/Xu|0)|0}var ur=128,wi=4194304;function Yn(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function On(r,s){var o=r.pendingLanes;if(o===0)return 0;var u=0,h=r.suspendedLanes,p=r.pingedLanes,E=r.warmLanes;r=r.finishedLanes!==0;var w=o&134217727;return w!==0?(o=w&~h,o!==0?u=Yn(o):(p&=w,p!==0?u=Yn(p):r||(E=w&~E,E!==0&&(u=Yn(E))))):(w=o&~h,w!==0?u=Yn(w):p!==0?u=Yn(p):r||(E=o&~E,E!==0&&(u=Yn(E)))),u===0?0:s!==0&&s!==u&&!(s&h)&&(h=u&-u,E=s&-s,h>=E||h===32&&(E&4194176)!==0)?s:u}function bi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Da(r,s){switch(r){case 1:case 2:case 4:case 8:return s+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zo(){var r=ur;return ur<<=1,!(ur&4194176)&&(ur=128),r}function Si(){var r=wi;return wi<<=1,!(wi&62914560)&&(wi=4194304),r}function Oa(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function ft(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Zu(r,s,o,u,h,p){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,N=r.expirationTimes,U=r.hiddenUpdates;for(o=E&~o;0<o;){var Z=31-an(o),ne=1<<Z;w[Z]=0,N[Z]=-1;var K=U[Z];if(K!==null)for(U[Z]=null,Z=0;Z<K.length;Z++){var W=K[Z];W!==null&&(W.lane&=-536870913)}o&=~ne}u!==0&&Ai(r,u,0),p!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=p&~(E&~s))}function Ai(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-an(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194218}function Ri(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var u=31-an(o),h=1<<u;h&s|r[u]&s&&(r[u]|=s),o&=~h}}function Ju(r){return r&=-r,2<r?8<r?r&134217727?32:268435456:8:2}function ec(){var r=ce.p;return r!==0?r:(r=window.event,r===void 0?32:bE(r.type))}function Ci(r,s){var o=ce.p;try{return ce.p=r,s()}finally{ce.p=o}}var cr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+cr,At="__reactProps$"+cr,Lr="__reactContainer$"+cr,xs="__reactEvents$"+cr,Ma="__reactListeners$"+cr,fr="__reactHandles$"+cr,Jo="__reactResources$"+cr,xi="__reactMarker$"+cr;function Is(r){delete r[Pt],delete r[At],delete r[xs],delete r[Ma],delete r[fr]}function Xn(r){var s=r[Pt];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Lr]||o[Pt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=lE(r);r!==null;){if(o=r[Pt])return o;r=lE(r)}return s}r=o,o=r.parentNode}return null}function Ur(r){if(r=r[Pt]||r[Lr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Ii(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Ni(r){var s=r[Jo];return s||(s=r[Jo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function tt(r){r[xi]=!0}var el=new Set,Pa={};function vn(r,s){hn(r,s),hn(r+"Capture",s)}function hn(r,s){for(Pa[r]=s,r=0;r<s.length;r++)el.add(s[r])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},nl={};function tc(r){return Ia.call(nl,r)?!0:Ia.call(tl,r)?!1:nd.test(r)?nl[r]=!0:(tl[r]=!0,!1)}function Di(r,s,o){if(tc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Oi(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Mn(r,s,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+u)}}function on(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function nc(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function rd(r){var s=nc(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Ns(r){r._valueTracker||(r._valueTracker=rd(r))}function rl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return r&&(u=nc(r)?r.checked?"true":"false":r.value),r=u,r!==o?(s.setValue(r),!0):!1}function Va(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var jr=/[\n"\\]/g;function ot(r){return r.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Mi(r,s,o,u,h,p,E,w){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+on(s)):r.value!==""+on(s)&&(r.value=""+on(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?ka(r,E,on(s)):o!=null?ka(r,E,on(o)):u!=null&&r.removeAttribute("value"),h==null&&p!=null&&(r.defaultChecked=!!p),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+on(w):r.removeAttribute("name")}function Ds(r,s,o,u,h,p,E,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+on(o):"",s=s!=null?""+on(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function ka(r,s,o){s==="number"&&Va(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function qe(r,s,o,u){if(r=r.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=s.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+on(o),s=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function Os(r,s,o){if(s!=null&&(s=""+on(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+on(o):""}function Pi(r,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ue(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=on(s),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function Pn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var id=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function il(r,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,o):typeof o!="number"||o===0||id.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function rc(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in s)u=s[h],s.hasOwnProperty(h)&&o[h]!==u&&il(r,h,u)}else for(var p in s)s.hasOwnProperty(p)&&il(r,p,s[p])}function sl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ad=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hr(r){return ad.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Vn=null;function La(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zr=null,Br=null;function qr(r){var s=Ur(r);if(s&&(r=s.stateNode)){var o=r[At]||null;e:switch(r=s.stateNode,s.type){case"input":if(Mi(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ot(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==r&&u.form===r.form){var h=u[At]||null;if(!h)throw Error(i(90));Mi(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===r.form&&rl(u)}break e;case"textarea":Os(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&qe(r,!!o.multiple,s,!1)}}}var al=!1;function ic(r,s,o){if(al)return r(s,o);al=!0;try{var u=r(s);return u}finally{if(al=!1,(zr!==null||Br!==null)&&(Yc(),zr&&(s=zr,r=Br,Br=zr=null,qr(s),r)))for(s=0;s<r.length;s++)qr(r[s])}}function Ms(r,s){var o=r.stateNode;if(o===null)return null;var u=o[At]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var kn=!1;if(En)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{kn=!1}var dr=null,Vi=null,Hr=null;function ol(){if(Hr)return Hr;var r,s=Vi,o=s.length,u,h="value"in dr?dr.value:dr.textContent,p=h.length;for(r=0;r<o&&s[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&s[o-u]===h[p-u];u++);return Hr=h.slice(r,1<u?1-u:void 0)}function mr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function ll(){return!1}function Vt(r){function s(o,u,h,p,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?pr:ll,this.isPropagationStopped=ll,this}return O(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ua=Vt(Ke),Vs=O({},Ke,{view:0,detail:0}),sc=Vt(Vs),ja,za,gr,ks=O({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==gr&&(gr&&r.type==="mousemove"?(ja=r.screenX-gr.screenX,za=r.screenY-gr.screenY):za=ja=0,gr=r),ja)},movementY:function(r){return"movementY"in r?r.movementY:za}}),Ln=Vt(ks),ac=O({},ks,{dataTransfer:0}),od=Vt(ac),Ls=O({},Vs,{relatedTarget:0}),Ba=Vt(Ls),ul=O({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=Vt(ul),oc=O({},Ke,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ha=Vt(oc),ld=O({},Ke,{data:0}),cl=Vt(ld),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=uc[r])?!!s[r]:!1}function js(){return fl}var cc=O({},Vs,{key:function(r){if(r.key){var s=Us[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=mr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?lc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:js,charCode:function(r){return r.type==="keypress"?mr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?mr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fa=Vt(cc),fc=O({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=Vt(fc),Fr=O({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:js}),hc=Vt(Fr),dc=O({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),mc=Vt(dc),pc=O({},ks,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=Vt(pc),ln=O({},Ke,{newState:0,oldState:0}),gc=Vt(ln),yc=[9,13,27,32],yr=En&&"CompositionEvent"in window,f=null;En&&"documentMode"in document&&(f=document.documentMode);var y=En&&"TextEvent"in window&&!f,v=En&&(!yr||f&&8<f&&11>=f),S=" ",B=!1;function Q(r,s){switch(r){case"keyup":return yc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Le=!1;function Rt(r,s){switch(r){case"compositionend":return ae(s);case"keypress":return s.which!==32?null:(B=!0,S);case"textInput":return r=s.data,r===S&&B?null:r;default:return null}}function Ue(r,s){if(Le)return r==="compositionend"||!yr&&Q(r,s)?(r=ol(),Hr=Vi=dr=null,Le=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return v&&s.locale!=="ko"?null:s.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!kt[r.type]:s==="textarea"}function Gr(r,s,o,u){zr?Br?Br.push(u):Br=[u]:zr=u,s=ef(s,"onChange"),0<s.length&&(o=new Ua("onChange","change",null,o,u),r.push({event:o,listeners:s}))}var Bt=null,_r=null;function dl(r){Jv(r,0)}function _c(r){var s=Ii(r);if(rl(s))return r}function xy(r,s){if(r==="change")return s}var Iy=!1;if(En){var ud;if(En){var cd="oninput"in document;if(!cd){var Ny=document.createElement("div");Ny.setAttribute("oninput","return;"),cd=typeof Ny.oninput=="function"}ud=cd}else ud=!1;Iy=ud&&(!document.documentMode||9<document.documentMode)}function Dy(){Bt&&(Bt.detachEvent("onpropertychange",Oy),_r=Bt=null)}function Oy(r){if(r.propertyName==="value"&&_c(_r)){var s=[];Gr(s,_r,r,La(r)),ic(dl,s)}}function IA(r,s,o){r==="focusin"?(Dy(),Bt=s,_r=o,Bt.attachEvent("onpropertychange",Oy)):r==="focusout"&&Dy()}function NA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return _c(_r)}function DA(r,s){if(r==="click")return _c(s)}function OA(r,s){if(r==="input"||r==="change")return _c(s)}function MA(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Tn=typeof Object.is=="function"?Object.is:MA;function ml(r,s){if(Tn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!Ia.call(s,h)||!Tn(r[h],s[h]))return!1}return!0}function My(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Py(r,s){var o=My(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=s&&u>=s)return{node:o,offset:s-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=My(o)}}function Vy(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Vy(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ky(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Va(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Va(r.document)}return s}function fd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function PA(r,s){var o=ky(s);s=r.focusedElem;var u=r.selectionRange;if(o!==s&&s&&s.ownerDocument&&Vy(s.ownerDocument.documentElement,s)){if(u!==null&&fd(s)){if(r=u.start,o=u.end,o===void 0&&(o=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(o,s.value.length);else if(o=(r=s.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var h=s.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!o.extend&&p>u&&(h=u,u=p,p=h),h=Py(s,p);var E=Py(s,u);h&&E&&(o.rangeCount!==1||o.anchorNode!==h.node||o.anchorOffset!==h.offset||o.focusNode!==E.node||o.focusOffset!==E.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),o.removeAllRanges(),p>u?(o.addRange(r),o.extend(E.node,E.offset)):(r.setEnd(E.node,E.offset),o.addRange(r)))}}for(r=[],o=s;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)o=r[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var VA=En&&"documentMode"in document&&11>=document.documentMode,Ka=null,hd=null,pl=null,dd=!1;function Ly(r,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dd||Ka==null||Ka!==Va(u)||(u=Ka,"selectionStart"in u&&fd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),pl&&ml(pl,u)||(pl=u,u=ef(hd,"onSelect"),0<u.length&&(s=new Ua("onSelect","select",null,s,o),r.push({event:s,listeners:u}),s.target=Ka)))}function zs(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var $a={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},md={},Uy={};En&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete $a.animationend.animation,delete $a.animationiteration.animation,delete $a.animationstart.animation),"TransitionEvent"in window||delete $a.transitionend.transition);function Bs(r){if(md[r])return md[r];if(!$a[r])return r;var s=$a[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Uy)return md[r]=s[o];return r}var jy=Bs("animationend"),zy=Bs("animationiteration"),By=Bs("animationstart"),kA=Bs("transitionrun"),LA=Bs("transitionstart"),UA=Bs("transitioncancel"),qy=Bs("transitionend"),Hy=new Map,Fy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(r,s){Hy.set(r,s),vn(s,[r])}var Un=[],Qa=0,pd=0;function vc(){for(var r=Qa,s=pd=Qa=0;s<r;){var o=Un[s];Un[s++]=null;var u=Un[s];Un[s++]=null;var h=Un[s];Un[s++]=null;var p=Un[s];if(Un[s++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}p!==0&&Gy(o,h,p)}}function Ec(r,s,o,u){Un[Qa++]=r,Un[Qa++]=s,Un[Qa++]=o,Un[Qa++]=u,pd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function gd(r,s,o,u){return Ec(r,s,o,u),Tc(r)}function ki(r,s){return Ec(r,null,null,s),Tc(r)}function Gy(r,s,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,p=r.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(h=!0)),r=p,p=p.return;h&&s!==null&&r.tag===3&&(p=r.stateNode,h=31-an(o),p=p.hiddenUpdates,r=p[h],r===null?p[h]=[s]:r.push(s),s.lane=o|536870912)}function Tc(r){if(50<zl)throw zl=0,wm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ya={},Ky=new WeakMap;function jn(r,s){if(typeof r=="object"&&r!==null){var o=Ky.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Ee(s)},Ky.set(r,s),s)}return{value:r,source:s,stack:Ee(s)}}var Xa=[],Wa=0,wc=null,bc=0,zn=[],Bn=0,qs=null,Kr=1,$r="";function Hs(r,s){Xa[Wa++]=bc,Xa[Wa++]=wc,wc=r,bc=s}function $y(r,s,o){zn[Bn++]=Kr,zn[Bn++]=$r,zn[Bn++]=qs,qs=r;var u=Kr;r=$r;var h=32-an(u)-1;u&=~(1<<h),o+=1;var p=32-an(s)+h;if(30<p){var E=h-h%5;p=(u&(1<<E)-1).toString(32),u>>=E,h-=E,Kr=1<<32-an(s)+h|o<<h|u,$r=p+r}else Kr=1<<p|o<<h|u,$r=r}function yd(r){r.return!==null&&(Hs(r,1),$y(r,1,0))}function _d(r){for(;r===wc;)wc=Xa[--Wa],Xa[Wa]=null,bc=Xa[--Wa],Xa[Wa]=null;for(;r===qs;)qs=zn[--Bn],zn[Bn]=null,$r=zn[--Bn],zn[Bn]=null,Kr=zn[--Bn],zn[Bn]=null}var un=null,qt=null,He=!1,Zn=null,vr=!1,vd=Error(i(519));function Fs(r){var s=Error(i(418,""));throw _l(jn(s,r)),vd}function Qy(r){var s=r.stateNode,o=r.type,u=r.memoizedProps;switch(s[Pt]=r,s[At]=u,o){case"dialog":Ve("cancel",s),Ve("close",s);break;case"iframe":case"object":case"embed":Ve("load",s);break;case"video":case"audio":for(o=0;o<ql.length;o++)Ve(ql[o],s);break;case"source":Ve("error",s);break;case"img":case"image":case"link":Ve("error",s),Ve("load",s);break;case"details":Ve("toggle",s);break;case"input":Ve("invalid",s),Ds(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ns(s);break;case"select":Ve("invalid",s);break;case"textarea":Ve("invalid",s),Pi(s,u.value,u.defaultValue,u.children),Ns(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||rE(s.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",s),Ve("toggle",s)),u.onScroll!=null&&Ve("scroll",s),u.onScrollEnd!=null&&Ve("scrollend",s),u.onClick!=null&&(s.onclick=tf),s=!0):s=!1,s||Fs(r)}function Yy(r){for(un=r.return;un;)switch(un.tag){case 3:case 27:vr=!0;return;case 5:case 13:vr=!1;return;default:un=un.return}}function gl(r){if(r!==un)return!1;if(!He)return Yy(r),He=!0,!1;var s=!1,o;if((o=r.tag!==3&&r.tag!==27)&&((o=r.tag===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||jm(r.type,r.memoizedProps)),o=!o),o&&(s=!0),s&&qt&&Fs(r),Yy(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){qt=er(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}qt=null}}else qt=un?er(r.stateNode.nextSibling):null;return!0}function yl(){qt=un=null,He=!1}function _l(r){Zn===null?Zn=[r]:Zn.push(r)}var vl=Error(i(460)),Xy=Error(i(474)),Ed={then:function(){}};function Wy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Sc(){}function Zy(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Sc,Sc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===vl?Error(i(483)):r;default:if(typeof s.status=="string")s.then(Sc,Sc);else{if(r=Ze,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=u}},function(u){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,r===vl?Error(i(483)):r}throw El=s,vl}}var El=null;function Jy(){if(El===null)throw Error(i(459));var r=El;return El=null,r}var Za=null,Tl=0;function Ac(r){var s=Tl;return Tl+=1,Za===null&&(Za=[]),Zy(Za,r,s)}function wl(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Rc(r,s){throw s.$$typeof===l?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function e_(r){var s=r._init;return s(r._payload)}function t_(r){function s(z,k){if(r){var F=z.deletions;F===null?(z.deletions=[k],z.flags|=16):F.push(k)}}function o(z,k){if(!r)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function h(z,k){return z=Qi(z,k),z.index=0,z.sibling=null,z}function p(z,k,F){return z.index=F,r?(F=z.alternate,F!==null?(F=F.index,F<k?(z.flags|=33554434,k):F):(z.flags|=33554434,k)):(z.flags|=1048576,k)}function E(z){return r&&z.alternate===null&&(z.flags|=33554434),z}function w(z,k,F,J){return k===null||k.tag!==6?(k=mm(F,z.mode,J),k.return=z,k):(k=h(k,F),k.return=z,k)}function N(z,k,F,J){var he=F.type;return he===m?Z(z,k,F.props.children,J,F.key):k!==null&&(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&e_(he)===k.type)?(k=h(k,F.props),wl(k,F),k.return=z,k):(k=Fc(F.type,F.key,F.props,null,z.mode,J),wl(k,F),k.return=z,k)}function U(z,k,F,J){return k===null||k.tag!==4||k.stateNode.containerInfo!==F.containerInfo||k.stateNode.implementation!==F.implementation?(k=pm(F,z.mode,J),k.return=z,k):(k=h(k,F.children||[]),k.return=z,k)}function Z(z,k,F,J,he){return k===null||k.tag!==7?(k=ea(F,z.mode,J,he),k.return=z,k):(k=h(k,F),k.return=z,k)}function ne(z,k,F){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=mm(""+k,z.mode,F),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case c:return F=Fc(k.type,k.key,k.props,null,z.mode,F),wl(F,k),F.return=z,F;case d:return k=pm(k,z.mode,F),k.return=z,k;case X:var J=k._init;return k=J(k._payload),ne(z,k,F)}if(ue(k)||oe(k))return k=ea(k,z.mode,F,null),k.return=z,k;if(typeof k.then=="function")return ne(z,Ac(k),F);if(k.$$typeof===x)return ne(z,Bc(z,k),F);Rc(z,k)}return null}function K(z,k,F,J){var he=k!==null?k.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return he!==null?null:w(z,k,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case c:return F.key===he?N(z,k,F,J):null;case d:return F.key===he?U(z,k,F,J):null;case X:return he=F._init,F=he(F._payload),K(z,k,F,J)}if(ue(F)||oe(F))return he!==null?null:Z(z,k,F,J,null);if(typeof F.then=="function")return K(z,k,Ac(F),J);if(F.$$typeof===x)return K(z,k,Bc(z,F),J);Rc(z,F)}return null}function W(z,k,F,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(F)||null,w(k,z,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case c:return z=z.get(J.key===null?F:J.key)||null,N(k,z,J,he);case d:return z=z.get(J.key===null?F:J.key)||null,U(k,z,J,he);case X:var De=J._init;return J=De(J._payload),W(z,k,F,J,he)}if(ue(J)||oe(J))return z=z.get(F)||null,Z(k,z,J,he,null);if(typeof J.then=="function")return W(z,k,F,Ac(J),he);if(J.$$typeof===x)return W(z,k,F,Bc(k,J),he);Rc(k,J)}return null}function me(z,k,F,J){for(var he=null,De=null,ge=k,ve=k=0,jt=null;ge!==null&&ve<F.length;ve++){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var Fe=K(z,ge,F[ve],J);if(Fe===null){ge===null&&(ge=jt);break}r&&ge&&Fe.alternate===null&&s(z,ge),k=p(Fe,k,ve),De===null?he=Fe:De.sibling=Fe,De=Fe,ge=jt}if(ve===F.length)return o(z,ge),He&&Hs(z,ve),he;if(ge===null){for(;ve<F.length;ve++)ge=ne(z,F[ve],J),ge!==null&&(k=p(ge,k,ve),De===null?he=ge:De.sibling=ge,De=ge);return He&&Hs(z,ve),he}for(ge=u(ge);ve<F.length;ve++)jt=W(ge,z,ve,F[ve],J),jt!==null&&(r&&jt.alternate!==null&&ge.delete(jt.key===null?ve:jt.key),k=p(jt,k,ve),De===null?he=jt:De.sibling=jt,De=jt);return r&&ge.forEach(function(ts){return s(z,ts)}),He&&Hs(z,ve),he}function Se(z,k,F,J){if(F==null)throw Error(i(151));for(var he=null,De=null,ge=k,ve=k=0,jt=null,Fe=F.next();ge!==null&&!Fe.done;ve++,Fe=F.next()){ge.index>ve?(jt=ge,ge=null):jt=ge.sibling;var ts=K(z,ge,Fe.value,J);if(ts===null){ge===null&&(ge=jt);break}r&&ge&&ts.alternate===null&&s(z,ge),k=p(ts,k,ve),De===null?he=ts:De.sibling=ts,De=ts,ge=jt}if(Fe.done)return o(z,ge),He&&Hs(z,ve),he;if(ge===null){for(;!Fe.done;ve++,Fe=F.next())Fe=ne(z,Fe.value,J),Fe!==null&&(k=p(Fe,k,ve),De===null?he=Fe:De.sibling=Fe,De=Fe);return He&&Hs(z,ve),he}for(ge=u(ge);!Fe.done;ve++,Fe=F.next())Fe=W(ge,z,ve,Fe.value,J),Fe!==null&&(r&&Fe.alternate!==null&&ge.delete(Fe.key===null?ve:Fe.key),k=p(Fe,k,ve),De===null?he=Fe:De.sibling=Fe,De=Fe);return r&&ge.forEach(function(ZR){return s(z,ZR)}),He&&Hs(z,ve),he}function ct(z,k,F,J){if(typeof F=="object"&&F!==null&&F.type===m&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case c:e:{for(var he=F.key;k!==null;){if(k.key===he){if(he=F.type,he===m){if(k.tag===7){o(z,k.sibling),J=h(k,F.props.children),J.return=z,z=J;break e}}else if(k.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===X&&e_(he)===k.type){o(z,k.sibling),J=h(k,F.props),wl(J,F),J.return=z,z=J;break e}o(z,k);break}else s(z,k);k=k.sibling}F.type===m?(J=ea(F.props.children,z.mode,J,F.key),J.return=z,z=J):(J=Fc(F.type,F.key,F.props,null,z.mode,J),wl(J,F),J.return=z,z=J)}return E(z);case d:e:{for(he=F.key;k!==null;){if(k.key===he)if(k.tag===4&&k.stateNode.containerInfo===F.containerInfo&&k.stateNode.implementation===F.implementation){o(z,k.sibling),J=h(k,F.children||[]),J.return=z,z=J;break e}else{o(z,k);break}else s(z,k);k=k.sibling}J=pm(F,z.mode,J),J.return=z,z=J}return E(z);case X:return he=F._init,F=he(F._payload),ct(z,k,F,J)}if(ue(F))return me(z,k,F,J);if(oe(F)){if(he=oe(F),typeof he!="function")throw Error(i(150));return F=he.call(F),Se(z,k,F,J)}if(typeof F.then=="function")return ct(z,k,Ac(F),J);if(F.$$typeof===x)return ct(z,k,Bc(z,F),J);Rc(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,k!==null&&k.tag===6?(o(z,k.sibling),J=h(k,F),J.return=z,z=J):(o(z,k),J=mm(F,z.mode,J),J.return=z,z=J),E(z)):o(z,k)}return function(z,k,F,J){try{Tl=0;var he=ct(z,k,F,J);return Za=null,he}catch(ge){if(ge===vl)throw ge;var De=Gn(29,ge,null,z.mode);return De.lanes=J,De.return=z,De}finally{}}}var Gs=t_(!0),n_=t_(!1),Ja=Be(null),Cc=Be(0);function r_(r,s){r=ii,Qe(Cc,r),Qe(Ja,s),ii=r|s.baseLanes}function Td(){Qe(Cc,ii),Qe(Ja,Ja.current)}function wd(){ii=Cc.current,at(Ja),at(Cc)}var qn=Be(null),Er=null;function Li(r){var s=r.alternate;Qe(xt,xt.current&1),Qe(qn,r),Er===null&&(s===null||Ja.current!==null||s.memoizedState!==null)&&(Er=r)}function i_(r){if(r.tag===22){if(Qe(xt,xt.current),Qe(qn,r),Er===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(Er=r)}}else Ui()}function Ui(){Qe(xt,xt.current),Qe(qn,qn.current)}function Qr(r){at(qn),Er===r&&(Er=null),at(xt)}var xt=Be(0);function xc(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var jA=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},zA=n.unstable_scheduleCallback,BA=n.unstable_NormalPriority,It={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new jA,data:new Map,refCount:0}}function bl(r){r.refCount--,r.refCount===0&&zA(BA,function(){r.controller.abort()})}var Sl=null,Sd=0,eo=0,to=null;function qA(r,s){if(Sl===null){var o=Sl=[];Sd=0,eo=Nm(),to={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Sd++,s.then(s_,s_),s}function s_(){if(--Sd===0&&Sl!==null){to!==null&&(to.status="fulfilled");var r=Sl;Sl=null,eo=0,to=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function HA(r,s){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var a_=A.S;A.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&qA(r,s),a_!==null&&a_(r,s)};var Ks=Be(null);function Ad(){var r=Ks.current;return r!==null?r:Ze.pooledCache}function Ic(r,s){s===null?Qe(Ks,Ks.current):Qe(Ks,s.pool)}function o_(){var r=Ad();return r===null?null:{parent:It._currentValue,pool:r}}var ji=0,Ne=null,Ye=null,yt=null,Nc=!1,no=!1,$s=!1,Dc=0,Al=0,ro=null,FA=0;function ht(){throw Error(i(321))}function Rd(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Tn(r[o],s[o]))return!1;return!0}function Cd(r,s,o,u,h,p){return ji=p,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=r===null||r.memoizedState===null?Qs:zi,$s=!1,p=o(u,h),$s=!1,no&&(p=u_(s,o,u,h)),l_(r),p}function l_(r){A.H=Tr;var s=Ye!==null&&Ye.next!==null;if(ji=0,yt=Ye=Ne=null,Nc=!1,Al=0,ro=null,s)throw Error(i(300));r===null||Lt||(r=r.dependencies,r!==null&&zc(r)&&(Lt=!0))}function u_(r,s,o,u){Ne=r;var h=0;do{if(no&&(ro=null),Al=0,no=!1,25<=h)throw Error(i(301));if(h+=1,yt=Ye=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=Ys,p=s(o,u)}while(no);return p}function GA(){var r=A.H,s=r.useState()[0];return s=typeof s.then=="function"?Rl(s):s,r=r.useState()[0],(Ye!==null?Ye.memoizedState:null)!==r&&(Ne.flags|=1024),s}function xd(){var r=Dc!==0;return Dc=0,r}function Id(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Nd(r){if(Nc){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Nc=!1}ji=0,yt=Ye=Ne=null,no=!1,Al=Dc=0,ro=null}function dn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ne.memoizedState=yt=r:yt=yt.next=r,yt}function _t(){if(Ye===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=Ye.next;var s=yt===null?Ne.memoizedState:yt.next;if(s!==null)yt=s,Ye=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));Ye=r,r={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},yt===null?Ne.memoizedState=yt=r:yt=yt.next=r}return yt}var Oc;Oc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Rl(r){var s=Al;return Al+=1,ro===null&&(ro=[]),r=Zy(ro,r,s),s=Ne,(yt===null?s.memoizedState:yt.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?Qs:zi),r}function Mc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Rl(r);if(r.$$typeof===x)return Xt(r)}throw Error(i(438,String(r)))}function Dd(r){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Oc(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),u=0;u<r;u++)o[u]=se;return s.index++,o}function Yr(r,s){return typeof s=="function"?s(r):s}function Pc(r){var s=_t();return Od(s,Ye,r)}function Od(r,s,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,p=u.pending;if(p!==null){if(h!==null){var E=h.next;h.next=p.next,p.next=E}s.baseQueue=h=p,u.pending=null}if(p=r.baseState,h===null)r.memoizedState=p;else{s=h.next;var w=E=null,N=null,U=s,Z=!1;do{var ne=U.lane&-536870913;if(ne!==U.lane?(je&ne)===ne:(ji&ne)===ne){var K=U.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ne===eo&&(Z=!0);else if((ji&K)===K){U=U.next,K===eo&&(Z=!0);continue}else ne={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(w=N=ne,E=p):N=N.next=ne,Ne.lanes|=K,Yi|=K;ne=U.action,$s&&o(p,ne),p=U.hasEagerState?U.eagerState:o(p,ne)}else K={lane:ne,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},N===null?(w=N=K,E=p):N=N.next=K,Ne.lanes|=ne,Yi|=ne;U=U.next}while(U!==null&&U!==s);if(N===null?E=p:N.next=w,!Tn(p,r.memoizedState)&&(Lt=!0,Z&&(o=to,o!==null)))throw o;r.memoizedState=p,r.baseState=E,r.baseQueue=N,u.lastRenderedState=p}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Md(r){var s=_t(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,p=s.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do p=r(p,E.action),E=E.next;while(E!==h);Tn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function c_(r,s,o){var u=Ne,h=_t(),p=He;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!Tn((Ye||h).memoizedState,o);if(E&&(h.memoizedState=o,Lt=!0),h=h.queue,kd(d_.bind(null,u,h,r),[r]),h.getSnapshot!==s||E||yt!==null&&yt.memoizedState.tag&1){if(u.flags|=2048,io(9,h_.bind(null,u,h,o,s),{destroy:void 0},null),Ze===null)throw Error(i(349));p||ji&60||f_(u,s,o)}return o}function f_(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=Oc(),Ne.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function h_(r,s,o,u){s.value=o,s.getSnapshot=u,m_(s)&&p_(r)}function d_(r,s,o){return o(function(){m_(s)&&p_(r)})}function m_(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Tn(r,o)}catch{return!0}}function p_(r){var s=ki(r,2);s!==null&&cn(s,r,2)}function Pd(r){var s=dn();if(typeof r=="function"){var o=r;if(r=o(),$s){lr(!0);try{o()}finally{lr(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:r},s}function g_(r,s,o,u){return r.baseState=o,Od(r,Ye,typeof u=="function"?u:Yr)}function KA(r,s,o,u,h){if(Lc(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};A.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,y_(s,p)):(p.next=o.next,s.pending=o.next=p)}}function y_(r,s){var o=s.action,u=s.payload,h=r.state;if(s.isTransition){var p=A.T,E={};A.T=E;try{var w=o(h,u),N=A.S;N!==null&&N(E,w),__(r,s,w)}catch(U){Vd(r,s,U)}finally{A.T=p}}else try{p=o(h,u),__(r,s,p)}catch(U){Vd(r,s,U)}}function __(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){v_(r,s,u)},function(u){return Vd(r,s,u)}):v_(r,s,o)}function v_(r,s,o){s.status="fulfilled",s.value=o,E_(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,y_(r,o)))}function Vd(r,s,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,E_(s),s=s.next;while(s!==u)}r.action=null}function E_(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function T_(r,s){return s}function w_(r,s){if(He){var o=Ze.formState;if(o!==null){e:{var u=Ne;if(He){if(qt){t:{for(var h=qt,p=vr;h.nodeType!==8;){if(!p){h=null;break t}if(h=er(h.nextSibling),h===null){h=null;break t}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){qt=er(h.nextSibling),u=h.data==="F!";break e}}Fs(u)}u=!1}u&&(s=o[0])}}return o=dn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:T_,lastRenderedState:s},o.queue=u,o=z_.bind(null,Ne,u),u.dispatch=o,u=Pd(!1),p=Bd.bind(null,Ne,!1,u.queue),u=dn(),h={state:s,dispatch:null,action:r,pending:null},u.queue=h,o=KA.bind(null,Ne,h,p,o),h.dispatch=o,u.memoizedState=r,[s,o,!1]}function b_(r){var s=_t();return S_(s,Ye,r)}function S_(r,s,o){s=Od(r,s,T_)[0],r=Pc(Yr)[0],s=typeof s=="object"&&s!==null&&typeof s.then=="function"?Rl(s):s;var u=_t(),h=u.queue,p=h.dispatch;return o!==u.memoizedState&&(Ne.flags|=2048,io(9,$A.bind(null,h,o),{destroy:void 0},null)),[s,p,r]}function $A(r,s){r.action=s}function A_(r){var s=_t(),o=Ye;if(o!==null)return S_(s,o,r);_t(),s=s.memoizedState,o=_t();var u=o.queue.dispatch;return o.memoizedState=r,[s,u,!1]}function io(r,s,o,u){return r={tag:r,create:s,inst:o,deps:u,next:null},s=Ne.updateQueue,s===null&&(s=Oc(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,s.lastEffect=r),r}function R_(){return _t().memoizedState}function Vc(r,s,o,u){var h=dn();Ne.flags|=r,h.memoizedState=io(1|s,o,{destroy:void 0},u===void 0?null:u)}function kc(r,s,o,u){var h=_t();u=u===void 0?null:u;var p=h.memoizedState.inst;Ye!==null&&u!==null&&Rd(u,Ye.memoizedState.deps)?h.memoizedState=io(s,o,p,u):(Ne.flags|=r,h.memoizedState=io(1|s,o,p,u))}function C_(r,s){Vc(8390656,8,r,s)}function kd(r,s){kc(2048,8,r,s)}function x_(r,s){return kc(4,2,r,s)}function I_(r,s){return kc(4,4,r,s)}function N_(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function D_(r,s,o){o=o!=null?o.concat([r]):null,kc(4,4,N_.bind(null,s,r),o)}function Ld(){}function O_(r,s){var o=_t();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Rd(s,u[1])?u[0]:(o.memoizedState=[r,s],r)}function M_(r,s){var o=_t();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Rd(s,u[1]))return u[0];if(u=r(),$s){lr(!0);try{r()}finally{lr(!1)}}return o.memoizedState=[u,s],u}function Ud(r,s,o){return o===void 0||ji&1073741824?r.memoizedState=s:(r.memoizedState=o,r=Vv(),Ne.lanes|=r,Yi|=r,o)}function P_(r,s,o,u){return Tn(o,s)?o:Ja.current!==null?(r=Ud(r,o,u),Tn(r,s)||(Lt=!0),r):ji&42?(r=Vv(),Ne.lanes|=r,Yi|=r,s):(Lt=!0,r.memoizedState=o)}function V_(r,s,o,u,h){var p=ce.p;ce.p=p!==0&&8>p?p:8;var E=A.T,w={};A.T=w,Bd(r,!1,s,o);try{var N=h(),U=A.S;if(U!==null&&U(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Z=HA(N,u);Cl(r,s,Z,An(r))}else Cl(r,s,u,An(r))}catch(ne){Cl(r,s,{then:function(){},status:"rejected",reason:ne},An())}finally{ce.p=p,A.T=E}}function QA(){}function jd(r,s,o,u){if(r.tag!==5)throw Error(i(476));var h=k_(r).queue;V_(r,h,s,Ie,o===null?QA:function(){return L_(r),o(u)})}function k_(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:Ie},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function L_(r){var s=k_(r).next.queue;Cl(r,s,{},An())}function zd(){return Xt($l)}function U_(){return _t().memoizedState}function j_(){return _t().memoizedState}function YA(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=An();r=Hi(o);var u=Fi(s,r,o);u!==null&&(cn(u,s,o),Nl(u,s,o)),s={cache:bd()},r.payload=s;return}s=s.return}}function XA(r,s,o){var u=An();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Lc(r)?B_(s,o):(o=gd(r,s,o,u),o!==null&&(cn(o,r,u),q_(o,s,u)))}function z_(r,s,o){var u=An();Cl(r,s,o,u)}function Cl(r,s,o,u){var h={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Lc(r))B_(s,h);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,w=p(E,o);if(h.hasEagerState=!0,h.eagerState=w,Tn(w,E))return Ec(r,s,h,0),Ze===null&&vc(),!1}catch{}finally{}if(o=gd(r,s,h,u),o!==null)return cn(o,r,u),q_(o,s,u),!0}return!1}function Bd(r,s,o,u){if(u={lane:2,revertLane:Nm(),action:u,hasEagerState:!1,eagerState:null,next:null},Lc(r)){if(s)throw Error(i(479))}else s=gd(r,o,u,2),s!==null&&cn(s,r,2)}function Lc(r){var s=r.alternate;return r===Ne||s!==null&&s===Ne}function B_(r,s){no=Nc=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function q_(r,s,o){if(o&4194176){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ri(r,o)}}var Tr={readContext:Xt,use:Mc,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht};Tr.useCacheRefresh=ht,Tr.useMemoCache=ht,Tr.useHostTransitionStatus=ht,Tr.useFormState=ht,Tr.useActionState=ht,Tr.useOptimistic=ht;var Qs={readContext:Xt,use:Mc,useCallback:function(r,s){return dn().memoizedState=[r,s===void 0?null:s],r},useContext:Xt,useEffect:C_,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Vc(4194308,4,N_.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Vc(4194308,4,r,s)},useInsertionEffect:function(r,s){Vc(4,2,r,s)},useMemo:function(r,s){var o=dn();s=s===void 0?null:s;var u=r();if($s){lr(!0);try{r()}finally{lr(!1)}}return o.memoizedState=[u,s],u},useReducer:function(r,s,o){var u=dn();if(o!==void 0){var h=o(s);if($s){lr(!0);try{o(s)}finally{lr(!1)}}}else h=s;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=XA.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var s=dn();return r={current:r},s.memoizedState=r},useState:function(r){r=Pd(r);var s=r.queue,o=z_.bind(null,Ne,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Ld,useDeferredValue:function(r,s){var o=dn();return Ud(o,r,s)},useTransition:function(){var r=Pd(!1);return r=V_.bind(null,Ne,r.queue,!0,!1),dn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var u=Ne,h=dn();if(He){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),Ze===null)throw Error(i(349));je&60||f_(u,s,o)}h.memoizedState=o;var p={value:o,getSnapshot:s};return h.queue=p,C_(d_.bind(null,u,p,r),[r]),u.flags|=2048,io(9,h_.bind(null,u,p,o,s),{destroy:void 0},null),o},useId:function(){var r=dn(),s=Ze.identifierPrefix;if(He){var o=$r,u=Kr;o=(u&~(1<<32-an(u)-1)).toString(32)+o,s=":"+s+"R"+o,o=Dc++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=FA++,s=":"+s+"r"+o.toString(32)+":";return r.memoizedState=s},useCacheRefresh:function(){return dn().memoizedState=YA.bind(null,Ne)}};Qs.useMemoCache=Dd,Qs.useHostTransitionStatus=zd,Qs.useFormState=w_,Qs.useActionState=w_,Qs.useOptimistic=function(r){var s=dn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Bd.bind(null,Ne,!0,o),o.dispatch=s,[r,s]};var zi={readContext:Xt,use:Mc,useCallback:O_,useContext:Xt,useEffect:kd,useImperativeHandle:D_,useInsertionEffect:x_,useLayoutEffect:I_,useMemo:M_,useReducer:Pc,useRef:R_,useState:function(){return Pc(Yr)},useDebugValue:Ld,useDeferredValue:function(r,s){var o=_t();return P_(o,Ye.memoizedState,r,s)},useTransition:function(){var r=Pc(Yr)[0],s=_t().memoizedState;return[typeof r=="boolean"?r:Rl(r),s]},useSyncExternalStore:c_,useId:U_};zi.useCacheRefresh=j_,zi.useMemoCache=Dd,zi.useHostTransitionStatus=zd,zi.useFormState=b_,zi.useActionState=b_,zi.useOptimistic=function(r,s){var o=_t();return g_(o,Ye,r,s)};var Ys={readContext:Xt,use:Mc,useCallback:O_,useContext:Xt,useEffect:kd,useImperativeHandle:D_,useInsertionEffect:x_,useLayoutEffect:I_,useMemo:M_,useReducer:Md,useRef:R_,useState:function(){return Md(Yr)},useDebugValue:Ld,useDeferredValue:function(r,s){var o=_t();return Ye===null?Ud(o,r,s):P_(o,Ye.memoizedState,r,s)},useTransition:function(){var r=Md(Yr)[0],s=_t().memoizedState;return[typeof r=="boolean"?r:Rl(r),s]},useSyncExternalStore:c_,useId:U_};Ys.useCacheRefresh=j_,Ys.useMemoCache=Dd,Ys.useHostTransitionStatus=zd,Ys.useFormState=A_,Ys.useActionState=A_,Ys.useOptimistic=function(r,s){var o=_t();return Ye!==null?g_(o,Ye,r,s):(o.baseState=r,[r,o.queue.dispatch])};function qd(r,s,o,u){s=r.memoizedState,o=o(u,s),o=o==null?s:O({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hd={isMounted:function(r){return(r=r._reactInternals)?ye(r)===r:!1},enqueueSetState:function(r,s,o){r=r._reactInternals;var u=An(),h=Hi(u);h.payload=s,o!=null&&(h.callback=o),s=Fi(r,h,u),s!==null&&(cn(s,r,u),Nl(s,r,u))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var u=An(),h=Hi(u);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=Fi(r,h,u),s!==null&&(cn(s,r,u),Nl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=An(),u=Hi(o);u.tag=2,s!=null&&(u.callback=s),s=Fi(r,u,o),s!==null&&(cn(s,r,o),Nl(s,r,o))}};function H_(r,s,o,u,h,p,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!ml(o,u)||!ml(h,p):!0}function F_(r,s,o,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==r&&Hd.enqueueReplaceState(s,s.state,null)}function Xs(r,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(r=r.defaultProps){o===s&&(o=O({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}var Uc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function G_(r){Uc(r)}function K_(r){console.error(r)}function $_(r){Uc(r)}function jc(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Q_(r,s,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fd(r,s,o){return o=Hi(o),o.tag=3,o.payload={element:null},o.callback=function(){jc(r,s)},o}function Y_(r){return r=Hi(r),r.tag=3,r}function X_(r,s,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var p=u.value;r.payload=function(){return h(p)},r.callback=function(){Q_(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Q_(s,o,u),typeof h!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function WA(r,s,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Il(s,o,h,!0),o=qn.current,o!==null){switch(o.tag){case 13:return Er===null?Am():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Cm(r,u,h)),!1;case 22:return o.flags|=65536,u===Ed?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Cm(r,u,h)),!1}throw Error(i(435,o.tag))}return Cm(r,u,h),Am(),!1}if(He)return s=qn.current,s!==null?(!(s.flags&65536)&&(s.flags|=256),s.flags|=65536,s.lanes=h,u!==vd&&(r=Error(i(422),{cause:u}),_l(jn(r,o)))):(u!==vd&&(s=Error(i(423),{cause:u}),_l(jn(s,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=jn(u,o),h=Fd(r.stateNode,u,h),sm(r,h),ut!==4&&(ut=2)),!1;var p=Error(i(520),{cause:u});if(p=jn(p,o),Ul===null?Ul=[p]:Ul.push(p),ut!==4&&(ut=2),s===null)return!0;u=jn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Fd(o.stateNode,u,r),sm(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Xi===null||!Xi.has(p))))return o.flags|=65536,h&=-h,o.lanes|=h,h=Y_(h),X_(h,r,o,u),sm(o,h),!1}o=o.return}while(o!==null);return!1}var W_=Error(i(461)),Lt=!1;function Ht(r,s,o,u){s.child=r===null?n_(s,null,o,u):Gs(s,r.child,o,u)}function Z_(r,s,o,u,h){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return Zs(s),u=Cd(r,s,o,E,p,h),w=xd(),r!==null&&!Lt?(Id(r,s,h),Xr(r,s,h)):(He&&w&&yd(s),s.flags|=1,Ht(r,s,u,h),s.child)}function J_(r,s,o,u,h){if(r===null){var p=o.type;return typeof p=="function"&&!dm(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,ev(r,s,p,u,h)):(r=Fc(o.type,null,u,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Jd(r,h)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:ml,o(E,u)&&r.ref===s.ref)return Xr(r,s,h)}return s.flags|=1,r=Qi(p,u),r.ref=s.ref,r.return=s,s.child=r}function ev(r,s,o,u,h){if(r!==null){var p=r.memoizedProps;if(ml(p,u)&&r.ref===s.ref)if(Lt=!1,s.pendingProps=u=p,Jd(r,h))r.flags&131072&&(Lt=!0);else return s.lanes=r.lanes,Xr(r,s,h)}return Gd(r,s,o,u,h)}function tv(r,s,o){var u=s.pendingProps,h=u.children,p=(s.stateNode._pendingVisibility&2)!==0,E=r!==null?r.memoizedState:null;if(xl(r,s),u.mode==="hidden"||p){if(s.flags&128){if(u=E!==null?E.baseLanes|o:o,r!==null){for(h=s.child=r.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return nv(r,s,u,o)}if(o&536870912)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Ic(s,E!==null?E.cachePool:null),E!==null?r_(s,E):Td(),i_(s);else return s.lanes=s.childLanes=536870912,nv(r,s,E!==null?E.baseLanes|o:o,o)}else E!==null?(Ic(s,E.cachePool),r_(s,E),Ui(),s.memoizedState=null):(r!==null&&Ic(s,null),Td(),Ui());return Ht(r,s,h,o),s.child}function nv(r,s,o,u){var h=Ad();return h=h===null?null:{parent:It._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},r!==null&&Ic(s,null),Td(),i_(s),r!==null&&Il(r,s,u,!0),null}function xl(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=2097664);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=2097664)}}function Gd(r,s,o,u,h){return Zs(s),o=Cd(r,s,o,u,void 0,h),u=xd(),r!==null&&!Lt?(Id(r,s,h),Xr(r,s,h)):(He&&u&&yd(s),s.flags|=1,Ht(r,s,o,h),s.child)}function rv(r,s,o,u,h,p){return Zs(s),s.updateQueue=null,o=u_(s,u,o,h),l_(r),u=xd(),r!==null&&!Lt?(Id(r,s,p),Xr(r,s,p)):(He&&u&&yd(s),s.flags|=1,Ht(r,s,o,p),s.child)}function iv(r,s,o,u,h){if(Zs(s),s.stateNode===null){var p=Ya,E=o.contextType;typeof E=="object"&&E!==null&&(p=Xt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},rm(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Xt(E):Ya,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(qd(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Hd.enqueueReplaceState(p,p.state,null),Ol(s,u,p,h),Dl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){p=s.stateNode;var w=s.memoizedProps,N=Xs(o,w);p.props=N;var U=p.context,Z=o.contextType;E=Ya,typeof Z=="object"&&Z!==null&&(E=Xt(Z));var ne=o.getDerivedStateFromProps;Z=typeof ne=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||U!==E)&&F_(s,p,u,E),qi=!1;var K=s.memoizedState;p.state=K,Ol(s,u,p,h),Dl(),U=s.memoizedState,w||K!==U||qi?(typeof ne=="function"&&(qd(s,o,ne,u),U=s.memoizedState),(N=qi||H_(s,o,N,u,K,U,E))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=U),p.props=u,p.state=U,p.context=E,u=N):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,im(r,s),E=s.memoizedProps,Z=Xs(o,E),p.props=Z,ne=s.pendingProps,K=p.context,U=o.contextType,N=Ya,typeof U=="object"&&U!==null&&(N=Xt(U)),w=o.getDerivedStateFromProps,(U=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==ne||K!==N)&&F_(s,p,u,N),qi=!1,K=s.memoizedState,p.state=K,Ol(s,u,p,h),Dl();var W=s.memoizedState;E!==ne||K!==W||qi||r!==null&&r.dependencies!==null&&zc(r.dependencies)?(typeof w=="function"&&(qd(s,o,w,u),W=s.memoizedState),(Z=qi||H_(s,o,Z,u,K,W,N)||r!==null&&r.dependencies!==null&&zc(r.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,N)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),p.props=u,p.state=W,p.context=N,u=Z):(typeof p.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(s.flags|=1024),u=!1)}return p=u,xl(r,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&u?(s.child=Gs(s,r.child,null,h),s.child=Gs(s,null,o,h)):Ht(r,s,o,h),s.memoizedState=p.state,r=s.child):r=Xr(r,s,h),r}function sv(r,s,o,u){return yl(),s.flags|=256,Ht(r,s,o,u),s.child}var Kd={dehydrated:null,treeContext:null,retryLane:0};function $d(r){return{baseLanes:r,cachePool:o_()}}function Qd(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Kn),r}function av(r,s,o){var u=s.pendingProps,h=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=r!==null&&r.memoizedState===null?!1:(xt.current&2)!==0),E&&(h=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(He){if(h?Li(s):Ui(),He){var w=qt,N;if(N=w){e:{for(N=w,w=vr;N.nodeType!==8;){if(!w){w=null;break e}if(N=er(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(s.memoizedState={dehydrated:w,treeContext:qs!==null?{id:Kr,overflow:$r}:null,retryLane:536870912},N=Gn(18,null,null,0),N.stateNode=w,N.return=s,s.child=N,un=s,qt=null,N=!0):N=!1}N||Fs(s)}if(w=s.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?s.lanes=16:s.lanes=536870912,null;Qr(s)}return w=u.children,u=u.fallback,h?(Ui(),h=s.mode,w=Xd({mode:"hidden",children:w},h),u=ea(u,h,o,null),w.return=s,u.return=s,w.sibling=u,s.child=w,h=s.child,h.memoizedState=$d(o),h.childLanes=Qd(r,E,o),s.memoizedState=Kd,u):(Li(s),Yd(s,w))}if(N=r.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(p)s.flags&256?(Li(s),s.flags&=-257,s=Wd(r,s,o)):s.memoizedState!==null?(Ui(),s.child=r.child,s.flags|=128,s=null):(Ui(),h=u.fallback,w=s.mode,u=Xd({mode:"visible",children:u.children},w),h=ea(h,w,o,null),h.flags|=2,u.return=s,h.return=s,u.sibling=h,s.child=u,Gs(s,r.child,null,o),u=s.child,u.memoizedState=$d(o),u.childLanes=Qd(r,E,o),s.memoizedState=Kd,s=h);else if(Li(s),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var U=E.dgst;E=U,u=Error(i(419)),u.stack="",u.digest=E,_l({value:u,source:null,stack:null}),s=Wd(r,s,o)}else if(Lt||Il(r,s,o,!1),E=(o&r.childLanes)!==0,Lt||E){if(E=Ze,E!==null){if(u=o&-o,u&42)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=u&(E.suspendedLanes|o)?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,ki(r,u),cn(E,r,u),W_}w.data==="$?"||Am(),s=Wd(r,s,o)}else w.data==="$?"?(s.flags|=128,s.child=r.child,s=hR.bind(null,r),w._reactRetry=s,s=null):(r=N.treeContext,qt=er(w.nextSibling),un=s,He=!0,Zn=null,vr=!1,r!==null&&(zn[Bn++]=Kr,zn[Bn++]=$r,zn[Bn++]=qs,Kr=r.id,$r=r.overflow,qs=s),s=Yd(s,u.children),s.flags|=4096);return s}return h?(Ui(),h=u.fallback,w=s.mode,N=r.child,U=N.sibling,u=Qi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,U!==null?h=Qi(U,h):(h=ea(h,w,o,null),h.flags|=2),h.return=s,u.return=s,u.sibling=h,s.child=u,u=h,h=s.child,w=r.child.memoizedState,w===null?w=$d(o):(N=w.cachePool,N!==null?(U=It._currentValue,N=N.parent!==U?{parent:U,pool:U}:N):N=o_(),w={baseLanes:w.baseLanes|o,cachePool:N}),h.memoizedState=w,h.childLanes=Qd(r,E,o),s.memoizedState=Kd,u):(Li(s),o=r.child,r=o.sibling,o=Qi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function Yd(r,s){return s=Xd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Xd(r,s){return Ov(r,s,0,null)}function Wd(r,s,o){return Gs(s,r.child,null,o),r=Yd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ov(r,s,o){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),tm(r.return,s,o)}function Zd(r,s,o,u,h){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function lv(r,s,o){var u=s.pendingProps,h=u.revealOrder,p=u.tail;if(Ht(r,s,u.children,o),u=xt.current,u&2)u=u&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ov(r,o,s);else if(r.tag===19)ov(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(Qe(xt,u),h){case"forwards":for(o=s.child,h=null;o!==null;)r=o.alternate,r!==null&&xc(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),Zd(s,!1,h,o,p);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&xc(r)===null){s.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Zd(s,!0,o,null,p);break;case"together":Zd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Xr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),Yi|=s.lanes,!(o&s.childLanes))if(r!==null){if(Il(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Qi(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Qi(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Jd(r,s){return r.lanes&s?!0:(r=r.dependencies,!!(r!==null&&zc(r)))}function ZA(r,s,o){switch(s.tag){case 3:Ei(s,s.stateNode.containerInfo),Bi(s,It,r.memoizedState.cache),yl();break;case 27:case 5:$o(s);break;case 4:Ei(s,s.stateNode.containerInfo);break;case 10:Bi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Li(s),s.flags|=128,null):o&s.child.childLanes?av(r,s,o):(Li(s),r=Xr(r,s,o),r!==null?r.sibling:null);Li(s);break;case 19:var h=(r.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Il(r,s,o,!1),u=(o&s.childLanes)!==0),h){if(u)return lv(r,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(xt,xt.current),u)break;return null;case 22:case 23:return s.lanes=0,tv(r,s,o);case 24:Bi(s,It,r.memoizedState.cache)}return Xr(r,s,o)}function uv(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Lt=!0;else{if(!Jd(r,o)&&!(s.flags&128))return Lt=!1,ZA(r,s,o);Lt=!!(r.flags&131072)}else Lt=!1,He&&s.flags&1048576&&$y(s,bc,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,h=u._init;if(u=h(u._payload),s.type=u,typeof u=="function")dm(u)?(r=Xs(u,r),s.tag=1,s=iv(null,s,u,r,o)):(s.tag=0,s=Gd(null,s,u,r,o));else{if(u!=null){if(h=u.$$typeof,h===I){s.tag=11,s=Z_(null,s,u,r,o);break e}else if(h===G){s.tag=14,s=J_(null,s,u,r,o);break e}}throw s=R(u)||u,Error(i(306,s,""))}}return s;case 0:return Gd(r,s,s.type,s.pendingProps,o);case 1:return u=s.type,h=Xs(u,s.pendingProps),iv(r,s,u,h,o);case 3:e:{if(Ei(s,s.stateNode.containerInfo),r===null)throw Error(i(387));var p=s.pendingProps;h=s.memoizedState,u=h.element,im(r,s),Ol(s,p,null,o);var E=s.memoizedState;if(p=E.cache,Bi(s,It,p),p!==h.cache&&nm(s,[It],o,!0),Dl(),p=E.element,h.isDehydrated)if(h={element:p,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=h,s.memoizedState=h,s.flags&256){s=sv(r,s,p,o);break e}else if(p!==u){u=jn(Error(i(424)),s),_l(u),s=sv(r,s,p,o);break e}else for(qt=er(s.stateNode.containerInfo.firstChild),un=s,He=!0,Zn=null,vr=!0,o=n_(s,null,p,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(yl(),p===u){s=Xr(r,s,o);break e}Ht(r,s,p,o)}s=s.child}return s;case 26:return xl(r,s),r===null?(o=hE(s.type,null,s.pendingProps,null))?s.memoizedState=o:He||(o=s.type,r=s.pendingProps,u=nf(Dn.current).createElement(o),u[Pt]=s,u[At]=r,Ft(u,o,r),tt(u),s.stateNode=u):s.memoizedState=hE(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return $o(s),r===null&&He&&(u=s.stateNode=uE(s.type,s.pendingProps,Dn.current),un=s,vr=!0,qt=er(u.firstChild)),u=s.pendingProps.children,r!==null||He?Ht(r,s,u,o):s.child=Gs(s,null,u,o),xl(r,s),s.child;case 5:return r===null&&He&&((h=u=qt)&&(u=xR(u,s.type,s.pendingProps,vr),u!==null?(s.stateNode=u,un=s,qt=er(u.firstChild),vr=!1,h=!0):h=!1),h||Fs(s)),$o(s),h=s.type,p=s.pendingProps,E=r!==null?r.memoizedProps:null,u=p.children,jm(h,p)?u=null:E!==null&&jm(h,E)&&(s.flags|=32),s.memoizedState!==null&&(h=Cd(r,s,GA,null,null,o),$l._currentValue=h),xl(r,s),Ht(r,s,u,o),s.child;case 6:return r===null&&He&&((r=o=qt)&&(o=IR(o,s.pendingProps,vr),o!==null?(s.stateNode=o,un=s,qt=null,r=!0):r=!1),r||Fs(s)),null;case 13:return av(r,s,o);case 4:return Ei(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Gs(s,null,u,o):Ht(r,s,u,o),s.child;case 11:return Z_(r,s,s.type,s.pendingProps,o);case 7:return Ht(r,s,s.pendingProps,o),s.child;case 8:return Ht(r,s,s.pendingProps.children,o),s.child;case 12:return Ht(r,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Bi(s,s.type,u.value),Ht(r,s,u.children,o),s.child;case 9:return h=s.type._context,u=s.pendingProps.children,Zs(s),h=Xt(h),u=u(h),s.flags|=1,Ht(r,s,u,o),s.child;case 14:return J_(r,s,s.type,s.pendingProps,o);case 15:return ev(r,s,s.type,s.pendingProps,o);case 19:return lv(r,s,o);case 22:return tv(r,s,o);case 24:return Zs(s),u=Xt(It),r===null?(h=Ad(),h===null&&(h=Ze,p=bd(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=o),h=p),s.memoizedState={parent:u,cache:h},rm(s),Bi(s,It,h)):(r.lanes&o&&(im(r,s),Ol(s,null,null,o),Dl()),h=r.memoizedState,p=s.memoizedState,h.parent!==u?(h={parent:u,cache:u},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Bi(s,It,u)):(u=p.cache,Bi(s,It,u),u!==h.cache&&nm(s,[It],o,!0))),Ht(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}var em=Be(null),Ws=null,Wr=null;function Bi(r,s,o){Qe(em,s._currentValue),s._currentValue=o}function Zr(r){r._currentValue=em.current,at(em)}function tm(r,s,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===o)break;r=r.return}}function nm(r,s,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var p=h.dependencies;if(p!==null){var E=h.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=h;for(var N=0;N<s.length;N++)if(w.context===s[N]){p.lanes|=o,w=p.alternate,w!==null&&(w.lanes|=o),tm(p.return,o,r),u||(E=null);break e}p=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),tm(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Il(r,s,o,u){r=null;for(var h=s,p=!1;h!==null;){if(!p){if(h.flags&524288)p=!0;else if(h.flags&262144)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var w=h.type;Tn(h.pendingProps.value,E.value)||(r!==null?r.push(w):r=[w])}}else if(h===vi.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push($l):r=[$l])}h=h.return}r!==null&&nm(s,r,o,u),s.flags|=262144}function zc(r){for(r=r.firstContext;r!==null;){if(!Tn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Zs(r){Ws=r,Wr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Xt(r){return cv(Ws,r)}function Bc(r,s){return Ws===null&&Zs(r),cv(r,s)}function cv(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wr===null){if(r===null)throw Error(i(308));Wr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Wr=Wr.next=s;return o}var qi=!1;function rm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function im(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Hi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Fi(r,s,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,rt&2){var h=u.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),u.pending=s,s=Tc(r),Gy(r,null,o),s}return Ec(r,u,s,o),Tc(r)}function Nl(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194176)!==0)){var u=s.lanes;u&=r.pendingLanes,o|=u,s.lanes=o,Ri(r,o)}}function sm(r,s){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?h=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?h=p=s:p=p.next=s}else h=p=s;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var am=!1;function Dl(){if(am){var r=to;if(r!==null)throw r}}function Ol(r,s,o,u){am=!1;var h=r.updateQueue;qi=!1;var p=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var N=w,U=N.next;N.next=null,E===null?p=U:E.next=U,E=N;var Z=r.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==E&&(w===null?Z.firstBaseUpdate=U:w.next=U,Z.lastBaseUpdate=N))}if(p!==null){var ne=h.baseState;E=0,Z=U=N=null,w=p;do{var K=w.lane&-536870913,W=K!==w.lane;if(W?(je&K)===K:(u&K)===K){K!==0&&K===eo&&(am=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=r,Se=w;K=s;var ct=o;switch(Se.tag){case 1:if(me=Se.payload,typeof me=="function"){ne=me.call(ct,ne,K);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Se.payload,K=typeof me=="function"?me.call(ct,ne,K):me,K==null)break e;ne=O({},ne,K);break e;case 2:qi=!0}}K=w.callback,K!==null&&(r.flags|=64,W&&(r.flags|=8192),W=h.callbacks,W===null?h.callbacks=[K]:W.push(K))}else W={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(U=Z=W,N=ne):Z=Z.next=W,E|=K;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;W=w,w=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);Z===null&&(N=ne),h.baseState=N,h.firstBaseUpdate=U,h.lastBaseUpdate=Z,p===null&&(h.shared.lanes=0),Yi|=E,r.lanes=E,r.memoizedState=ne}}function fv(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function hv(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)fv(o[r],s)}function Ml(r,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==h)}}catch(w){We(s,s.return,w)}}function Gi(r,s,o){try{var u=s.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var p=h.next;u=p;do{if((u.tag&r)===r){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=s;var N=o;try{w()}catch(U){We(h,N,U)}}}u=u.next}while(u!==p)}}catch(U){We(s,s.return,U)}}function dv(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{hv(s,o)}catch(u){We(r,r.return,u)}}}function mv(r,s,o){o.props=Xs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){We(r,s,u)}}function Js(r,s){try{var o=r.ref;if(o!==null){var u=r.stateNode;switch(r.tag){case 26:case 27:case 5:var h=u;break;default:h=u}typeof o=="function"?r.refCleanup=o(h):o.current=h}}catch(p){We(r,s,p)}}function wn(r,s){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){We(r,s,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){We(r,s,h)}else o.current=null}function pv(r){var s=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){We(r,r.return,h)}}function gv(r,s,o){try{var u=r.stateNode;bR(u,r.type,o,s),u[At]=s}catch(h){We(r,r.return,h)}}function yv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27||r.tag===4}function om(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==27&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function lm(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(r,s):o.insertBefore(r,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(r,o)):(s=o,s.appendChild(r)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=tf));else if(u!==4&&u!==27&&(r=r.child,r!==null))for(lm(r,s,o),r=r.sibling;r!==null;)lm(r,s,o),r=r.sibling}function qc(r,s,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(u!==4&&u!==27&&(r=r.child,r!==null))for(qc(r,s,o),r=r.sibling;r!==null;)qc(r,s,o),r=r.sibling}var Jr=!1,lt=!1,um=!1,_v=typeof WeakSet=="function"?WeakSet:Set,Ut=null,vv=!1;function JA(r,s){if(r=r.containerInfo,Lm=uf,r=ky(r),fd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,w=-1,N=-1,U=0,Z=0,ne=r,K=null;t:for(;;){for(var W;ne!==o||h!==0&&ne.nodeType!==3||(w=E+h),ne!==p||u!==0&&ne.nodeType!==3||(N=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(W=ne.firstChild)!==null;)K=ne,ne=W;for(;;){if(ne===r)break t;if(K===o&&++U===h&&(w=E),K===p&&++Z===u&&(N=E),(W=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=W}o=w===-1||N===-1?null:{start:w,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Um={focusedElem:r,selectionRange:o},uf=!1,Ut=s;Ut!==null;)if(s=Ut,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Ut=r;else for(;Ut!==null;){switch(s=Ut,p=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if(r&1024&&p!==null){r=void 0,o=s,h=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var me=Xs(o.type,h,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(me,p),u.__reactInternalSnapshotBeforeUpdate=r}catch(Se){We(o,o.return,Se)}}break;case 3:if(r&1024){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)qm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(r&1024)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Ut=r;break}Ut=s.return}return me=vv,vv=!1,me}function Ev(r,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ti(r,o),u&4&&Ml(5,o);break;case 1:if(ti(r,o),u&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(w){We(o,o.return,w)}else{var h=Xs(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(h,s,r.__reactInternalSnapshotBeforeUpdate)}catch(w){We(o,o.return,w)}}u&64&&dv(o),u&512&&Js(o,o.return);break;case 3:if(ti(r,o),u&64&&(u=o.updateQueue,u!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{hv(u,r)}catch(w){We(o,o.return,w)}}break;case 26:ti(r,o),u&512&&Js(o,o.return);break;case 27:case 5:ti(r,o),s===null&&u&4&&pv(o),u&512&&Js(o,o.return);break;case 12:ti(r,o);break;case 13:ti(r,o),u&4&&bv(r,o);break;case 22:if(h=o.memoizedState!==null||Jr,!h){s=s!==null&&s.memoizedState!==null||lt;var p=Jr,E=lt;Jr=h,(lt=s)&&!E?Ki(r,o,(o.subtreeFlags&8772)!==0):ti(r,o),Jr=p,lt=E}u&512&&(o.memoizedProps.mode==="manual"?Js(o,o.return):wn(o,o.return));break;default:ti(r,o)}}function Tv(r){var s=r.alternate;s!==null&&(r.alternate=null,Tv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&Is(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var vt=null,bn=!1;function ei(r,s,o){for(o=o.child;o!==null;)wv(r,s,o),o=o.sibling}function wv(r,s,o){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Ti,o)}catch{}switch(o.tag){case 26:lt||wn(o,s),ei(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:lt||wn(o,s);var u=vt,h=bn;for(vt=o.stateNode,ei(r,s,o),o=o.stateNode,s=o.attributes;s.length;)o.removeAttributeNode(s[0]);Is(o),vt=u,bn=h;break;case 5:lt||wn(o,s);case 6:h=vt;var p=bn;if(vt=null,ei(r,s,o),vt=h,bn=p,vt!==null)if(bn)try{r=vt,u=o.stateNode,r.nodeType===8?r.parentNode.removeChild(u):r.removeChild(u)}catch(E){We(o,s,E)}else try{vt.removeChild(o.stateNode)}catch(E){We(o,s,E)}break;case 18:vt!==null&&(bn?(s=vt,o=o.stateNode,s.nodeType===8?Bm(s.parentNode,o):s.nodeType===1&&Bm(s,o),Wl(s)):Bm(vt,o.stateNode));break;case 4:u=vt,h=bn,vt=o.stateNode.containerInfo,bn=!0,ei(r,s,o),vt=u,bn=h;break;case 0:case 11:case 14:case 15:lt||Gi(2,o,s),lt||Gi(4,o,s),ei(r,s,o);break;case 1:lt||(wn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&mv(o,s,u)),ei(r,s,o);break;case 21:ei(r,s,o);break;case 22:lt||wn(o,s),lt=(u=lt)||o.memoizedState!==null,ei(r,s,o),lt=u;break;default:ei(r,s,o)}}function bv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Wl(r)}catch(o){We(s,s.return,o)}}function eR(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new _v),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new _v),s;default:throw Error(i(435,r.tag))}}function cm(r,s){var o=eR(r);s.forEach(function(u){var h=dR.bind(null,r,u);o.has(u)||(o.add(u),u.then(h,h))})}function Hn(r,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],p=r,E=s,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:vt=w.stateNode,bn=!1;break e;case 3:vt=w.stateNode.containerInfo,bn=!0;break e;case 4:vt=w.stateNode.containerInfo,bn=!0;break e}w=w.return}if(vt===null)throw Error(i(160));wv(p,E,h),vt=null,bn=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Sv(s,r),s=s.sibling}var Jn=null;function Sv(r,s){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Hn(s,r),Fn(r),u&4&&(Gi(3,r,r.return),Ml(3,r),Gi(5,r,r.return));break;case 1:Hn(s,r),Fn(r),u&512&&(lt||o===null||wn(o,o.return)),u&64&&Jr&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=Jn;if(Hn(s,r),Fn(r),u&512&&(lt||o===null||wn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":p=h.getElementsByTagName("title")[0],(!p||p[xi]||p[Pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(u),h.head.insertBefore(p,h.querySelector("head > title"))),Ft(p,u,o),p[Pt]=r,tt(p),u=p;break e;case"link":var E=pE("link","href",h).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(p=E[w],p.getAttribute("href")===(o.href==null?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}p=h.createElement(u),Ft(p,u,o),h.head.appendChild(p);break;case"meta":if(E=pE("meta","content",h).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(p=E[w],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}p=h.createElement(u),Ft(p,u,o),h.head.appendChild(p);break;default:throw Error(i(468,u))}p[Pt]=r,tt(p),u=p}r.stateNode=u}else gE(h,r.type,r.stateNode);else r.stateNode=mE(h,u,r.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?gE(h,r.type,r.stateNode):mE(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&gv(r,r.memoizedProps,o.memoizedProps)}break;case 27:if(u&4&&r.alternate===null){h=r.stateNode,p=r.memoizedProps;try{for(var N=h.firstChild;N;){var U=N.nextSibling,Z=N.nodeName;N[xi]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&N.rel.toLowerCase()==="stylesheet"||h.removeChild(N),N=U}for(var ne=r.type,K=h.attributes;K.length;)h.removeAttributeNode(K[0]);Ft(h,ne,p),h[Pt]=r,h[At]=p}catch(me){We(r,r.return,me)}}case 5:if(Hn(s,r),Fn(r),u&512&&(lt||o===null||wn(o,o.return)),r.flags&32){h=r.stateNode;try{Pn(h,"")}catch(me){We(r,r.return,me)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,gv(r,h,o!==null?o.memoizedProps:h)),u&1024&&(um=!0);break;case 6:if(Hn(s,r),Fn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(me){We(r,r.return,me)}}break;case 3:if(af=null,h=Jn,Jn=rf(s.containerInfo),Hn(s,r),Jn=h,Fn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Wl(s.containerInfo)}catch(me){We(r,r.return,me)}um&&(um=!1,Av(r));break;case 4:u=Jn,Jn=rf(r.stateNode.containerInfo),Hn(s,r),Fn(r),Jn=u;break;case 12:Hn(s,r),Fn(r);break;case 13:Hn(s,r),Fn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(vm=fn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,cm(r,u)));break;case 22:if(u&512&&(lt||o===null||wn(o,o.return)),N=r.memoizedState!==null,U=o!==null&&o.memoizedState!==null,Z=Jr,ne=lt,Jr=Z||N,lt=ne||U,Hn(s,r),lt=ne,Jr=Z,Fn(r),s=r.stateNode,s._current=r,s._visibility&=-3,s._visibility|=s._pendingVisibility&2,u&8192&&(s._visibility=N?s._visibility&-2:s._visibility|1,N&&(s=Jr||lt,o===null||U||s||so(r)),r.memoizedProps===null||r.memoizedProps.mode!=="manual"))e:for(o=null,s=r;;){if(s.tag===5||s.tag===26||s.tag===27){if(o===null){U=o=s;try{if(h=U.stateNode,N)p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=U.stateNode,w=U.memoizedProps.style;var W=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=W==null||typeof W=="boolean"?"":(""+W).trim()}}catch(me){We(U,U.return,me)}}}else if(s.tag===6){if(o===null){U=s;try{U.stateNode.nodeValue=N?"":U.memoizedProps}catch(me){We(U,U.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,cm(r,o))));break;case 19:Hn(s,r),Fn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,cm(r,u)));break;case 21:break;default:Hn(s,r),Fn(r)}}function Fn(r){var s=r.flags;if(s&2){try{if(r.tag!==27){e:{for(var o=r.return;o!==null;){if(yv(o)){var u=o;break e}o=o.return}throw Error(i(160))}switch(u.tag){case 27:var h=u.stateNode,p=om(r);qc(r,p,h);break;case 5:var E=u.stateNode;u.flags&32&&(Pn(E,""),u.flags&=-33);var w=om(r);qc(r,w,E);break;case 3:case 4:var N=u.stateNode.containerInfo,U=om(r);lm(r,U,N);break;default:throw Error(i(161))}}}catch(Z){We(r,r.return,Z)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function Av(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;Av(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function ti(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Ev(r,s.alternate,s),s=s.sibling}function so(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Gi(4,s,s.return),so(s);break;case 1:wn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&mv(s,s.return,o),so(s);break;case 26:case 27:case 5:wn(s,s.return),so(s);break;case 22:wn(s,s.return),s.memoizedState===null&&so(s);break;default:so(s)}r=r.sibling}}function Ki(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,h=r,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:Ki(h,p,o),Ml(4,p);break;case 1:if(Ki(h,p,o),u=p,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){We(u,u.return,U)}if(u=p,h=u.updateQueue,h!==null){var w=u.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)fv(N[h],w)}catch(U){We(u,u.return,U)}}o&&E&64&&dv(p),Js(p,p.return);break;case 26:case 27:case 5:Ki(h,p,o),o&&u===null&&E&4&&pv(p),Js(p,p.return);break;case 12:Ki(h,p,o);break;case 13:Ki(h,p,o),o&&E&4&&bv(h,p);break;case 22:p.memoizedState===null&&Ki(h,p,o),Js(p,p.return);break;default:Ki(h,p,o)}s=s.sibling}}function fm(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&bl(o))}function hm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&bl(r))}function $i(r,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Rv(r,s,o,u),s=s.sibling}function Rv(r,s,o,u){var h=s.flags;switch(s.tag){case 0:case 11:case 15:$i(r,s,o,u),h&2048&&Ml(9,s);break;case 3:$i(r,s,o,u),h&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&bl(r)));break;case 12:if(h&2048){$i(r,s,o,u),r=s.stateNode;try{var p=s.memoizedProps,E=p.id,w=p.onPostCommit;typeof w=="function"&&w(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(N){We(s,s.return,N)}}else $i(r,s,o,u);break;case 23:break;case 22:p=s.stateNode,s.memoizedState!==null?p._visibility&4?$i(r,s,o,u):Pl(r,s):p._visibility&4?$i(r,s,o,u):(p._visibility|=4,ao(r,s,o,u,(s.subtreeFlags&10256)!==0)),h&2048&&fm(s.alternate,s);break;case 24:$i(r,s,o,u),h&2048&&hm(s.alternate,s);break;default:$i(r,s,o,u)}}function ao(r,s,o,u,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=r,E=s,w=o,N=u,U=E.flags;switch(E.tag){case 0:case 11:case 15:ao(p,E,w,N,h),Ml(8,E);break;case 23:break;case 22:var Z=E.stateNode;E.memoizedState!==null?Z._visibility&4?ao(p,E,w,N,h):Pl(p,E):(Z._visibility|=4,ao(p,E,w,N,h)),h&&U&2048&&fm(E.alternate,E);break;case 24:ao(p,E,w,N,h),h&&U&2048&&hm(E.alternate,E);break;default:ao(p,E,w,N,h)}s=s.sibling}}function Pl(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,u=s,h=u.flags;switch(u.tag){case 22:Pl(o,u),h&2048&&fm(u.alternate,u);break;case 24:Pl(o,u),h&2048&&hm(u.alternate,u);break;default:Pl(o,u)}s=s.sibling}}var Vl=8192;function oo(r){if(r.subtreeFlags&Vl)for(r=r.child;r!==null;)Cv(r),r=r.sibling}function Cv(r){switch(r.tag){case 26:oo(r),r.flags&Vl&&r.memoizedState!==null&&qR(Jn,r.memoizedState,r.memoizedProps);break;case 5:oo(r);break;case 3:case 4:var s=Jn;Jn=rf(r.stateNode.containerInfo),oo(r),Jn=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Vl,Vl=16777216,oo(r),Vl=s):oo(r));break;default:oo(r)}}function xv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function kl(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,Nv(u,r)}xv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Iv(r),r=r.sibling}function Iv(r){switch(r.tag){case 0:case 11:case 15:kl(r),r.flags&2048&&Gi(9,r,r.return);break;case 3:kl(r);break;case 12:kl(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&4&&(r.return===null||r.return.tag!==13)?(s._visibility&=-5,Hc(r)):kl(r);break;default:kl(r)}}function Hc(r){var s=r.deletions;if(r.flags&16){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ut=u,Nv(u,r)}xv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Gi(8,s,s.return),Hc(s);break;case 22:o=s.stateNode,o._visibility&4&&(o._visibility&=-5,Hc(s));break;default:Hc(s)}r=r.sibling}}function Nv(r,s){for(;Ut!==null;){var o=Ut;switch(o.tag){case 0:case 11:case 15:Gi(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:bl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ut=u;else e:for(o=r;Ut!==null;){u=Ut;var h=u.sibling,p=u.return;if(Tv(u),u===o){Ut=null;break e}if(h!==null){h.return=p,Ut=h;break e}Ut=p}}}function tR(r,s,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gn(r,s,o,u){return new tR(r,s,o,u)}function dm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Qi(r,s){var o=r.alternate;return o===null?(o=Gn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&31457280,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Dv(r,s){r.flags&=31457282;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Fc(r,s,o,u,h,p){var E=0;if(u=r,typeof r=="function")dm(r)&&(E=1);else if(typeof r=="string")E=zR(r,o,sn.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case m:return ea(o.children,h,p,s);case g:E=8,h|=24;break;case _:return r=Gn(12,o,s,h|2),r.elementType=_,r.lanes=p,r;case j:return r=Gn(13,o,s,h),r.elementType=j,r.lanes=p,r;case D:return r=Gn(19,o,s,h),r.elementType=D,r.lanes=p,r;case $:return Ov(o,h,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case x:E=10;break e;case b:E=9;break e;case I:E=11;break e;case G:E=14;break e;case X:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=Gn(E,o,s,h),s.elementType=r,s.type=u,s.lanes=p,s}function ea(r,s,o,u){return r=Gn(7,r,u,s),r.lanes=o,r}function Ov(r,s,o,u){r=Gn(22,r,u,s),r.elementType=$,r.lanes=o;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=h._current;if(p===null)throw Error(i(456));if(!(h._pendingVisibility&2)){var E=ki(p,2);E!==null&&(h._pendingVisibility|=2,cn(E,p,2))}},attach:function(){var p=h._current;if(p===null)throw Error(i(456));if(h._pendingVisibility&2){var E=ki(p,2);E!==null&&(h._pendingVisibility&=-3,cn(E,p,2))}}};return r.stateNode=h,r}function mm(r,s,o){return r=Gn(6,r,null,s),r.lanes=o,r}function pm(r,s,o){return s=Gn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function ni(r){r.flags|=4}function Mv(r,s){if(s.type!=="stylesheet"||s.state.loading&4)r.flags&=-16777217;else if(r.flags|=16777216,!yE(s)){if(s=qn.current,s!==null&&((je&4194176)===je?Er!==null:(je&62914560)!==je&&!(je&536870912)||s!==Er))throw El=Ed,Xy;r.flags|=8192}}function Gc(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Si():536870912,r.lanes|=s,uo|=s)}function Ll(r,s){if(!He)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function nt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(s)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&31457280,u|=h.flags&31457280,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,s}function nR(r,s,o){var u=s.pendingProps;switch(_d(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(s),null;case 1:return nt(s),null;case 3:return o=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zr(It),Vr(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(gl(s)?ni(s):r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Zn!==null&&(bm(Zn),Zn=null))),nt(s),null;case 26:return o=s.memoizedState,r===null?(ni(s),o!==null?(nt(s),Mv(s,o)):(nt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(ni(s),nt(s),Mv(s,o)):(nt(s),s.flags&=-16777217):(r.memoizedProps!==u&&ni(s),nt(s),s.flags&=-16777217),null;case 27:xa(s),o=Dn.current;var h=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ni(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return nt(s),null}r=sn.current,gl(s)?Qy(s):(r=uE(h,u,o),s.stateNode=r,ni(s))}return nt(s),null;case 5:if(xa(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&ni(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return nt(s),null}if(r=sn.current,gl(s))Qy(s);else{switch(h=nf(Dn.current),r){case 1:r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=h.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?h.createElement("select",{is:u.is}):h.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?h.createElement(o,{is:u.is}):h.createElement(o)}}r[Pt]=s,r[At]=u;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)r.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=r;e:switch(Ft(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ni(s)}}return nt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&ni(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=Dn.current,gl(s)){if(r=s.stateNode,o=s.memoizedProps,u=null,h=un,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[Pt]=s,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||rE(r.nodeValue,o)),r||Fs(s)}else r=nf(r).createTextNode(u),r[Pt]=s,s.stateNode=r}return nt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=gl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[Pt]=s}else yl(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;nt(s),h=!1}else Zn!==null&&(bm(Zn),Zn=null),h=!0;if(!h)return s.flags&256?(Qr(s),s):(Qr(s),null)}if(Qr(s),s.flags&128)return s.lanes=o,s;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=s.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==h&&(u.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Gc(s,s.updateQueue),nt(s),null;case 4:return Vr(),r===null&&Pm(s.stateNode.containerInfo),nt(s),null;case 10:return Zr(s.type),nt(s),null;case 19:if(at(xt),h=s.memoizedState,h===null)return nt(s),null;if(u=(s.flags&128)!==0,p=h.rendering,p===null)if(u)Ll(h,!1);else{if(ut!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(p=xc(r),p!==null){for(s.flags|=128,Ll(h,!1),r=p.updateQueue,s.updateQueue=r,Gc(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Dv(o,r),o=o.sibling;return Qe(xt,xt.current&1|2),s.child}r=r.sibling}h.tail!==null&&fn()>Kc&&(s.flags|=128,u=!0,Ll(h,!1),s.lanes=4194304)}else{if(!u)if(r=xc(p),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,Gc(s,r),Ll(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!He)return nt(s),null}else 2*fn()-h.renderingStartTime>Kc&&o!==536870912&&(s.flags|=128,u=!0,Ll(h,!1),s.lanes=4194304);h.isBackwards?(p.sibling=s.child,s.child=p):(r=h.last,r!==null?r.sibling=p:s.child=p,h.last=p)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=fn(),s.sibling=null,r=xt.current,Qe(xt,u?r&1|2:r&1),s):(nt(s),null);case 22:case 23:return Qr(s),wd(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?o&536870912&&!(s.flags&128)&&(nt(s),s.subtreeFlags&6&&(s.flags|=8192)):nt(s),o=s.updateQueue,o!==null&&Gc(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),r!==null&&at(Ks),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zr(It),nt(s),null;case 25:return null}throw Error(i(156,s.tag))}function rR(r,s){switch(_d(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Zr(It),Vr(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xa(s),null;case 13:if(Qr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));yl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return at(xt),null;case 4:return Vr(),null;case 10:return Zr(s.type),null;case 22:case 23:return Qr(s),wd(),r!==null&&at(Ks),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Zr(It),null;case 25:return null;default:return null}}function Pv(r,s){switch(_d(s),s.tag){case 3:Zr(It),Vr();break;case 26:case 27:case 5:xa(s);break;case 4:Vr();break;case 13:Qr(s);break;case 19:at(xt);break;case 10:Zr(s.type);break;case 22:case 23:Qr(s),wd(),r!==null&&at(Ks);break;case 24:Zr(It)}}var iR={getCacheForType:function(r){var s=Xt(It),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},sR=typeof WeakMap=="function"?WeakMap:Map,rt=0,Ze=null,Oe=null,je=0,Je=0,Sn=null,ri=!1,lo=!1,gm=!1,ii=0,ut=0,Yi=0,ta=0,ym=0,Kn=0,uo=0,Ul=null,wr=null,_m=!1,vm=0,Kc=1/0,$c=null,Xi=null,Qc=!1,na=null,jl=0,Em=0,Tm=null,zl=0,wm=null;function An(){if(rt&2&&je!==0)return je&-je;if(A.T!==null){var r=eo;return r!==0?r:Nm()}return ec()}function Vv(){Kn===0&&(Kn=!(je&536870912)||He?Zo():536870912);var r=qn.current;return r!==null&&(r.flags|=32),Kn}function cn(r,s,o){(r===Ze&&Je===2||r.cancelPendingCommit!==null)&&(co(r,0),si(r,je,Kn,!1)),ft(r,o),(!(rt&2)||r!==Ze)&&(r===Ze&&(!(rt&2)&&(ta|=o),ut===4&&si(r,je,Kn,!1)),br(r))}function kv(r,s,o){if(rt&6)throw Error(i(327));var u=!o&&(s&60)===0&&(s&r.expiredLanes)===0||bi(r,s),h=u?lR(r,s):Rm(r,s,!0),p=u;do{if(h===0){lo&&!u&&si(r,s,0,!1);break}else if(h===6)si(r,s,0,!ri);else{if(o=r.current.alternate,p&&!aR(o)){h=Rm(r,s,!1),p=!1;continue}if(h===2){if(p=s,r.errorRecoveryDisabledLanes&p)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var w=r;h=Ul;var N=w.current.memoizedState.isDehydrated;if(N&&(co(w,E).flags|=256),E=Rm(w,E,!1),E!==2){if(gm&&!N){w.errorRecoveryDisabledLanes|=p,ta|=p,h=4;break e}p=wr,wr=h,p!==null&&bm(p)}h=E}if(p=!1,h!==2)continue}}if(h===1){co(r,0),si(r,s,0,!0);break}e:{switch(u=r,h){case 0:case 1:throw Error(i(345));case 4:if((s&4194176)===s){si(u,s,Kn,!ri);break e}break;case 2:wr=null;break;case 3:case 5:break;default:throw Error(i(329))}if(u.finishedWork=o,u.finishedLanes=s,(s&62914560)===s&&(p=vm+300-fn(),10<p)){if(si(u,s,Kn,!ri),On(u,0)!==0)break e;u.timeoutHandle=aE(Lv.bind(null,u,o,wr,$c,_m,s,Kn,ta,uo,ri,2,-0,0),p);break e}Lv(u,o,wr,$c,_m,s,Kn,ta,uo,ri,0,-0,0)}}break}while(!0);br(r)}function bm(r){wr===null?wr=r:wr.push.apply(wr,r)}function Lv(r,s,o,u,h,p,E,w,N,U,Z,ne,K){var W=s.subtreeFlags;if((W&8192||(W&16785408)===16785408)&&(Kl={stylesheets:null,count:0,unsuspend:BR},Cv(s),s=HR(),s!==null)){r.cancelPendingCommit=s(Fv.bind(null,r,o,u,h,E,w,N,1,ne,K)),si(r,p,E,!U);return}Fv(r,o,u,h,E,w,N,Z,ne,K)}function aR(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Tn(p(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function si(r,s,o,u){s&=~ym,s&=~ta,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var h=s;0<h;){var p=31-an(h),E=1<<p;u[p]=-1,h&=~E}o!==0&&Ai(r,o,s)}function Yc(){return rt&6?!0:(Bl(0),!1)}function Sm(){if(Oe!==null){if(Je===0)var r=Oe.return;else r=Oe,Wr=Ws=null,Nd(r),Za=null,Tl=0,r=Oe;for(;r!==null;)Pv(r.alternate,r),r=r.return;Oe=null}}function co(r,s){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,AR(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Sm(),Ze=r,Oe=o=Qi(r.current,null),je=s,Je=0,Sn=null,ri=!1,lo=bi(r,s),gm=!1,uo=Kn=ym=ta=Yi=ut=0,wr=Ul=null,_m=!1,s&8&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var h=31-an(u),p=1<<h;s|=r[h],u&=~p}return ii=s,vc(),o}function Uv(r,s){Ne=null,A.H=Tr,s===vl?(s=Jy(),Je=3):s===Xy?(s=Jy(),Je=4):Je=s===W_?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Sn=s,Oe===null&&(ut=1,jc(r,jn(s,r.current)))}function jv(){var r=A.H;return A.H=Tr,r===null?Tr:r}function zv(){var r=A.A;return A.A=iR,r}function Am(){ut=4,ri||(je&4194176)!==je&&qn.current!==null||(lo=!0),!(Yi&134217727)&&!(ta&134217727)||Ze===null||si(Ze,je,Kn,!1)}function Rm(r,s,o){var u=rt;rt|=2;var h=jv(),p=zv();(Ze!==r||je!==s)&&($c=null,co(r,s)),s=!1;var E=ut;e:do try{if(Je!==0&&Oe!==null){var w=Oe,N=Sn;switch(Je){case 8:Sm(),E=6;break e;case 3:case 2:case 6:qn.current===null&&(s=!0);var U=Je;if(Je=0,Sn=null,fo(r,w,N,U),o&&lo){E=0;break e}break;default:U=Je,Je=0,Sn=null,fo(r,w,N,U)}}oR(),E=ut;break}catch(Z){Uv(r,Z)}while(!0);return s&&r.shellSuspendCounter++,Wr=Ws=null,rt=u,A.H=h,A.A=p,Oe===null&&(Ze=null,je=0,vc()),E}function oR(){for(;Oe!==null;)Bv(Oe)}function lR(r,s){var o=rt;rt|=2;var u=jv(),h=zv();Ze!==r||je!==s?($c=null,Kc=fn()+500,co(r,s)):lo=bi(r,s);e:do try{if(Je!==0&&Oe!==null){s=Oe;var p=Sn;t:switch(Je){case 1:Je=0,Sn=null,fo(r,s,p,1);break;case 2:if(Wy(p)){Je=0,Sn=null,qv(s);break}s=function(){Je===2&&Ze===r&&(Je=7),br(r)},p.then(s,s);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Wy(p)?(Je=0,Sn=null,qv(s)):(Je=0,Sn=null,fo(r,s,p,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var w=Oe;if(!E||yE(E)){Je=0,Sn=null;var N=w.sibling;if(N!==null)Oe=N;else{var U=w.return;U!==null?(Oe=U,Xc(U)):Oe=null}break t}}Je=0,Sn=null,fo(r,s,p,5);break;case 6:Je=0,Sn=null,fo(r,s,p,6);break;case 8:Sm(),ut=6;break e;default:throw Error(i(462))}}uR();break}catch(Z){Uv(r,Z)}while(!0);return Wr=Ws=null,A.H=u,A.A=h,rt=o,Oe!==null?0:(Ze=null,je=0,vc(),ut)}function uR(){for(;Oe!==null&&!ed();)Bv(Oe)}function Bv(r){var s=uv(r.alternate,r,ii);r.memoizedProps=r.pendingProps,s===null?Xc(r):Oe=s}function qv(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=rv(o,s,s.pendingProps,s.type,void 0,je);break;case 11:s=rv(o,s,s.pendingProps,s.type.render,s.ref,je);break;case 5:Nd(s);default:Pv(o,s),s=Oe=Dv(s,ii),s=uv(o,s,ii)}r.memoizedProps=r.pendingProps,s===null?Xc(r):Oe=s}function fo(r,s,o,u){Wr=Ws=null,Nd(s),Za=null,Tl=0;var h=s.return;try{if(WA(r,h,s,o,je)){ut=1,jc(r,jn(o,r.current)),Oe=null;return}}catch(p){if(h!==null)throw Oe=h,p;ut=1,jc(r,jn(o,r.current)),Oe=null;return}s.flags&32768?(He||u===1?r=!0:lo||je&536870912?r=!1:(ri=r=!0,(u===2||u===3||u===6)&&(u=qn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Hv(s,r)):Xc(s)}function Xc(r){var s=r;do{if(s.flags&32768){Hv(s,ri);return}r=s.return;var o=nR(s.alternate,s,ii);if(o!==null){Oe=o;return}if(s=s.sibling,s!==null){Oe=s;return}Oe=s=r}while(s!==null);ut===0&&(ut=5)}function Hv(r,s){do{var o=rR(r.alternate,r);if(o!==null){o.flags&=32767,Oe=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Oe=r;return}Oe=r=o}while(r!==null);ut=6,Oe=null}function Fv(r,s,o,u,h,p,E,w,N,U){var Z=A.T,ne=ce.p;try{ce.p=2,A.T=null,cR(r,s,o,u,ne,h,p,E,w,N,U)}finally{A.T=Z,ce.p=ne}}function cR(r,s,o,u,h,p,E,w){do ho();while(na!==null);if(rt&6)throw Error(i(327));var N=r.finishedWork;if(u=r.finishedLanes,N===null)return null;if(r.finishedWork=null,r.finishedLanes=0,N===r.current)throw Error(i(177));r.callbackNode=null,r.callbackPriority=0,r.cancelPendingCommit=null;var U=N.lanes|N.childLanes;if(U|=pd,Zu(r,u,U,p,E,w),r===Ze&&(Oe=Ze=null,je=0),!(N.subtreeFlags&10256)&&!(N.flags&10256)||Qc||(Qc=!0,Em=U,Tm=o,mR(kr,function(){return ho(),null})),o=(N.flags&15990)!==0,N.subtreeFlags&15990||o?(o=A.T,A.T=null,p=ce.p,ce.p=2,E=rt,rt|=4,JA(r,N),Sv(N,r),PA(Um,r.containerInfo),uf=!!Lm,Um=Lm=null,r.current=N,Ev(r,N.alternate,N),Qo(),rt=E,ce.p=p,A.T=o):r.current=N,Qc?(Qc=!1,na=r,jl=u):Gv(r,U),U=r.pendingLanes,U===0&&(Xi=null),Xo(N.stateNode),br(r),s!==null)for(h=r.onRecoverableError,N=0;N<s.length;N++)U=s[N],h(U.value,{componentStack:U.stack});return jl&3&&ho(),U=r.pendingLanes,u&4194218&&U&42?r===wm?zl++:(zl=0,wm=r):zl=0,Bl(0),null}function Gv(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,bl(s)))}function ho(){if(na!==null){var r=na,s=Em;Em=0;var o=Ju(jl),u=A.T,h=ce.p;try{if(ce.p=32>o?32:o,A.T=null,na===null)var p=!1;else{o=Tm,Tm=null;var E=na,w=jl;if(na=null,jl=0,rt&6)throw Error(i(331));var N=rt;if(rt|=4,Iv(E.current),Rv(E,E.current,w,o),rt=N,Bl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Ti,E)}catch{}p=!0}return p}finally{ce.p=h,A.T=u,Gv(r,s)}}return!1}function Kv(r,s,o){s=jn(o,s),s=Fd(r.stateNode,s,2),r=Fi(r,s,2),r!==null&&(ft(r,2),br(r))}function We(r,s,o){if(r.tag===3)Kv(r,r,o);else for(;s!==null;){if(s.tag===3){Kv(s,r,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Xi===null||!Xi.has(u))){r=jn(o,r),o=Y_(2),u=Fi(s,o,2),u!==null&&(X_(o,u,s,r),ft(u,2),br(u));break}}s=s.return}}function Cm(r,s,o){var u=r.pingCache;if(u===null){u=r.pingCache=new sR;var h=new Set;u.set(s,h)}else h=u.get(s),h===void 0&&(h=new Set,u.set(s,h));h.has(o)||(gm=!0,h.add(o),r=fR.bind(null,r,s,o),s.then(r,r))}function fR(r,s,o){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,Ze===r&&(je&o)===o&&(ut===4||ut===3&&(je&62914560)===je&&300>fn()-vm?!(rt&2)&&co(r,0):ym|=o,uo===je&&(uo=0)),br(r)}function $v(r,s){s===0&&(s=Si()),r=ki(r,s),r!==null&&(ft(r,s),br(r))}function hR(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),$v(r,o)}function dR(r,s){var o=0;switch(r.tag){case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),$v(r,o)}function mR(r,s){return Rs(r,s)}var Wc=null,mo=null,xm=!1,Zc=!1,Im=!1,ra=0;function br(r){r!==mo&&r.next===null&&(mo===null?Wc=mo=r:mo=mo.next=r),Zc=!0,xm||(xm=!0,gR(pR))}function Bl(r,s){if(!Im&&Zc){Im=!0;do for(var o=!1,u=Wc;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var p=0;else{var E=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-an(42|r)+1)-1,p&=h&~(E&~w),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(o=!0,Xv(u,p))}else p=je,p=On(u,u===Ze?p:0),!(p&3)||bi(u,p)||(o=!0,Xv(u,p));u=u.next}while(o);Im=!1}}function pR(){Zc=xm=!1;var r=0;ra!==0&&(SR()&&(r=ra),ra=0);for(var s=fn(),o=null,u=Wc;u!==null;){var h=u.next,p=Qv(u,s);p===0?(u.next=null,o===null?Wc=h:o.next=h,h===null&&(mo=o)):(o=u,(r!==0||p&3)&&(Zc=!0)),u=h}Bl(r)}function Qv(r,s){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var E=31-an(p),w=1<<E,N=h[E];N===-1?(!(w&o)||w&u)&&(h[E]=Da(w,s)):N<=s&&(r.expiredLanes|=w),p&=~w}if(s=Ze,o=je,o=On(r,r===s?o:0),u=r.callbackNode,o===0||r===s&&Je===2||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Na(u),r.callbackNode=null,r.callbackPriority=0;if(!(o&3)||bi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(u!==null&&Na(u),Ju(o)){case 2:case 8:o=Mt;break;case 32:o=kr;break;case 268435456:o=Yo;break;default:o=kr}return u=Yv.bind(null,r),o=Rs(o,u),r.callbackPriority=s,r.callbackNode=o,s}return u!==null&&u!==null&&Na(u),r.callbackPriority=2,r.callbackNode=null,2}function Yv(r,s){var o=r.callbackNode;if(ho()&&r.callbackNode!==o)return null;var u=je;return u=On(r,r===Ze?u:0),u===0?null:(kv(r,u,s),Qv(r,fn()),r.callbackNode!=null&&r.callbackNode===o?Yv.bind(null,r):null)}function Xv(r,s){if(ho())return null;kv(r,s,!0)}function gR(r){RR(function(){rt&6?Rs(St,r):r()})}function Nm(){return ra===0&&(ra=Zo()),ra}function Wv(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:hr(""+r)}function Zv(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function yR(r,s,o,u,h){if(s==="submit"&&o&&o.stateNode===h){var p=Wv((h[At]||null).action),E=u.submitter;E&&(s=(s=E[At]||null)?Wv(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var w=new Ua("action","action",null,u,h);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ra!==0){var N=E?Zv(h,E):new FormData(h);jd(o,{pending:!0,data:N,method:h.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=E?Zv(h,E):new FormData(h),jd(o,{pending:!0,data:N,method:h.method,action:p},p,N))},currentTarget:h}]})}}for(var Dm=0;Dm<Fy.length;Dm++){var Om=Fy[Dm],_R=Om.toLowerCase(),vR=Om[0].toUpperCase()+Om.slice(1);Wn(_R,"on"+vR)}Wn(jy,"onAnimationEnd"),Wn(zy,"onAnimationIteration"),Wn(By,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(kA,"onTransitionRun"),Wn(LA,"onTransitionStart"),Wn(UA,"onTransitionCancel"),Wn(qy,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ER=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ql));function Jv(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var w=u[E],N=w.instance,U=w.currentTarget;if(w=w.listener,N!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=U;try{p(h)}catch(Z){Uc(Z)}h.currentTarget=null,p=N}else for(E=0;E<u.length;E++){if(w=u[E],N=w.instance,U=w.currentTarget,w=w.listener,N!==p&&h.isPropagationStopped())break e;p=w,h.currentTarget=U;try{p(h)}catch(Z){Uc(Z)}h.currentTarget=null,p=N}}}}function Ve(r,s){var o=s[xs];o===void 0&&(o=s[xs]=new Set);var u=r+"__bubble";o.has(u)||(eE(s,r,2,!1),o.add(u))}function Mm(r,s,o){var u=0;s&&(u|=4),eE(o,r,u,s)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Pm(r){if(!r[Jc]){r[Jc]=!0,el.forEach(function(o){o!=="selectionchange"&&(ER.has(o)||Mm(o,!1,r),Mm(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Jc]||(s[Jc]=!0,Mm("selectionchange",!1,s))}}function eE(r,s,o,u){switch(bE(s)){case 2:var h=KR;break;case 8:h=$R;break;default:h=$m}o=h.bind(null,s,o,r),h=void 0,!kn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(s,o,{capture:!0,passive:h}):r.addEventListener(s,o,!0):h!==void 0?r.addEventListener(s,o,{passive:h}):r.addEventListener(s,o,!1)}function Vm(r,s,o,u,h){var p=u;if(!(s&1)&&!(s&2)&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===h||N.nodeType===8&&N.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Xn(w),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=p=E;continue e}w=w.parentNode}}u=u.return}ic(function(){var U=p,Z=La(o),ne=[];e:{var K=Hy.get(r);if(K!==void 0){var W=Ua,me=r;switch(r){case"keypress":if(mr(o)===0)break e;case"keydown":case"keyup":W=Fa;break;case"focusin":me="focus",W=Ba;break;case"focusout":me="blur",W=Ba;break;case"beforeblur":case"afterblur":W=Ba;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=od;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=hc;break;case jy:case zy:case By:W=qa;break;case qy:W=mc;break;case"scroll":case"scrollend":W=sc;break;case"wheel":W=Ga;break;case"copy":case"cut":case"paste":W=Ha;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=hl;break;case"toggle":case"beforetoggle":W=gc}var Se=(s&4)!==0,ct=!Se&&(r==="scroll"||r==="scrollend"),z=Se?K!==null?K+"Capture":null:K;Se=[];for(var k=U,F;k!==null;){var J=k;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||z===null||(J=Ms(k,z),J!=null&&Se.push(Hl(k,J,F))),ct)break;k=k.return}0<Se.length&&(K=new W(K,me,null,o,Z),ne.push({event:K,listeners:Se}))}}if(!(s&7)){e:{if(K=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",K&&o!==Vn&&(me=o.relatedTarget||o.fromElement)&&(Xn(me)||me[Lr]))break e;if((W||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,W?(me=o.relatedTarget||o.toElement,W=U,me=me?Xn(me):null,me!==null&&(ct=ye(me),Se=me.tag,me!==ct||Se!==5&&Se!==27&&Se!==6)&&(me=null)):(W=null,me=U),W!==me)){if(Se=Ln,J="onMouseLeave",z="onMouseEnter",k="mouse",(r==="pointerout"||r==="pointerover")&&(Se=hl,J="onPointerLeave",z="onPointerEnter",k="pointer"),ct=W==null?K:Ii(W),F=me==null?K:Ii(me),K=new Se(J,k+"leave",W,o,Z),K.target=ct,K.relatedTarget=F,J=null,Xn(Z)===U&&(Se=new Se(z,k+"enter",me,o,Z),Se.target=F,Se.relatedTarget=ct,J=Se),ct=J,W&&me)t:{for(Se=W,z=me,k=0,F=Se;F;F=po(F))k++;for(F=0,J=z;J;J=po(J))F++;for(;0<k-F;)Se=po(Se),k--;for(;0<F-k;)z=po(z),F--;for(;k--;){if(Se===z||z!==null&&Se===z.alternate)break t;Se=po(Se),z=po(z)}Se=null}else Se=null;W!==null&&tE(ne,K,W,Se,!1),me!==null&&ct!==null&&tE(ne,ct,me,Se,!0)}}e:{if(K=U?Ii(U):window,W=K.nodeName&&K.nodeName.toLowerCase(),W==="select"||W==="input"&&K.type==="file")var he=xy;else if(Ct(K))if(Iy)he=OA;else{he=NA;var De=IA}else W=K.nodeName,!W||W.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?U&&sl(U.elementType)&&(he=xy):he=DA;if(he&&(he=he(r,U))){Gr(ne,he,o,Z);break e}De&&De(r,K,U),r==="focusout"&&U&&K.type==="number"&&U.memoizedProps.value!=null&&ka(K,"number",K.value)}switch(De=U?Ii(U):window,r){case"focusin":(Ct(De)||De.contentEditable==="true")&&(Ka=De,hd=U,pl=null);break;case"focusout":pl=hd=Ka=null;break;case"mousedown":dd=!0;break;case"contextmenu":case"mouseup":case"dragend":dd=!1,Ly(ne,o,Z);break;case"selectionchange":if(VA)break;case"keydown":case"keyup":Ly(ne,o,Z)}var ge;if(yr)e:{switch(r){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Le?Q(r,o)&&(ve="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(v&&o.locale!=="ko"&&(Le||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Le&&(ge=ol()):(dr=Z,Vi="value"in dr?dr.value:dr.textContent,Le=!0)),De=ef(U,ve),0<De.length&&(ve=new cl(ve,r,null,o,Z),ne.push({event:ve,listeners:De}),ge?ve.data=ge:(ge=ae(o),ge!==null&&(ve.data=ge)))),(ge=y?Rt(r,o):Ue(r,o))&&(ve=ef(U,"onBeforeInput"),0<ve.length&&(De=new cl("onBeforeInput","beforeinput",null,o,Z),ne.push({event:De,listeners:ve}),De.data=ge)),yR(ne,r,U,o,Z)}Jv(ne,s)})}function Hl(r,s,o){return{instance:r,listener:s,currentTarget:o}}function ef(r,s){for(var o=s+"Capture",u=[];r!==null;){var h=r,p=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ms(r,o),h!=null&&u.unshift(Hl(r,h,p)),h=Ms(r,s),h!=null&&u.push(Hl(r,h,p))),r=r.return}return u}function po(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tE(r,s,o,u,h){for(var p=s._reactName,E=[];o!==null&&o!==u;){var w=o,N=w.alternate,U=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||U===null||(N=U,h?(U=Ms(o,p),U!=null&&E.unshift(Hl(o,U,N))):h||(U=Ms(o,p),U!=null&&E.push(Hl(o,U,N)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var TR=/\r\n?/g,wR=/\u0000|\uFFFD/g;function nE(r){return(typeof r=="string"?r:""+r).replace(TR,`
`).replace(wR,"")}function rE(r,s){return s=nE(s),nE(r)===s}function tf(){}function Xe(r,s,o,u,h,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Pn(r,""+u);break;case"className":Oi(r,"class",u);break;case"tabIndex":Oi(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(r,o,u);break;case"style":rc(r,u,p);break;case"data":if(s!=="object"){Oi(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=hr(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&Xe(r,s,"name",h.name,h,null),Xe(r,s,"formEncType",h.formEncType,h,null),Xe(r,s,"formMethod",h.formMethod,h,null),Xe(r,s,"formTarget",h.formTarget,h,null)):(Xe(r,s,"encType",h.encType,h,null),Xe(r,s,"method",h.method,h,null),Xe(r,s,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=hr(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=tf);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=hr(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Di(r,"popover",u);break;case"xlinkActuate":Mn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Mn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Mn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Mn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Mn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Mn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Mn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Di(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sd.get(o)||o,Di(r,o,u))}}function km(r,s,o,u,h,p){switch(o){case"style":rc(r,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?Pn(r,u):(typeof u=="number"||typeof u=="bigint")&&Pn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=tf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pa.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),p=r[At]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,h),typeof u=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Di(r,o,u)}}}function Ft(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,h=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,p,E,o,null)}}h&&Xe(r,s,"srcSet",o.srcSet,o,null),u&&Xe(r,s,"src",o.src,o,null);return;case"input":Ve("invalid",r);var w=p=E=h=null,N=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var Z=o[u];if(Z!=null)switch(u){case"name":h=Z;break;case"type":E=Z;break;case"checked":N=Z;break;case"defaultChecked":U=Z;break;case"value":p=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,s));break;default:Xe(r,s,u,Z,o,null)}}Ds(r,p,w,N,U,E,h,!1),Ns(r);return;case"select":Ve("invalid",r),u=E=p=null;for(h in o)if(o.hasOwnProperty(h)&&(w=o[h],w!=null))switch(h){case"value":p=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:Xe(r,s,h,w,o,null)}s=p,o=E,r.multiple=!!u,s!=null?qe(r,!!u,s,!1):o!=null&&qe(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),p=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":h=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:Xe(r,s,E,w,o,null)}Pi(r,u,h,p),Ns(r);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Xe(r,s,N,u,o,null)}return;case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<ql.length;u++)Ve(ql[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Xe(r,s,U,u,o,null)}return;default:if(sl(s)){for(Z in o)o.hasOwnProperty(Z)&&(u=o[Z],u!==void 0&&km(r,s,Z,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&Xe(r,s,w,u,o,null))}function bR(r,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,E=null,w=null,N=null,U=null,Z=null;for(W in o){var ne=o[W];if(o.hasOwnProperty(W)&&ne!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":N=ne;default:u.hasOwnProperty(W)||Xe(r,s,W,null,u,ne)}}for(var K in u){var W=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(W!=null||ne!=null))switch(K){case"type":p=W;break;case"name":h=W;break;case"checked":U=W;break;case"defaultChecked":Z=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:W!==ne&&Xe(r,s,K,W,u,ne)}}Mi(r,E,w,N,U,Z,p,h);return;case"select":W=E=w=K=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":W=N;default:u.hasOwnProperty(p)||Xe(r,s,p,null,u,N)}for(h in u)if(p=u[h],N=o[h],u.hasOwnProperty(h)&&(p!=null||N!=null))switch(h){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":E=p;default:p!==N&&Xe(r,s,h,p,u,N)}s=w,o=E,u=W,K!=null?qe(r,!!o,K,!1):!!u!=!!o&&(s!=null?qe(r,!!o,s,!0):qe(r,!!o,o?[]:"",!1));return;case"textarea":W=K=null;for(w in o)if(h=o[w],o.hasOwnProperty(w)&&h!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Xe(r,s,w,null,u,h)}for(E in u)if(h=u[E],p=o[E],u.hasOwnProperty(E)&&(h!=null||p!=null))switch(E){case"value":K=h;break;case"defaultValue":W=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==p&&Xe(r,s,E,h,u,p)}Os(r,K,W);return;case"option":for(var me in o)if(K=o[me],o.hasOwnProperty(me)&&K!=null&&!u.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:Xe(r,s,me,null,u,K)}for(N in u)if(K=u[N],W=o[N],u.hasOwnProperty(N)&&K!==W&&(K!=null||W!=null))switch(N){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Xe(r,s,N,K,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in o)K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se)&&Xe(r,s,Se,null,u,K);for(U in u)if(K=u[U],W=o[U],u.hasOwnProperty(U)&&K!==W&&(K!=null||W!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:Xe(r,s,U,K,u,W)}return;default:if(sl(s)){for(var ct in o)K=o[ct],o.hasOwnProperty(ct)&&K!==void 0&&!u.hasOwnProperty(ct)&&km(r,s,ct,void 0,u,K);for(Z in u)K=u[Z],W=o[Z],!u.hasOwnProperty(Z)||K===W||K===void 0&&W===void 0||km(r,s,Z,K,u,W);return}}for(var z in o)K=o[z],o.hasOwnProperty(z)&&K!=null&&!u.hasOwnProperty(z)&&Xe(r,s,z,null,u,K);for(ne in u)K=u[ne],W=o[ne],!u.hasOwnProperty(ne)||K===W||K==null&&W==null||Xe(r,s,ne,K,u,W)}var Lm=null,Um=null;function nf(r){return r.nodeType===9?r:r.ownerDocument}function iE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function jm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var zm=null;function SR(){var r=window.event;return r&&r.type==="popstate"?r===zm?!1:(zm=r,!0):(zm=null,!1)}var aE=typeof setTimeout=="function"?setTimeout:void 0,AR=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(r){return oE.resolve(null).then(r).catch(CR)}:aE;function CR(r){setTimeout(function(){throw r})}function Bm(r,s){var o=s,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){r.removeChild(h),Wl(s);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);Wl(s)}function qm(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qm(o),Is(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function xR(r,s,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[xi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==h.rel||r.getAttribute("href")!==(h.href==null?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=er(r.nextSibling),r===null)break}return null}function IR(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=er(r.nextSibling),r===null))return null;return r}function er(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}function lE(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function uE(r,s,o){switch(s=nf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}var $n=new Map,cE=new Set;function rf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.ownerDocument}var ai=ce.d;ce.d={f:NR,r:DR,D:OR,C:MR,L:PR,m:VR,X:LR,S:kR,M:UR};function NR(){var r=ai.f(),s=Yc();return r||s}function DR(r){var s=Ur(r);s!==null&&s.tag===5&&s.type==="form"?L_(s):ai.r(r)}var go=typeof document>"u"?null:document;function fE(r,s,o){var u=go;if(u&&typeof s=="string"&&s){var h=ot(s);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),cE.has(h)||(cE.add(h),r={rel:r,crossOrigin:o,href:s},u.querySelector(h)===null&&(s=u.createElement("link"),Ft(s,"link",r),tt(s),u.head.appendChild(s)))}}function OR(r){ai.D(r),fE("dns-prefetch",r,null)}function MR(r,s){ai.C(r,s),fE("preconnect",r,s)}function PR(r,s,o){ai.L(r,s,o);var u=go;if(u&&r&&s){var h='link[rel="preload"][as="'+ot(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+ot(o.imageSizes)+'"]')):h+='[href="'+ot(r)+'"]';var p=h;switch(s){case"style":p=yo(r);break;case"script":p=_o(r)}$n.has(p)||(r=O({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),$n.set(p,r),u.querySelector(h)!==null||s==="style"&&u.querySelector(Fl(p))||s==="script"&&u.querySelector(Gl(p))||(s=u.createElement("link"),Ft(s,"link",r),tt(s),u.head.appendChild(s)))}}function VR(r,s){ai.m(r,s);var o=go;if(o&&r){var u=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+ot(u)+'"][href="'+ot(r)+'"]',p=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_o(r)}if(!$n.has(p)&&(r=O({rel:"modulepreload",href:r},s),$n.set(p,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gl(p)))return}u=o.createElement("link"),Ft(u,"link",r),tt(u),o.head.appendChild(u)}}}function kR(r,s,o){ai.S(r,s,o);var u=go;if(u&&r){var h=Ni(u).hoistableStyles,p=yo(r);s=s||"default";var E=h.get(p);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Fl(p)))w.loading=5;else{r=O({rel:"stylesheet",href:r,"data-precedence":s},o),(o=$n.get(p))&&Hm(r,o);var N=E=u.createElement("link");tt(N),Ft(N,"link",r),N._p=new Promise(function(U,Z){N.onload=U,N.onerror=Z}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,sf(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(p,E)}}}function LR(r,s){ai.X(r,s);var o=go;if(o&&r){var u=Ni(o).hoistableScripts,h=_o(r),p=u.get(h);p||(p=o.querySelector(Gl(h)),p||(r=O({src:r,async:!0},s),(s=$n.get(h))&&Fm(r,s),p=o.createElement("script"),tt(p),Ft(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function UR(r,s){ai.M(r,s);var o=go;if(o&&r){var u=Ni(o).hoistableScripts,h=_o(r),p=u.get(h);p||(p=o.querySelector(Gl(h)),p||(r=O({src:r,async:!0,type:"module"},s),(s=$n.get(h))&&Fm(r,s),p=o.createElement("script"),tt(p),Ft(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(h,p))}}function hE(r,s,o,u){var h=(h=Dn.current)?rf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=yo(o.href),o=Ni(h).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=yo(o.href);var p=Ni(h).hoistableStyles,E=p.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,E),(p=h.querySelector(Fl(r)))&&!p._p&&(E.instance=p,E.state.loading=5),$n.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(r,o),p||jR(h,r,o,E.state))),s&&u===null)throw Error(i(528,""));return E}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_o(o),o=Ni(h).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function yo(r){return'href="'+ot(r)+'"'}function Fl(r){return'link[rel="stylesheet"]['+r+"]"}function dE(r){return O({},r,{"data-precedence":r.precedence,precedence:null})}function jR(r,s,o,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Ft(s,"link",o),tt(s),r.head.appendChild(s))}function _o(r){return'[src="'+ot(r)+'"]'}function Gl(r){return"script[async]"+r}function mE(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+ot(o.href)+'"]');if(u)return s.instance=u,tt(u),u;var h=O({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),tt(u),Ft(u,"style",h),sf(u,o.precedence,r),s.instance=u;case"stylesheet":h=yo(o.href);var p=r.querySelector(Fl(h));if(p)return s.state.loading|=4,s.instance=p,tt(p),p;u=dE(o),(h=$n.get(h))&&Hm(u,h),p=(r.ownerDocument||r).createElement("link"),tt(p);var E=p;return E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ft(p,"link",u),s.state.loading|=4,sf(p,o.precedence,r),s.instance=p;case"script":return p=_o(o.src),(h=r.querySelector(Gl(p)))?(s.instance=h,tt(h),h):(u=o,(h=$n.get(p))&&(u=O({},o),Fm(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),tt(h),Ft(h,"link",u),r.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&!(s.state.loading&4)&&(u=s.instance,s.state.loading|=4,sf(u,o.precedence,r));return s.instance}function sf(r,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,p=h,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===s)p=w;else if(p!==h)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Hm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Fm(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var af=null;function pE(r,s,o){if(af===null){var u=new Map,h=af=new Map;h.set(o,u)}else h=af,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var p=o[h];if(!(p[xi]||p[Pt]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=r+E;var w=u.get(E);w?w.push(p):u.set(E,[p])}}return u}function gE(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function zR(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function yE(r){return!(r.type==="stylesheet"&&!(r.state.loading&3))}var Kl=null;function BR(){}function qR(r,s,o){if(Kl===null)throw Error(i(475));var u=Kl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&!(s.state.loading&4)){if(s.instance===null){var h=yo(o.href),p=r.querySelector(Fl(h));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=of.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=p,tt(p);return}p=r.ownerDocument||r,o=dE(o),(h=$n.get(h))&&Hm(o,h),p=p.createElement("link"),tt(p);var E=p;E._p=new Promise(function(w,N){E.onload=w,E.onerror=N}),Ft(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&!(s.state.loading&3)&&(u.count++,s=of.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function HR(){if(Kl===null)throw Error(i(475));var r=Kl;return r.stylesheets&&r.count===0&&Gm(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&Gm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function of(){if(this.count--,this.count===0){if(this.stylesheets)Gm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var lf=null;function Gm(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,lf=new Map,s.forEach(FR,r),lf=null,of.call(r))}function FR(r,s){if(!(s.state.loading&4)){var o=lf.get(r);if(o)var u=o.get(null);else{o=new Map,lf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var E=h[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=s.instance,E=h.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,h),o.set(E,h),this.count++,u=of.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),p?p.parentNode.insertBefore(h,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),s.state.loading|=4}}var $l={$$typeof:x,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function GR(r,s,o,u,h,p,E,w){this.tag=1,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oa(0),this.hiddenUpdates=Oa(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function _E(r,s,o,u,h,p,E,w,N,U,Z,ne){return r=new GR(r,s,o,E,w,N,U,ne),s=1,p===!0&&(s|=24),p=Gn(3,null,null,s),r.current=p,p.stateNode=r,s=bd(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},rm(p),r}function vE(r){return r?(r=Ya,r):Ya}function EE(r,s,o,u,h,p){h=vE(h),u.context===null?u.context=h:u.pendingContext=h,u=Hi(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Fi(r,u,s),o!==null&&(cn(o,r,s),Nl(o,r,s))}function TE(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Km(r,s){TE(r,s),(r=r.alternate)&&TE(r,s)}function wE(r){if(r.tag===13){var s=ki(r,67108864);s!==null&&cn(s,r,67108864),Km(r,67108864)}}var uf=!0;function KR(r,s,o,u){var h=A.T;A.T=null;var p=ce.p;try{ce.p=2,$m(r,s,o,u)}finally{ce.p=p,A.T=h}}function $R(r,s,o,u){var h=A.T;A.T=null;var p=ce.p;try{ce.p=8,$m(r,s,o,u)}finally{ce.p=p,A.T=h}}function $m(r,s,o,u){if(uf){var h=Qm(u);if(h===null)Vm(r,s,u,cf,o),SE(r,u);else if(YR(h,r,s,o,u))u.stopPropagation();else if(SE(r,u),s&4&&-1<QR.indexOf(r)){for(;h!==null;){var p=Ur(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=Yn(p.pendingLanes);if(E!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var N=1<<31-an(E);w.entanglements[1]|=N,E&=~N}br(p),!(rt&6)&&(Kc=fn()+500,Bl(0))}}break;case 13:w=ki(p,2),w!==null&&cn(w,p,2),Yc(),Km(p,2)}if(p=Qm(u),p===null&&Vm(r,s,u,cf,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Vm(r,s,u,null,o)}}function Qm(r){return r=La(r),Ym(r)}var cf=null;function Ym(r){if(cf=null,r=Xn(r),r!==null){var s=ye(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=Ge(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return cf=r,null}function bE(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qu()){case St:return 2;case Mt:return 8;case kr:case Yu:return 32;case Yo:return 268435456;default:return 32}default:return 32}}var Xm=!1,Wi=null,Zi=null,Ji=null,Ql=new Map,Yl=new Map,es=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function SE(r,s){switch(r){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Ql.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yl.delete(s.pointerId)}}function Xl(r,s,o,u,h,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},s!==null&&(s=Ur(s),s!==null&&wE(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function YR(r,s,o,u,h){switch(s){case"focusin":return Wi=Xl(Wi,r,s,o,u,h),!0;case"dragenter":return Zi=Xl(Zi,r,s,o,u,h),!0;case"mouseover":return Ji=Xl(Ji,r,s,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ql.set(p,Xl(Ql.get(p)||null,r,s,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,Yl.set(p,Xl(Yl.get(p)||null,r,s,o,u,h)),!0}return!1}function AE(r){var s=Xn(r.target);if(s!==null){var o=ye(s);if(o!==null){if(s=o.tag,s===13){if(s=Ge(o),s!==null){r.blockedOn=s,Ci(r.priority,function(){if(o.tag===13){var u=An(),h=ki(o,u);h!==null&&cn(h,o,u),Km(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function ff(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qm(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);Vn=u,o.target.dispatchEvent(u),Vn=null}else return s=Ur(o),s!==null&&wE(s),r.blockedOn=o,!1;s.shift()}return!0}function RE(r,s,o){ff(r)&&o.delete(s)}function XR(){Xm=!1,Wi!==null&&ff(Wi)&&(Wi=null),Zi!==null&&ff(Zi)&&(Zi=null),Ji!==null&&ff(Ji)&&(Ji=null),Ql.forEach(RE),Yl.forEach(RE)}function hf(r,s){r.blockedOn===s&&(r.blockedOn=null,Xm||(Xm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,XR)))}var df=null;function CE(r){df!==r&&(df=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){df===r&&(df=null);for(var s=0;s<r.length;s+=3){var o=r[s],u=r[s+1],h=r[s+2];if(typeof u!="function"){if(Ym(u||o)===null)continue;break}var p=Ur(o);p!==null&&(r.splice(s,3),s-=3,jd(p,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Wl(r){function s(N){return hf(N,r)}Wi!==null&&hf(Wi,r),Zi!==null&&hf(Zi,r),Ji!==null&&hf(Ji,r),Ql.forEach(s),Yl.forEach(s);for(var o=0;o<es.length;o++){var u=es[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<es.length&&(o=es[0],o.blockedOn===null);)AE(o),o.blockedOn===null&&es.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],p=o[u+1],E=h[At]||null;if(typeof p=="function")E||CE(o);else if(E){var w=null;if(p&&p.hasAttribute("formAction")){if(h=p,E=p[At]||null)w=E.formAction;else if(Ym(h)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),CE(o)}}}function Wm(r){this._internalRoot=r}mf.prototype.render=Wm.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=An();EE(o,u,r,s,null,null)},mf.prototype.unmount=Wm.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;r.tag===0&&ho(),EE(r.current,2,null,r,null,null),Yc(),s[Lr]=null}};function mf(r){this._internalRoot=r}mf.prototype.unstable_scheduleHydration=function(r){if(r){var s=ec();r={blockedOn:null,target:r,priority:s};for(var o=0;o<es.length&&s!==0&&s<es[o].priority;o++);es.splice(o,0,r),o===0&&AE(r)}};var xE=e.version;if(xE!=="19.0.0")throw Error(i(527,xE,"19.0.0"));ce.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=ie(s),r=r!==null?pe(r):null,r=r===null?null:r.stateNode,r};var WR={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{Ti=pf.inject(WR),Yt=pf}catch{}}return Jl.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,u="",h=G_,p=K_,E=$_,w=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(w=s.unstable_transitionCallbacks)),s=_E(r,1,!1,null,null,o,u,h,p,E,w,null),r[Lr]=s.current,Pm(r.nodeType===8?r.parentNode:r),new Wm(s)},Jl.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var u=!1,h="",p=G_,E=K_,w=$_,N=null,U=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(U=o.formState)),s=_E(r,1,!0,s,o??null,u,h,p,E,w,N,U),s.context=vE(null),o=s.current,u=An(),h=Hi(u),h.callback=null,Fi(o,h,u),s.current.lanes=u,ft(s,u),br(s),r[Lr]=s.current,Pm(r),new mf(s)},Jl.version="19.0.0",Jl}var UE;function uC(){if(UE)return tp.exports;UE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tp.exports=lC(),tp.exports}var cC=uC(),eu={},jE;function fC(){if(jE)return eu;jE=1,Object.defineProperty(eu,"__esModule",{value:!0}),eu.parse=c,eu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,x){const I=new l,j=b.length;if(j<2)return I;const D=(x==null?void 0:x.decode)||_;let G=0;do{const X=b.indexOf("=",G);if(X===-1)break;const $=b.indexOf(";",G),se=$===-1?j:$;if(X>se){G=b.lastIndexOf(";",X-1)+1;continue}const re=d(b,G,X),oe=m(b,X,re),P=b.slice(re,oe);if(I[P]===void 0){let R=d(b,X+1,se),A=m(b,se,R);const O=D(b.slice(R,A));I[P]=O}G=se+1}while(G<j);return I}function d(b,x,I){do{const j=b.charCodeAt(x);if(j!==32&&j!==9)return x}while(++x<I);return I}function m(b,x,I){for(;x>I;){const j=b.charCodeAt(--x);if(j!==32&&j!==9)return x+1}return I}function g(b,x,I){const j=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(b))throw new TypeError(`argument name is invalid: ${b}`);const D=j(x);if(!e.test(D))throw new TypeError(`argument val is invalid: ${x}`);let G=b+"="+D;if(!I)return G;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);G+="; Max-Age="+I.maxAge}if(I.domain){if(!t.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);G+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);G+="; Path="+I.path}if(I.expires){if(!T(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);G+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(G+="; HttpOnly"),I.secure&&(G+="; Secure"),I.partitioned&&(G+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return G}function _(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function T(b){return a.call(b)==="[object Date]"}return eu}fC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var zE="popstate";function hC(n={}){function e(i,a){let{pathname:l,search:c,hash:d}=i.location;return Np("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){return typeof a=="string"?a:gu(a)}return mC(e,t,null,n)}function it(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Dr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function dC(){return Math.random().toString(36).substring(2,10)}function BE(n,e){return{usr:n.state,key:n.key,idx:e}}function Np(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Lo(e):e,state:t,key:e&&e.key||i||dC()}}function gu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Lo(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function mC(n,e,t,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,d="POP",m=null,g=_();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let D=_(),G=D==null?null:D-g;g=D,m&&m({action:d,location:j.location,delta:G})}function b(D,G){d="PUSH";let X=Np(j.location,D,G);g=_()+1;let $=BE(X,g),se=j.createHref(X);try{c.pushState($,"",se)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;a.location.assign(se)}l&&m&&m({action:d,location:j.location,delta:1})}function x(D,G){d="REPLACE";let X=Np(j.location,D,G);g=_();let $=BE(X,g),se=j.createHref(X);c.replaceState($,"",se),l&&m&&m({action:d,location:j.location,delta:0})}function I(D){let G=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof D=="string"?D:gu(D);return X=X.replace(/ $/,"%20"),it(G,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,G)}let j={get action(){return d},get location(){return n(a,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(zE,T),m=D,()=>{a.removeEventListener(zE,T),m=null}},createHref(D){return e(a,D)},createURL:I,encodeLocation(D){let G=I(D);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:b,replace:x,go(D){return c.go(D)}};return j}function $w(n,e,t="/"){return pC(n,e,t,!1)}function pC(n,e,t,i){let a=typeof e=="string"?Lo(e):e,l=ds(a.pathname||"/",t);if(l==null)return null;let c=Qw(n);gC(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=CC(l);d=AC(c[m],g,i)}return d}function Qw(n,e=[],t=[],i=""){let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(it(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let g=ci([i,m.relativePath]),_=t.concat(m);l.children&&l.children.length>0&&(it(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Qw(l.children,e,_,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:bC(g,l.index),routesMeta:_})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of Yw(l.path))a(l,c,m)}),e}function Yw(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=Yw(i.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function gC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:SC(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var yC=/^:[\w-]+$/,_C=3,vC=2,EC=1,TC=10,wC=-2,qE=n=>n==="*";function bC(n,e){let t=n.split("/"),i=t.length;return t.some(qE)&&(i+=wC),e&&(i+=vC),t.filter(a=>!qE(a)).reduce((a,l)=>a+(yC.test(l)?_C:l===""?EC:TC),i)}function SC(n,e){return n.length===e.length&&n.slice(0,-1).every((i,a)=>i===e[a])?n[n.length-1]-e[e.length-1]:0}function AC(n,e,t=!1){let{routesMeta:i}=n,a={},l="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],g=d===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},_),b=m.route;if(!T&&g&&t&&!i[i.length-1].route.index&&(T=Bf({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:ci([l,T.pathname]),pathnameBase:DC(ci([l,T.pathnameBase])),route:b}),T.pathnameBase!=="/"&&(l=ci([l,T.pathnameBase]))}return c}function Bf(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=RC(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((g,{paramName:_,isOptional:T},b)=>{if(_==="*"){let I=d[b]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const x=d[b];return T&&!x?g[_]=void 0:g[_]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function RC(n,e=!1,t=!0){Dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function CC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ds(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function xC(n,e="/"){let{pathname:t,search:i="",hash:a=""}=typeof n=="string"?Lo(n):n;return{pathname:t?t.startsWith("/")?t:IC(t,e):e,search:OC(i),hash:MC(a)}}function IC(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function sp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function NC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xw(n){let e=NC(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Ww(n,e,t,i=!1){let a;typeof n=="string"?a=Lo(n):(a={...n},it(!a.pathname||!a.pathname.includes("?"),sp("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),sp("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),sp("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),T-=1;a.pathname=b.join("/")}d=T>=0?e[T]:"/"}let m=xC(a,d),g=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||_)&&(m.pathname+="/"),m}var ci=n=>n.join("/").replace(/\/\/+/g,"/"),DC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),OC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function PC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Zw=["POST","PUT","PATCH","DELETE"];new Set(Zw);var VC=["GET",...Zw];new Set(VC);var Uo=H.createContext(null);Uo.displayName="DataRouter";var Eh=H.createContext(null);Eh.displayName="DataRouterState";var Jw=H.createContext({isTransitioning:!1});Jw.displayName="ViewTransition";var kC=H.createContext(new Map);kC.displayName="Fetchers";var LC=H.createContext(null);LC.displayName="Await";var Mr=H.createContext(null);Mr.displayName="Navigation";var Iu=H.createContext(null);Iu.displayName="Location";var sr=H.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var yg=H.createContext(null);yg.displayName="RouteError";function UC(n,{relative:e}={}){it(Nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=H.useContext(Mr),{hash:a,pathname:l,search:c}=Du(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ci([t,l])),i.createHref({pathname:d,search:c,hash:a})}function Nu(){return H.useContext(Iu)!=null}function ba(){return it(Nu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(Iu).location}var eb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tb(n){H.useContext(Mr).static||H.useLayoutEffect(n)}function ar(){let{isDataRoute:n}=H.useContext(sr);return n?JC():jC()}function jC(){it(Nu(),"useNavigate() may be used only in the context of a <Router> component.");let n=H.useContext(Uo),{basename:e,navigator:t}=H.useContext(Mr),{matches:i}=H.useContext(sr),{pathname:a}=ba(),l=JSON.stringify(Xw(i)),c=H.useRef(!1);return tb(()=>{c.current=!0}),H.useCallback((m,g={})=>{if(Dr(c.current,eb),!c.current)return;if(typeof m=="number"){t.go(m);return}let _=Ww(m,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ci([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,l,a,n])}var zC=H.createContext(null);function BC(n){let e=H.useContext(sr).outlet;return e&&H.createElement(zC.Provider,{value:n},e)}function nb(){let{matches:n}=H.useContext(sr),e=n[n.length-1];return e?e.params:{}}function Du(n,{relative:e}={}){let{matches:t}=H.useContext(sr),{pathname:i}=ba(),a=JSON.stringify(Xw(t));return H.useMemo(()=>Ww(n,JSON.parse(a),i,e==="path"),[n,a,i,e])}function qC(n,e){return rb(n,e)}function rb(n,e,t,i){var X;it(Nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=H.useContext(Mr),{matches:c}=H.useContext(sr),d=c[c.length-1],m=d?d.params:{},g=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let $=T&&T.path||"";ib(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let b=ba(),x;if(e){let $=typeof e=="string"?Lo(e):e;it(_==="/"||((X=$.pathname)==null?void 0:X.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${$.pathname}" was given in the \`location\` prop.`),x=$}else x=b;let I=x.pathname||"/",j=I;if(_!=="/"){let $=_.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice($.length).join("/")}let D=!l&&t&&t.matches&&t.matches.length>0?t.matches:$w(n,{pathname:j});Dr(T||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Dr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=$C(D&&D.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:ci([_,a.encodeLocation?a.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?_:ci([_,a.encodeLocation?a.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),c,t,i);return e&&G?H.createElement(Iu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function HC(){let n=ZC(),e=PC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:l},"ErrorBoundary")," or"," ",H.createElement("code",{style:l},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),t?H.createElement("pre",{style:a},t):null,c)}var FC=H.createElement(HC,null),GC=class extends H.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?H.createElement(sr.Provider,{value:this.props.routeContext},H.createElement(yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function KC({routeContext:n,match:e,children:t}){let i=H.useContext(Uo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(sr.Provider,{value:n},t)}function $C(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let m=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);it(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,m+1))}let c=!1,d=-1;if(t)for(let m=0;m<a.length;m++){let g=a[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:_,errors:T}=t,b=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((m,g,_)=>{let T,b=!1,x=null,I=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,x=g.route.errorElement||FC,c&&(d<0&&_===0?(ib("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,I=null):d===_&&(b=!0,I=g.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,_+1)),D=()=>{let G;return T?G=x:b?G=I:g.route.Component?G=H.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=m,H.createElement(KC,{match:g,routeContext:{outlet:m,matches:j,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?H.createElement(GC,{location:t.location,revalidation:t.revalidation,component:x,error:T,children:D(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):D()},null)}function _g(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QC(n){let e=H.useContext(Uo);return it(e,_g(n)),e}function YC(n){let e=H.useContext(Eh);return it(e,_g(n)),e}function XC(n){let e=H.useContext(sr);return it(e,_g(n)),e}function vg(n){let e=XC(n),t=e.matches[e.matches.length-1];return it(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function WC(){return vg("useRouteId")}function ZC(){var i;let n=H.useContext(yg),e=YC("useRouteError"),t=vg("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function JC(){let{router:n}=QC("useNavigate"),e=vg("useNavigate"),t=H.useRef(!1);return tb(()=>{t.current=!0}),H.useCallback(async(a,l={})=>{Dr(t.current,eb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var HE={};function ib(n,e,t){!e&&!HE[n]&&(HE[n]=!0,Dr(!1,t))}H.memo(ex);function ex({routes:n,future:e,state:t}){return rb(n,void 0,t,e)}function tx(n){return BC(n.context)}function ia(n){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function nx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:a,static:l=!1}){it(!Nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=H.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Lo(t));let{pathname:m="/",search:g="",hash:_="",state:T=null,key:b="default"}=t,x=H.useMemo(()=>{let I=ds(m,c);return I==null?null:{location:{pathname:I,search:g,hash:_,state:T,key:b},navigationType:i}},[c,m,g,_,T,b,i]);return Dr(x!=null,`<Router basename="${c}"> is not able to match the URL "${m}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:H.createElement(Mr.Provider,{value:d},H.createElement(Iu.Provider,{children:e,value:x}))}function rx({children:n,location:e}){return qC(Dp(n),e)}function Dp(n,e=[]){let t=[];return H.Children.forEach(n,(i,a)=>{if(!H.isValidElement(i))return;let l=[...e,a];if(i.type===H.Fragment){t.push.apply(t,Dp(i.props.children,l));return}it(i.type===ia,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Dp(i.props.children,l)),t.push(c)}),t}var Sf="get",Af="application/x-www-form-urlencoded";function Th(n){return n!=null&&typeof n.tagName=="string"}function ix(n){return Th(n)&&n.tagName.toLowerCase()==="button"}function sx(n){return Th(n)&&n.tagName.toLowerCase()==="form"}function ax(n){return Th(n)&&n.tagName.toLowerCase()==="input"}function ox(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function lx(n,e){return n.button===0&&(!e||e==="_self")&&!ox(n)}var gf=null;function ux(){if(gf===null)try{new FormData(document.createElement("form"),0),gf=!1}catch{gf=!0}return gf}var cx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ap(n){return n!=null&&!cx.has(n)?(Dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Af}"`),null):n}function fx(n,e){let t,i,a,l,c;if(sx(n)){let d=n.getAttribute("action");i=d?ds(d,e):null,t=n.getAttribute("method")||Sf,a=ap(n.getAttribute("enctype"))||Af,l=new FormData(n)}else if(ix(n)||ax(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(i=m?ds(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Sf,a=ap(n.getAttribute("formenctype"))||ap(d.getAttribute("enctype"))||Af,l=new FormData(d,n),!ux()){let{name:g,type:_,value:T}=n;if(_==="image"){let b=g?`${g}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else g&&l.append(g,T)}}else{if(Th(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Sf,i=null,a=Af,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:a,formData:l,body:c}}function Eg(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function hx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mx(n,e,t){let i=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await hx(l,t);return c.links?c.links():[]}return[]}));return _x(i.flat(1).filter(dx).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FE(n,e,t,i,a,l){let c=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var _;return t[g].pathname!==m.pathname||((_=t[g].route.path)==null?void 0:_.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>c(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var T;let _=i.routes[m.route.id];if(!_||!_.hasLoader)return!1;if(c(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function px(n,e){return gx(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let a=[i.module];return i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function gx(n){return[...new Set(n)]}function yx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function _x(n,e){let t=new Set;return new Set(e),n.reduce((i,a)=>{let l=JSON.stringify(yx(a));return t.has(l)||(t.add(l),i.push({key:l,link:a})),i},[])}function vx(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Ex(){let n=H.useContext(Uo);return Eg(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Tx(){let n=H.useContext(Eh);return Eg(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tg=H.createContext(void 0);Tg.displayName="FrameworkContext";function sb(){let n=H.useContext(Tg);return Eg(n,"You must render this element inside a <HydratedRouter> element"),n}function wx(n,e){let t=H.useContext(Tg),[i,a]=H.useState(!1),[l,c]=H.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:_,onTouchStart:T}=e,b=H.useRef(null);H.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=G=>{G.forEach(X=>{c(X.isIntersecting)})},D=new IntersectionObserver(j,{threshold:.5});return b.current&&D.observe(b.current),()=>{D.disconnect()}}},[n]),H.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let x=()=>{a(!0)},I=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,b,{}]:[l,b,{onFocus:tu(d,x),onBlur:tu(m,I),onMouseEnter:tu(g,x),onMouseLeave:tu(_,I),onTouchStart:tu(T,x)}]:[!1,b,{}]}function tu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function bx({page:n,...e}){let{router:t}=Ex(),i=H.useMemo(()=>$w(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?H.createElement(Ax,{page:n,matches:i,...e}):null}function Sx(n){let{manifest:e,routeModules:t}=sb(),[i,a]=H.useState([]);return H.useEffect(()=>{let l=!1;return mx(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),i}function Ax({page:n,matches:e,...t}){let i=ba(),{manifest:a,routeModules:l}=sb(),{loaderData:c,matches:d}=Tx(),m=H.useMemo(()=>FE(n,e,d,a,i,"data"),[n,e,d,a,i]),g=H.useMemo(()=>FE(n,e,d,a,i,"assets"),[n,e,d,a,i]),_=H.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let x=new Set,I=!1;if(e.forEach(D=>{var X;let G=a.routes[D.route.id];!G||!G.hasLoader||(!m.some($=>$.route.id===D.route.id)&&D.route.id in c&&((X=l[D.route.id])!=null&&X.shouldRevalidate)||G.hasClientLoader?I=!0:x.add(D.route.id))}),x.size===0)return[];let j=vx(n);return I&&x.size>0&&j.searchParams.set("_routes",e.filter(D=>x.has(D.route.id)).map(D=>D.route.id).join(",")),[j.pathname+j.search]},[c,i,a,m,e,n,l]),T=H.useMemo(()=>px(g,a),[g,a]),b=Sx(g);return H.createElement(H.Fragment,null,_.map(x=>H.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...t})),T.map(x=>H.createElement("link",{key:x,rel:"modulepreload",href:x,...t})),b.map(({key:x,link:I})=>H.createElement("link",{key:x,...I})))}function Rx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ab=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ab&&(window.__reactRouterVersion="7.1.5")}catch{}function Cx({basename:n,children:e,window:t}){let i=H.useRef();i.current==null&&(i.current=hC({window:t,v5Compat:!0}));let a=i.current,[l,c]=H.useState({action:a.action,location:a.location}),d=H.useCallback(m=>{H.startTransition(()=>c(m))},[c]);return H.useLayoutEffect(()=>a.listen(d),[a,d]),H.createElement(nx,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=H.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:_,viewTransition:T,...b},x){let{basename:I}=H.useContext(Mr),j=typeof g=="string"&&ob.test(g),D,G=!1;if(typeof g=="string"&&j&&(D=g,ab))try{let A=new URL(window.location.href),O=g.startsWith("//")?new URL(A.protocol+g):new URL(g),L=ds(O.pathname,I);O.origin===A.origin&&L!=null?g=L+O.search+O.hash:G=!0}catch{Dr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=UC(g,{relative:a}),[$,se,re]=wx(i,b),oe=Dx(g,{replace:c,state:d,target:m,preventScrollReset:_,relative:a,viewTransition:T});function P(A){e&&e(A),A.defaultPrevented||oe(A)}let R=H.createElement("a",{...b,...re,href:D||X,onClick:G||l?e:P,ref:Rx(x,se),target:m,"data-discover":!j&&t==="render"?"true":void 0});return $&&!j?H.createElement(H.Fragment,null,R,H.createElement(bx,{page:X})):R});_n.displayName="Link";var xx=H.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:a=!1,style:l,to:c,viewTransition:d,children:m,...g},_){let T=Du(c,{relative:g.relative}),b=ba(),x=H.useContext(Eh),{navigator:I,basename:j}=H.useContext(Mr),D=x!=null&&kx(T)&&d===!0,G=I.encodeLocation?I.encodeLocation(T).pathname:T.pathname,X=b.pathname,$=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(X=X.toLowerCase(),$=$?$.toLowerCase():null,G=G.toLowerCase()),$&&j&&($=ds($,j)||$);const se=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let re=X===G||!a&&X.startsWith(G)&&X.charAt(se)==="/",oe=$!=null&&($===G||!a&&$.startsWith(G)&&$.charAt(G.length)==="/"),P={isActive:re,isPending:oe,isTransitioning:D},R=re?e:void 0,A;typeof i=="function"?A=i(P):A=[i,re?"active":null,oe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof l=="function"?l(P):l;return H.createElement(_n,{...g,"aria-current":R,className:A,ref:_,style:O,to:c,viewTransition:d},typeof m=="function"?m(P):m)});xx.displayName="NavLink";var Ix=H.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:a,state:l,method:c=Sf,action:d,onSubmit:m,relative:g,preventScrollReset:_,viewTransition:T,...b},x)=>{let I=Px(),j=Vx(d,{relative:g}),D=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&ob.test(d),X=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let se=$.nativeEvent.submitter,re=(se==null?void 0:se.getAttribute("formmethod"))||c;I(se||$.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:a,state:l,relative:g,preventScrollReset:_,viewTransition:T})};return H.createElement("form",{ref:x,method:D,action:j,onSubmit:i?m:X,...b,"data-discover":!G&&n==="render"?"true":void 0})});Ix.displayName="Form";function Nx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(n){let e=H.useContext(Uo);return it(e,Nx(n)),e}function Dx(n,{target:e,replace:t,state:i,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=ar(),m=ba(),g=Du(n,{relative:l});return H.useCallback(_=>{if(lx(_,e)){_.preventDefault();let T=t!==void 0?t:gu(m)===gu(g);d(n,{replace:T,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[m,d,g,t,i,e,n,a,l,c])}var Ox=0,Mx=()=>`__${String(++Ox)}__`;function Px(){let{router:n}=lb("useSubmit"),{basename:e}=H.useContext(Mr),t=WC();return H.useCallback(async(i,a={})=>{let{action:l,method:c,encType:d,formData:m,body:g}=fx(i,e);if(a.navigate===!1){let _=a.fetcherKey||Mx();await n.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:m,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function Vx(n,{relative:e}={}){let{basename:t}=H.useContext(Mr),i=H.useContext(sr);it(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Du(n||".",{relative:e})},c=ba();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(_=>_==="")){d.delete("index"),m.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ci([t,l.pathname])),gu(l)}function kx(n,e={}){let t=H.useContext(Jw);it(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lb("useViewTransitionState"),a=Du(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=ds(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ds(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Bf(a.pathname,c)!=null||Bf(a.pathname,l)!=null}new TextEncoder;function ub(n,e){return function(){return n.apply(e,arguments)}}const{toString:Lx}=Object.prototype,{getPrototypeOf:wg}=Object,wh=(n=>e=>{const t=Lx.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=n=>(n=n.toLowerCase(),e=>wh(e)===n),bh=n=>e=>typeof e===n,{isArray:jo}=Array,yu=bh("undefined");function Ux(n){return n!==null&&!yu(n)&&n.constructor!==null&&!yu(n.constructor)&&xn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const cb=or("ArrayBuffer");function jx(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&cb(n.buffer),e}const zx=bh("string"),xn=bh("function"),fb=bh("number"),Sh=n=>n!==null&&typeof n=="object",Bx=n=>n===!0||n===!1,Rf=n=>{if(wh(n)!=="object")return!1;const e=wg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},qx=or("Date"),Hx=or("File"),Fx=or("Blob"),Gx=or("FileList"),Kx=n=>Sh(n)&&xn(n.pipe),$x=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||xn(n.append)&&((e=wh(n))==="formdata"||e==="object"&&xn(n.toString)&&n.toString()==="[object FormData]"))},Qx=or("URLSearchParams"),[Yx,Xx,Wx,Zx]=["ReadableStream","Request","Response","Headers"].map(or),Jx=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ou(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,a;if(typeof n!="object"&&(n=[n]),jo(n))for(i=0,a=n.length;i<a;i++)e.call(null,n[i],i,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let d;for(i=0;i<c;i++)d=l[i],e.call(null,n[d],d,n)}}function hb(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,a;for(;i-- >0;)if(a=t[i],e===a.toLowerCase())return a;return null}const oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,db=n=>!yu(n)&&n!==oa;function Op(){const{caseless:n}=db(this)&&this||{},e={},t=(i,a)=>{const l=n&&hb(e,a)||a;Rf(e[l])&&Rf(i)?e[l]=Op(e[l],i):Rf(i)?e[l]=Op({},i):jo(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Ou(arguments[i],t);return e}const e1=(n,e,t,{allOwnKeys:i}={})=>(Ou(e,(a,l)=>{t&&xn(a)?n[l]=ub(a,t):n[l]=a},{allOwnKeys:i}),n),t1=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),n1=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},r1=(n,e,t,i)=>{let a,l,c;const d={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)c=a[l],(!i||i(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&wg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},i1=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},s1=n=>{if(!n)return null;if(jo(n))return n;let e=n.length;if(!fb(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},a1=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&wg(Uint8Array)),o1=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},l1=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},u1=or("HTMLFormElement"),c1=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,a){return i.toUpperCase()+a}),GE=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),f1=or("RegExp"),mb=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};Ou(t,(a,l)=>{let c;(c=e(a,l,n))!==!1&&(i[l]=c||a)}),Object.defineProperties(n,i)},h1=n=>{mb(n,(e,t)=>{if(xn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(xn(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},d1=(n,e)=>{const t={},i=a=>{a.forEach(l=>{t[l]=!0})};return jo(n)?i(n):i(String(n).split(e)),t},m1=()=>{},p1=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,op="abcdefghijklmnopqrstuvwxyz",KE="0123456789",pb={DIGIT:KE,ALPHA:op,ALPHA_DIGIT:op+op.toUpperCase()+KE},g1=(n=16,e=pb.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function y1(n){return!!(n&&xn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const _1=n=>{const e=new Array(10),t=(i,a)=>{if(Sh(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=jo(i)?[]:{};return Ou(i,(c,d)=>{const m=t(c,a+1);!yu(m)&&(l[d]=m)}),e[a]=void 0,l}}return i};return t(n,0)},v1=or("AsyncFunction"),E1=n=>n&&(Sh(n)||xn(n))&&xn(n.then)&&xn(n.catch),gb=((n,e)=>n?setImmediate:e?((t,i)=>(oa.addEventListener("message",({source:a,data:l})=>{a===oa&&l===t&&i.length&&i.shift()()},!1),a=>{i.push(a),oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",xn(oa.postMessage)),T1=typeof queueMicrotask<"u"?queueMicrotask.bind(oa):typeof process<"u"&&process.nextTick||gb,Y={isArray:jo,isArrayBuffer:cb,isBuffer:Ux,isFormData:$x,isArrayBufferView:jx,isString:zx,isNumber:fb,isBoolean:Bx,isObject:Sh,isPlainObject:Rf,isReadableStream:Yx,isRequest:Xx,isResponse:Wx,isHeaders:Zx,isUndefined:yu,isDate:qx,isFile:Hx,isBlob:Fx,isRegExp:f1,isFunction:xn,isStream:Kx,isURLSearchParams:Qx,isTypedArray:a1,isFileList:Gx,forEach:Ou,merge:Op,extend:e1,trim:Jx,stripBOM:t1,inherits:n1,toFlatObject:r1,kindOf:wh,kindOfTest:or,endsWith:i1,toArray:s1,forEachEntry:o1,matchAll:l1,isHTMLForm:u1,hasOwnProperty:GE,hasOwnProp:GE,reduceDescriptors:mb,freezeMethods:h1,toObjectSet:d1,toCamelCase:c1,noop:m1,toFiniteNumber:p1,findKey:hb,global:oa,isContextDefined:db,ALPHABET:pb,generateString:g1,isSpecCompliantForm:y1,toJSONObject:_1,isAsyncFn:v1,isThenable:E1,setImmediate:gb,asap:T1};function Re(n,e,t,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(Re,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const yb=Re.prototype,_b={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{_b[n]={value:n}});Object.defineProperties(Re,_b);Object.defineProperty(yb,"isAxiosError",{value:!0});Re.from=(n,e,t,i,a,l)=>{const c=Object.create(yb);return Y.toFlatObject(n,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),Re.call(c,n.message,e,t,i,a),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const w1=null;function Mp(n){return Y.isPlainObject(n)||Y.isArray(n)}function vb(n){return Y.endsWith(n,"[]")?n.slice(0,-2):n}function $E(n,e,t){return n?n.concat(e).map(function(a,l){return a=vb(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function b1(n){return Y.isArray(n)&&!n.some(Mp)}const S1=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function Ah(n,e,t){if(!Y.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,D){return!Y.isUndefined(D[j])});const i=t.metaTokens,a=t.visitor||_,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function g(I){if(I===null)return"";if(Y.isDate(I))return I.toISOString();if(!m&&Y.isBlob(I))throw new Re("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(I)||Y.isTypedArray(I)?m&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function _(I,j,D){let G=I;if(I&&!D&&typeof I=="object"){if(Y.endsWith(j,"{}"))j=i?j:j.slice(0,-2),I=JSON.stringify(I);else if(Y.isArray(I)&&b1(I)||(Y.isFileList(I)||Y.endsWith(j,"[]"))&&(G=Y.toArray(I)))return j=vb(j),G.forEach(function($,se){!(Y.isUndefined($)||$===null)&&e.append(c===!0?$E([j],se,l):c===null?j:j+"[]",g($))}),!1}return Mp(I)?!0:(e.append($E(D,j,l),g(I)),!1)}const T=[],b=Object.assign(S1,{defaultVisitor:_,convertValue:g,isVisitable:Mp});function x(I,j){if(!Y.isUndefined(I)){if(T.indexOf(I)!==-1)throw Error("Circular reference detected in "+j.join("."));T.push(I),Y.forEach(I,function(G,X){(!(Y.isUndefined(G)||G===null)&&a.call(e,G,Y.isString(X)?X.trim():X,j,b))===!0&&x(G,j?j.concat(X):[X])}),T.pop()}}if(!Y.isObject(n))throw new TypeError("data must be an object");return x(n),e}function QE(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function bg(n,e){this._pairs=[],n&&Ah(n,this,e)}const Eb=bg.prototype;Eb.append=function(e,t){this._pairs.push([e,t])};Eb.toString=function(e){const t=e?function(i){return e.call(this,i,QE)}:QE;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function A1(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Tb(n,e,t){if(!e)return n;const i=t&&t.encode||A1;Y.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=Y.isURLSearchParams(e)?e.toString():new bg(e,t).toString(i),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class YE{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(i){i!==null&&e(i)})}}const wb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},R1=typeof URLSearchParams<"u"?URLSearchParams:bg,C1=typeof FormData<"u"?FormData:null,x1=typeof Blob<"u"?Blob:null,I1={isBrowser:!0,classes:{URLSearchParams:R1,FormData:C1,Blob:x1},protocols:["http","https","file","blob","url","data"]},Sg=typeof window<"u"&&typeof document<"u",Pp=typeof navigator=="object"&&navigator||void 0,N1=Sg&&(!Pp||["ReactNative","NativeScript","NS"].indexOf(Pp.product)<0),D1=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",O1=Sg&&window.location.href||"http://localhost",M1=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sg,hasStandardBrowserEnv:N1,hasStandardBrowserWebWorkerEnv:D1,navigator:Pp,origin:O1},Symbol.toStringTag,{value:"Module"})),tn={...M1,...I1};function P1(n,e){return Ah(n,new tn.classes.URLSearchParams,Object.assign({visitor:function(t,i,a,l){return tn.isNode&&Y.isBuffer(t)?(this.append(i,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function V1(n){return Y.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k1(n){const e={},t=Object.keys(n);let i;const a=t.length;let l;for(i=0;i<a;i++)l=t[i],e[l]=n[l];return e}function bb(n){function e(t,i,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&Y.isArray(a)?a.length:c,m?(Y.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!d):((!a[c]||!Y.isObject(a[c]))&&(a[c]=[]),e(t,i,a[c],l)&&Y.isArray(a[c])&&(a[c]=k1(a[c])),!d)}if(Y.isFormData(n)&&Y.isFunction(n.entries)){const t={};return Y.forEachEntry(n,(i,a)=>{e(V1(i),a,t,0)}),t}return null}function L1(n,e,t){if(Y.isString(n))try{return(e||JSON.parse)(n),Y.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const Mu={transitional:wb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",a=i.indexOf("application/json")>-1,l=Y.isObject(e);if(l&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return a?JSON.stringify(bb(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return P1(e,this.formSerializer).toString();if((d=Y.isFileList(e))||i.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return Ah(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),L1(e)):e}],transformResponse:[function(e){const t=this.transitional||Mu.transitional,i=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(i&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Re.from(d,Re.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],n=>{Mu.headers[n]={}});const U1=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j1=n=>{const e={};let t,i,a;return n&&n.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!t||e[t]&&U1[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},XE=Symbol("internals");function nu(n){return n&&String(n).trim().toLowerCase()}function Cf(n){return n===!1||n==null?n:Y.isArray(n)?n.map(Cf):String(n)}function z1(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const B1=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function lp(n,e,t,i,a){if(Y.isFunction(i))return i.call(this,e,t);if(a&&(e=t),!!Y.isString(e)){if(Y.isString(i))return e.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(e)}}function q1(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function H1(n,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(a,l,c){return this[i].call(this,e,a,l,c)},configurable:!0})})}let gn=class{constructor(e){e&&this.set(e)}set(e,t,i){const a=this;function l(d,m,g){const _=nu(m);if(!_)throw new Error("header name must be a non-empty string");const T=Y.findKey(a,_);(!T||a[T]===void 0||g===!0||g===void 0&&a[T]!==!1)&&(a[T||m]=Cf(d))}const c=(d,m)=>Y.forEach(d,(g,_)=>l(g,_,m));if(Y.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Y.isString(e)&&(e=e.trim())&&!B1(e))c(j1(e),t);else if(Y.isHeaders(e))for(const[d,m]of e.entries())l(m,d,i);else e!=null&&l(t,e,i);return this}get(e,t){if(e=nu(e),e){const i=Y.findKey(this,e);if(i){const a=this[i];if(!t)return a;if(t===!0)return z1(a);if(Y.isFunction(t))return t.call(this,a,i);if(Y.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=nu(e),e){const i=Y.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||lp(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let a=!1;function l(c){if(c=nu(c),c){const d=Y.findKey(i,c);d&&(!t||lp(i,i[d],d,t))&&(delete i[d],a=!0)}}return Y.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let i=t.length,a=!1;for(;i--;){const l=t[i];(!e||lp(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,i={};return Y.forEach(this,(a,l)=>{const c=Y.findKey(i,l);if(c){t[c]=Cf(a),delete t[l];return}const d=e?q1(l):String(l).trim();d!==l&&delete t[l],t[d]=Cf(a),i[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(i,a)=>{i!=null&&i!==!1&&(t[a]=e&&Y.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[XE]=this[XE]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=nu(c);i[d]||(H1(a,c),i[d]=!0)}return Y.isArray(e)?e.forEach(l):l(e),this}};gn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(gn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});Y.freezeMethods(gn);function up(n,e){const t=this||Mu,i=e||t,a=gn.from(i.headers);let l=i.data;return Y.forEach(n,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function Sb(n){return!!(n&&n.__CANCEL__)}function zo(n,e,t){Re.call(this,n??"canceled",Re.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(zo,Re,{__CANCEL__:!0});function Ab(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new Re("Request failed with status code "+t.status,[Re.ERR_BAD_REQUEST,Re.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function F1(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function G1(n,e){n=n||10;const t=new Array(n),i=new Array(n);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),_=i[l];c||(c=g),t[a]=m,i[a]=g;let T=l,b=0;for(;T!==a;)b+=t[T++],T=T%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-c<e)return;const x=_&&g-_;return x?Math.round(b*1e3/x):void 0}}function K1(n,e){let t=0,i=1e3/e,a,l;const c=(g,_=Date.now())=>{t=_,a=null,l&&(clearTimeout(l),l=null),n.apply(null,g)};return[(...g)=>{const _=Date.now(),T=_-t;T>=i?c(g,_):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},i-T)))},()=>a&&c(a)]}const qf=(n,e,t=3)=>{let i=0;const a=G1(50,250);return K1(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-i,g=a(m),_=c<=d;i=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:g||void 0,estimated:g&&d&&_?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},WE=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},ZE=n=>(...e)=>Y.asap(()=>n(...e)),$1=tn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,tn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,Q1=tn.hasStandardBrowserEnv?{write(n,e,t,i,a,l){const c=[n+"="+encodeURIComponent(e)];Y.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),Y.isString(i)&&c.push("path="+i),Y.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Y1(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function X1(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Rb(n,e){return n&&!Y1(e)?X1(n,e):e}const JE=n=>n instanceof gn?{...n}:n;function da(n,e){e=e||{};const t={};function i(g,_,T,b){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:b},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function a(g,_,T,b){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return i(void 0,g,T,b)}else return i(g,_,T,b)}function l(g,_){if(!Y.isUndefined(_))return i(void 0,_)}function c(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return i(void 0,g)}else return i(void 0,_)}function d(g,_,T){if(T in e)return i(g,_);if(T in n)return i(void 0,g)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,_,T)=>a(JE(g),JE(_),T,!0)};return Y.forEach(Object.keys(Object.assign({},n,e)),function(_){const T=m[_]||a,b=T(n[_],e[_],_);Y.isUndefined(b)&&T!==d||(t[_]=b)}),t}const Cb=n=>{const e=da({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=gn.from(c),e.url=Tb(Rb(e.baseURL,e.url),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(Y.isFormData(t)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[g,..._]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",..._].join("; "))}}if(tn.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(e)),i||i!==!1&&$1(e.url))){const g=a&&l&&Q1.read(l);g&&c.set(a,g)}return e},W1=typeof XMLHttpRequest<"u",Z1=W1&&function(n){return new Promise(function(t,i){const a=Cb(n);let l=a.data;const c=gn.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:g}=a,_,T,b,x,I;function j(){x&&x(),I&&I(),a.cancelToken&&a.cancelToken.unsubscribe(_),a.signal&&a.signal.removeEventListener("abort",_)}let D=new XMLHttpRequest;D.open(a.method.toUpperCase(),a.url,!0),D.timeout=a.timeout;function G(){if(!D)return;const $=gn.from("getAllResponseHeaders"in D&&D.getAllResponseHeaders()),re={data:!d||d==="text"||d==="json"?D.responseText:D.response,status:D.status,statusText:D.statusText,headers:$,config:n,request:D};Ab(function(P){t(P),j()},function(P){i(P),j()},re),D=null}"onloadend"in D?D.onloadend=G:D.onreadystatechange=function(){!D||D.readyState!==4||D.status===0&&!(D.responseURL&&D.responseURL.indexOf("file:")===0)||setTimeout(G)},D.onabort=function(){D&&(i(new Re("Request aborted",Re.ECONNABORTED,n,D)),D=null)},D.onerror=function(){i(new Re("Network Error",Re.ERR_NETWORK,n,D)),D=null},D.ontimeout=function(){let se=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const re=a.transitional||wb;a.timeoutErrorMessage&&(se=a.timeoutErrorMessage),i(new Re(se,re.clarifyTimeoutError?Re.ETIMEDOUT:Re.ECONNABORTED,n,D)),D=null},l===void 0&&c.setContentType(null),"setRequestHeader"in D&&Y.forEach(c.toJSON(),function(se,re){D.setRequestHeader(re,se)}),Y.isUndefined(a.withCredentials)||(D.withCredentials=!!a.withCredentials),d&&d!=="json"&&(D.responseType=a.responseType),g&&([b,I]=qf(g,!0),D.addEventListener("progress",b)),m&&D.upload&&([T,x]=qf(m),D.upload.addEventListener("progress",T),D.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(_=$=>{D&&(i(!$||$.type?new zo(null,n,D):$),D.abort(),D=null)},a.cancelToken&&a.cancelToken.subscribe(_),a.signal&&(a.signal.aborted?_():a.signal.addEventListener("abort",_)));const X=F1(a.url);if(X&&tn.protocols.indexOf(X)===-1){i(new Re("Unsupported protocol "+X+":",Re.ERR_BAD_REQUEST,n));return}D.send(l||null)})},J1=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,a;const l=function(g){if(!a){a=!0,d();const _=g instanceof Error?g:this.reason;i.abort(_ instanceof Re?_:new zo(_ instanceof Error?_.message:_))}};let c=e&&setTimeout(()=>{c=null,l(new Re(`timeout ${e} of ms exceeded`,Re.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),n=null)};n.forEach(g=>g.addEventListener("abort",l));const{signal:m}=i;return m.unsubscribe=()=>Y.asap(d),m}},eI=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,a;for(;i<t;)a=i+e,yield n.slice(i,a),i=a},tI=async function*(n,e){for await(const t of nI(n))yield*eI(t,e)},nI=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},eT=(n,e,t,i)=>{const a=tI(n,e);let l=0,c,d=m=>{c||(c=!0,i&&i(m))};return new ReadableStream({async pull(m){try{const{done:g,value:_}=await a.next();if(g){d(),m.close();return}let T=_.byteLength;if(t){let b=l+=T;t(b)}m.enqueue(new Uint8Array(_))}catch(g){throw d(g),g}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},Rh=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xb=Rh&&typeof ReadableStream=="function",rI=Rh&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),Ib=(n,...e)=>{try{return!!n(...e)}catch{return!1}},iI=xb&&Ib(()=>{let n=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),tT=64*1024,Vp=xb&&Ib(()=>Y.isReadableStream(new Response("").body)),Hf={stream:Vp&&(n=>n.body)};Rh&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hf[e]&&(Hf[e]=Y.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new Re(`Response type '${e}' is not supported`,Re.ERR_NOT_SUPPORT,i)})})})(new Response);const sI=async n=>{if(n==null)return 0;if(Y.isBlob(n))return n.size;if(Y.isSpecCompliantForm(n))return(await new Request(tn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(n)||Y.isArrayBuffer(n))return n.byteLength;if(Y.isURLSearchParams(n)&&(n=n+""),Y.isString(n))return(await rI(n)).byteLength},aI=async(n,e)=>{const t=Y.toFiniteNumber(n.getContentLength());return t??sI(e)},oI=Rh&&(async n=>{let{url:e,method:t,data:i,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:g,headers:_,withCredentials:T="same-origin",fetchOptions:b}=Cb(n);g=g?(g+"").toLowerCase():"text";let x=J1([a,l&&l.toAbortSignal()],c),I;const j=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let D;try{if(m&&iI&&t!=="get"&&t!=="head"&&(D=await aI(_,i))!==0){let re=new Request(e,{method:"POST",body:i,duplex:"half"}),oe;if(Y.isFormData(i)&&(oe=re.headers.get("content-type"))&&_.setContentType(oe),re.body){const[P,R]=WE(D,qf(ZE(m)));i=eT(re.body,tT,P,R)}}Y.isString(T)||(T=T?"include":"omit");const G="credentials"in Request.prototype;I=new Request(e,{...b,signal:x,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:i,duplex:"half",credentials:G?T:void 0});let X=await fetch(I);const $=Vp&&(g==="stream"||g==="response");if(Vp&&(d||$&&j)){const re={};["status","statusText","headers"].forEach(A=>{re[A]=X[A]});const oe=Y.toFiniteNumber(X.headers.get("content-length")),[P,R]=d&&WE(oe,qf(ZE(d),!0))||[];X=new Response(eT(X.body,tT,P,()=>{R&&R(),j&&j()}),re)}g=g||"text";let se=await Hf[Y.findKey(Hf,g)||"text"](X,n);return!$&&j&&j(),await new Promise((re,oe)=>{Ab(re,oe,{data:se,headers:gn.from(X.headers),status:X.status,statusText:X.statusText,config:n,request:I})})}catch(G){throw j&&j(),G&&G.name==="TypeError"&&/fetch/i.test(G.message)?Object.assign(new Re("Network Error",Re.ERR_NETWORK,n,I),{cause:G.cause||G}):Re.from(G,G&&G.code,n,I)}}),kp={http:w1,xhr:Z1,fetch:oI};Y.forEach(kp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const nT=n=>`- ${n}`,lI=n=>Y.isFunction(n)||n===null||n===!1,Nb={getAdapter:n=>{n=Y.isArray(n)?n:[n];const{length:e}=n;let t,i;const a={};for(let l=0;l<e;l++){t=n[l];let c;if(i=t,!lI(t)&&(i=kp[(c=String(t)).toLowerCase()],i===void 0))throw new Re(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+l]=i}if(!i){const l=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(nT).join(`
`):" "+nT(l[0]):"as no adapter specified";throw new Re("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:kp};function cp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new zo(null,n)}function rT(n){return cp(n),n.headers=gn.from(n.headers),n.data=up.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Nb.getAdapter(n.adapter||Mu.adapter)(n).then(function(i){return cp(n),i.data=up.call(n,n.transformResponse,i),i.headers=gn.from(i.headers),i},function(i){return Sb(i)||(cp(n),i&&i.response&&(i.response.data=up.call(n,n.transformResponse,i.response),i.response.headers=gn.from(i.response.headers))),Promise.reject(i)})}const Db="1.7.9",Ch={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Ch[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const iT={};Ch.transitional=function(e,t,i){function a(l,c){return"[Axios v"+Db+"] Transitional option '"+l+"'"+c+(i?". "+i:"")}return(l,c,d)=>{if(e===!1)throw new Re(a(c," has been removed"+(t?" in "+t:"")),Re.ERR_DEPRECATED);return t&&!iT[c]&&(iT[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Ch.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function uI(n,e,t){if(typeof n!="object")throw new Re("options must be an object",Re.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let a=i.length;for(;a-- >0;){const l=i[a],c=e[l];if(c){const d=n[l],m=d===void 0||c(d,l,n);if(m!==!0)throw new Re("option "+l+" must be "+m,Re.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Re("Unknown option "+l,Re.ERR_BAD_OPTION)}}const xf={assertOptions:uI,validators:Ch},Sr=xf.validators;let fa=class{constructor(e){this.defaults=e,this.interceptors={request:new YE,response:new YE}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=da(this.defaults,t);const{transitional:i,paramsSerializer:a,headers:l}=t;i!==void 0&&xf.assertOptions(i,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),a!=null&&(Y.isFunction(a)?t.paramsSerializer={serialize:a}:xf.assertOptions(a,{encode:Sr.function,serialize:Sr.function},!0)),xf.assertOptions(t,{baseUrl:Sr.spelling("baseURL"),withXsrfToken:Sr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&Y.merge(l.common,l[t.method]);l&&Y.forEach(["delete","get","head","post","put","patch","common"],I=>{delete l[I]}),t.headers=gn.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(m=m&&j.synchronous,d.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let _,T=0,b;if(!m){const I=[rT.bind(this),void 0];for(I.unshift.apply(I,d),I.push.apply(I,g),b=I.length,_=Promise.resolve(t);T<b;)_=_.then(I[T++],I[T++]);return _}b=d.length;let x=t;for(T=0;T<b;){const I=d[T++],j=d[T++];try{x=I(x)}catch(D){j.call(this,D);break}}try{_=rT.call(this,x)}catch(I){return Promise.reject(I)}for(T=0,b=g.length;T<b;)_=_.then(g[T++],g[T++]);return _}getUri(e){e=da(this.defaults,e);const t=Rb(e.baseURL,e.url);return Tb(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){fa.prototype[e]=function(t,i){return this.request(da(i||{},{method:e,url:t,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(i){return function(l,c,d){return this.request(da(d||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}fa.prototype[e]=t(),fa.prototype[e+"Form"]=t(!0)});let cI=class Ob{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{i.subscribe(d),l=d}).then(a);return c.cancel=function(){i.unsubscribe(l)},c},e(function(l,c,d){i.reason||(i.reason=new zo(l,c,d),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ob(function(a){e=a}),cancel:e}}};function fI(n){return function(t){return n.apply(null,t)}}function hI(n){return Y.isObject(n)&&n.isAxiosError===!0}const Lp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Lp).forEach(([n,e])=>{Lp[e]=n});function Mb(n){const e=new fa(n),t=ub(fa.prototype.request,e);return Y.extend(t,fa.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return Mb(da(n,a))},t}const mt=Mb(Mu);mt.Axios=fa;mt.CanceledError=zo;mt.CancelToken=cI;mt.isCancel=Sb;mt.VERSION=Db;mt.toFormData=Ah;mt.AxiosError=Re;mt.Cancel=mt.CanceledError;mt.all=function(e){return Promise.all(e)};mt.spread=fI;mt.isAxiosError=hI;mt.mergeConfig=da;mt.AxiosHeaders=gn;mt.formToJSON=n=>bb(Y.isHTMLForm(n)?new FormData(n):n);mt.getAdapter=Nb.getAdapter;mt.HttpStatusCode=Lp;mt.default=mt;const{Axios:SL,AxiosError:AL,CanceledError:RL,isCancel:CL,CancelToken:xL,VERSION:IL,all:NL,Cancel:DL,isAxiosError:OL,spread:ML,toFormData:PL,AxiosHeaders:VL,HttpStatusCode:kL,formToJSON:LL,getAdapter:UL,mergeConfig:jL}=mt;var fp={exports:{}},hp={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT;function dI(){if(sT)return hp;sT=1;var n=vh();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,a=n.useRef,l=n.useEffect,c=n.useMemo,d=n.useDebugValue;return hp.useSyncExternalStoreWithSelector=function(m,g,_,T,b){var x=a(null);if(x.current===null){var I={hasValue:!1,value:null};x.current=I}else I=x.current;x=c(function(){function D(re){if(!G){if(G=!0,X=re,re=T(re),b!==void 0&&I.hasValue){var oe=I.value;if(b(oe,re))return $=oe}return $=re}if(oe=$,t(X,re))return oe;var P=T(re);return b!==void 0&&b(oe,P)?(X=re,oe):(X=re,$=P)}var G=!1,X,$,se=_===void 0?null:_;return[function(){return D(g())},se===null?void 0:function(){return D(se())}]},[g,_,T,b]);var j=i(m,x[0],x[1]);return l(function(){I.hasValue=!0,I.value=j},[j]),d(j),j},hp}var aT;function mI(){return aT||(aT=1,fp.exports=dI()),fp.exports}var pI=mI();function gI(n){n()}function yI(){let n=null,e=null;return{clear(){n=null,e=null},notify(){gI(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:n=a,function(){!i||n===null||(i=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:n=a.next)}}}}var oT={notify(){},get:()=>[]};function _I(n,e){let t,i=oT,a=0,l=!1;function c(j){_();const D=i.subscribe(j);let G=!1;return()=>{G||(G=!0,D(),T())}}function d(){i.notify()}function m(){I.onStateChange&&I.onStateChange()}function g(){return l}function _(){a++,t||(t=n.subscribe(m),i=yI())}function T(){a--,t&&a===0&&(t(),t=void 0,i.clear(),i=oT)}function b(){l||(l=!0,_())}function x(){l&&(l=!1,T())}const I={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:g,trySubscribe:b,tryUnsubscribe:x,getListeners:()=>i};return I}var vI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EI=vI(),TI=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wI=TI(),bI=()=>EI||wI?H.useLayoutEffect:H.useEffect,SI=bI(),dp=Symbol.for("react-redux-context"),mp=typeof globalThis<"u"?globalThis:{};function AI(){if(!H.createContext)return{};const n=mp[dp]??(mp[dp]=new Map);let e=n.get(H.createContext);return e||(e=H.createContext(null),n.set(H.createContext,e)),e}var ms=AI();function RI(n){const{children:e,context:t,serverState:i,store:a}=n,l=H.useMemo(()=>{const m=_I(a);return{store:a,subscription:m,getServerState:i?()=>i:void 0}},[a,i]),c=H.useMemo(()=>a.getState(),[a]);SI(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==a.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const d=t||ms;return H.createElement(d.Provider,{value:l},e)}var CI=RI;function Ag(n=ms){return function(){return H.useContext(n)}}var Pb=Ag();function Vb(n=ms){const e=n===ms?Pb:Ag(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var xI=Vb();function II(n=ms){const e=n===ms?xI:Vb(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var rn=II(),NI=(n,e)=>n===e;function DI(n=ms){const e=n===ms?Pb:Ag(n),t=(i,a={})=>{const{equalityFn:l=NI}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:m,getServerState:g}=c;H.useRef(!0);const _=H.useCallback({[i.name](b){return i(b)}}[i.name],[i]),T=pI.useSyncExternalStoreWithSelector(m.addNestedSub,d.getState,g||d.getState,_,l);return H.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var wt=DI();function Gt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var OI=typeof Symbol=="function"&&Symbol.observable||"@@observable",lT=OI,pp=()=>Math.random().toString(36).substring(7).split("").join("."),MI={INIT:`@@redux/INIT${pp()}`,REPLACE:`@@redux/REPLACE${pp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${pp()}`},Ff=MI;function Rg(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function kb(n,e,t){if(typeof n!="function")throw new Error(Gt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Gt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Gt(1));return t(kb)(n,e)}let i=n,a=e,l=new Map,c=l,d=0,m=!1;function g(){c===l&&(c=new Map,l.forEach((D,G)=>{c.set(G,D)}))}function _(){if(m)throw new Error(Gt(3));return a}function T(D){if(typeof D!="function")throw new Error(Gt(4));if(m)throw new Error(Gt(5));let G=!0;g();const X=d++;return c.set(X,D),function(){if(G){if(m)throw new Error(Gt(6));G=!1,g(),c.delete(X),l=null}}}function b(D){if(!Rg(D))throw new Error(Gt(7));if(typeof D.type>"u")throw new Error(Gt(8));if(typeof D.type!="string")throw new Error(Gt(17));if(m)throw new Error(Gt(9));try{m=!0,a=i(a,D)}finally{m=!1}return(l=c).forEach(X=>{X()}),D}function x(D){if(typeof D!="function")throw new Error(Gt(10));i=D,b({type:Ff.REPLACE})}function I(){const D=T;return{subscribe(G){if(typeof G!="object"||G===null)throw new Error(Gt(11));function X(){const se=G;se.next&&se.next(_())}return X(),{unsubscribe:D(X)}},[lT](){return this}}}return b({type:Ff.INIT}),{dispatch:b,subscribe:T,getState:_,replaceReducer:x,[lT]:I}}function PI(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Ff.INIT})>"u")throw new Error(Gt(12));if(typeof t(void 0,{type:Ff.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gt(13))})}function VI(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let a;try{PI(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let m=!1;const g={};for(let _=0;_<i.length;_++){const T=i[_],b=t[T],x=c[T],I=b(x,d);if(typeof I>"u")throw d&&d.type,new Error(Gt(14));g[T]=I,m=m||I!==x}return m=m||i.length!==Object.keys(c).length,m?g:c}}function Gf(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function kI(...n){return e=>(t,i)=>{const a=e(t,i);let l=()=>{throw new Error(Gt(15))};const c={getState:a.getState,dispatch:(m,...g)=>l(m,...g)},d=n.map(m=>m(c));return l=Gf(...d)(a.dispatch),{...a,dispatch:l}}}function LI(n){return Rg(n)&&"type"in n&&typeof n.type=="string"}var Lb=Symbol.for("immer-nothing"),uT=Symbol.for("immer-draftable"),In=Symbol.for("immer-state");function tr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var xo=Object.getPrototypeOf;function ma(n){return!!n&&!!n[In]}function di(n){var e;return n?Ub(n)||Array.isArray(n)||!!n[uT]||!!((e=n.constructor)!=null&&e[uT])||Ih(n)||Nh(n):!1}var UI=Object.prototype.constructor.toString();function Ub(n){if(!n||typeof n!="object")return!1;const e=xo(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===UI}function Kf(n,e){xh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function xh(n){const e=n[In];return e?e.type_:Array.isArray(n)?1:Ih(n)?2:Nh(n)?3:0}function Up(n,e){return xh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function jb(n,e,t){const i=xh(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function jI(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Ih(n){return n instanceof Map}function Nh(n){return n instanceof Set}function sa(n){return n.copy_||n.base_}function jp(n,e){if(Ih(n))return new Map(n);if(Nh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=Ub(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[In];let a=Reflect.ownKeys(i);for(let l=0;l<a.length;l++){const c=a[l],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(xo(n),i)}else{const i=xo(n);if(i!==null&&t)return{...n};const a=Object.create(i);return Object.assign(a,n)}}function Cg(n,e=!1){return Dh(n)||ma(n)||!di(n)||(xh(n)>1&&(n.set=n.add=n.clear=n.delete=zI),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>Cg(i,!0))),n}function zI(){tr(2)}function Dh(n){return Object.isFrozen(n)}var BI={};function pa(n){const e=BI[n];return e||tr(0,n),e}var _u;function zb(){return _u}function qI(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cT(n,e){e&&(pa("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function zp(n){Bp(n),n.drafts_.forEach(HI),n.drafts_=null}function Bp(n){n===_u&&(_u=n.parent_)}function fT(n){return _u=qI(_u,n)}function HI(n){const e=n[In];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hT(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[In].modified_&&(zp(e),tr(4)),di(n)&&(n=$f(e,n),e.parent_||Qf(e,n)),e.patches_&&pa("Patches").generateReplacementPatches_(t[In].base_,n,e.patches_,e.inversePatches_)):n=$f(e,t,[]),zp(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==Lb?n:void 0}function $f(n,e,t){if(Dh(e))return e;const i=e[In];if(!i)return Kf(e,(a,l)=>dT(n,i,e,a,l,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return Qf(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let l=a,c=!1;i.type_===3&&(l=new Set(a),a.clear(),c=!0),Kf(l,(d,m)=>dT(n,i,a,d,m,t,c)),Qf(n,a,!1),t&&n.patches_&&pa("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function dT(n,e,t,i,a,l,c){if(ma(a)){const d=l&&e&&e.type_!==3&&!Up(e.assigned_,i)?l.concat(i):void 0,m=$f(n,a,d);if(jb(t,i,m),ma(m))n.canAutoFreeze_=!1;else return}else c&&t.add(a);if(di(a)&&!Dh(a)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;$f(n,a),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&Qf(n,a)}}function Qf(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&Cg(e,t)}function FI(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:zb(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=i,l=xg;t&&(a=[i],l=vu);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return i.draft_=d,i.revoke_=c,d}var xg={get(n,e){if(e===In)return n;const t=sa(n);if(!Up(t,e))return GI(n,t,e);const i=t[e];return n.finalized_||!di(i)?i:i===gp(n.base_,e)?(yp(n),n.copy_[e]=Hp(i,n)):i},has(n,e){return e in sa(n)},ownKeys(n){return Reflect.ownKeys(sa(n))},set(n,e,t){const i=Bb(sa(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const a=gp(sa(n),e),l=a==null?void 0:a[In];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(jI(t,a)&&(t!==void 0||Up(n.base_,e)))return!0;yp(n),qp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return gp(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,yp(n),qp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=sa(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){tr(11)},getPrototypeOf(n){return xo(n.base_)},setPrototypeOf(){tr(12)}},vu={};Kf(xg,(n,e)=>{vu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});vu.deleteProperty=function(n,e){return vu.set.call(this,n,e,void 0)};vu.set=function(n,e,t){return xg.set.call(this,n[0],e,t,n[0])};function gp(n,e){const t=n[In];return(t?sa(t):n)[e]}function GI(n,e,t){var a;const i=Bb(e,t);return i?"value"in i?i.value:(a=i.get)==null?void 0:a.call(n.draft_):void 0}function Bb(n,e){if(!(e in n))return;let t=xo(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=xo(t)}}function qp(n){n.modified_||(n.modified_=!0,n.parent_&&qp(n.parent_))}function yp(n){n.copy_||(n.copy_=jp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var KI=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(m=l,...g){return c.produce(m,_=>t.call(this,_,...g))}}typeof t!="function"&&tr(6),i!==void 0&&typeof i!="function"&&tr(7);let a;if(di(e)){const l=fT(this),c=Hp(e,void 0);let d=!0;try{a=t(c),d=!1}finally{d?zp(l):Bp(l)}return cT(l,i),hT(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===Lb&&(a=void 0),this.autoFreeze_&&Cg(a,!0),i){const l=[],c=[];pa("Patches").generateReplacementPatches_(e,a,l,c),i(l,c)}return a}else tr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,m=>e(m,...d));let i,a;return[this.produce(e,t,(c,d)=>{i=c,a=d}),i,a]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){di(n)||tr(8),ma(n)&&(n=$I(n));const e=fT(this),t=Hp(n,void 0);return t[In].isManual_=!0,Bp(e),t}finishDraft(n,e){const t=n&&n[In];(!t||!t.isManual_)&&tr(9);const{scope_:i}=t;return cT(i,e),hT(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){n=a.value;break}}t>-1&&(e=e.slice(t+1));const i=pa("Patches").applyPatches_;return ma(n)?i(n,e):this.produce(n,a=>i(a,e))}};function Hp(n,e){const t=Ih(n)?pa("MapSet").proxyMap_(n,e):Nh(n)?pa("MapSet").proxySet_(n,e):FI(n,e);return(e?e.scope_:zb()).drafts_.push(t),t}function $I(n){return ma(n)||tr(10,n),qb(n)}function qb(n){if(!di(n)||Dh(n))return n;const e=n[In];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=jp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=jp(n,!0);return Kf(t,(i,a)=>{jb(t,i,qb(a))}),e&&(e.finalized_=!1),t}var Nn=new KI,Hb=Nn.produce;Nn.produceWithPatches.bind(Nn);Nn.setAutoFreeze.bind(Nn);Nn.setUseStrictShallowCopy.bind(Nn);Nn.applyPatches.bind(Nn);Nn.createDraft.bind(Nn);Nn.finishDraft.bind(Nn);function Fb(n){return({dispatch:t,getState:i})=>a=>l=>typeof l=="function"?l(t,i,n):a(l)}var QI=Fb(),YI=Fb,XI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Gf:Gf.apply(null,arguments)},WI=n=>n&&typeof n.match=="function";function cu(n,e){function t(...i){if(e){let a=e(...i);if(!a)throw new Error(fi(0));return{type:n,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>LI(i)&&i.type===n,t}var Gb=class ru extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,ru.prototype)}static get[Symbol.species](){return ru}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new ru(...e[0].concat(this)):new ru(...e.concat(this))}};function mT(n){return di(n)?Hb(n,()=>{}):n}function pT(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function ZI(n){return typeof n=="boolean"}var JI=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new Gb;return t&&(ZI(t)?c.push(QI):c.push(YI(t.extraArgument))),c},eN="RTK_autoBatch",gT=n=>e=>{setTimeout(e,n)},tN=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let a=!0,l=!1,c=!1;const d=new Set,m=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gT(10):n.type==="callback"?n.queueNotification:gT(n.timeout),g=()=>{c=!1,l&&(l=!1,d.forEach(_=>_()))};return Object.assign({},i,{subscribe(_){const T=()=>a&&_(),b=i.subscribe(T);return d.add(_),()=>{b(),d.delete(_)}},dispatch(_){var T;try{return a=!((T=_==null?void 0:_.meta)!=null&&T[eN]),l=!a,l&&(c||(c=!0,m(g))),i.dispatch(_)}finally{a=!0}}})},nN=n=>function(t){const{autoBatch:i=!0}=t??{};let a=new Gb(n);return i&&a.push(tN(typeof i=="object"?i:void 0)),a};function rN(n){const e=JI(),{reducer:t=void 0,middleware:i,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=n||{};let d;if(typeof t=="function")d=t;else if(Rg(t))d=VI(t);else throw new Error(fi(1));let m;typeof i=="function"?m=i(e):m=e();let g=Gf;a&&(g=XI({trace:!1,...typeof a=="object"&&a}));const _=kI(...m),T=nN(_);let b=typeof c=="function"?c(T):T();const x=g(...b);return kb(d,l,x)}function Kb(n){const e={},t=[];let i;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(fi(28));if(d in e)throw new Error(fi(29));return e[d]=c,a},addMatcher(l,c){return t.push({matcher:l,reducer:c}),a},addDefaultCase(l){return i=l,a}};return n(a),[e,t,i]}function iN(n){return typeof n=="function"}function sN(n,e){let[t,i,a]=Kb(e),l;if(iN(n))l=()=>mT(n());else{const d=mT(n);l=()=>d}function c(d=l(),m){let g=[t[m.type],...i.filter(({matcher:_})=>_(m)).map(({reducer:_})=>_)];return g.filter(_=>!!_).length===0&&(g=[a]),g.reduce((_,T)=>{if(T)if(ma(_)){const x=T(_,m);return x===void 0?_:x}else{if(di(_))return Hb(_,b=>T(b,m));{const b=T(_,m);if(b===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return _},d)}return c.getInitialState=l,c}var aN=(n,e)=>WI(n)?n.match(e):n(e);function oN(...n){return e=>n.some(t=>aN(t,e))}var lN="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",uN=(n=21)=>{let e="",t=n;for(;t--;)e+=lN[Math.random()*64|0];return e},cN=["name","message","stack","code"],_p=class{constructor(n,e){Zm(this,"_type");this.payload=n,this.meta=e}},yT=class{constructor(n,e){Zm(this,"_type");this.payload=n,this.meta=e}},fN=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of cN)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},Pu=(()=>{function n(e,t,i){const a=cu(e+"/fulfilled",(m,g,_,T)=>({payload:m,meta:{...T||{},arg:_,requestId:g,requestStatus:"fulfilled"}})),l=cu(e+"/pending",(m,g,_)=>({payload:void 0,meta:{..._||{},arg:g,requestId:m,requestStatus:"pending"}})),c=cu(e+"/rejected",(m,g,_,T,b)=>({payload:T,error:(i&&i.serializeError||fN)(m||"Rejected"),meta:{...b||{},arg:_,requestId:g,rejectedWithValue:!!T,requestStatus:"rejected",aborted:(m==null?void 0:m.name)==="AbortError",condition:(m==null?void 0:m.name)==="ConditionError"}}));function d(m){return(g,_,T)=>{const b=i!=null&&i.idGenerator?i.idGenerator(m):uN(),x=new AbortController;let I,j;function D(X){j=X,x.abort()}const G=async function(){var se,re;let X;try{let oe=(se=i==null?void 0:i.condition)==null?void 0:se.call(i,m,{getState:_,extra:T});if(dN(oe)&&(oe=await oe),oe===!1||x.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((R,A)=>{I=()=>{A({name:"AbortError",message:j||"Aborted"})},x.signal.addEventListener("abort",I)});g(l(b,m,(re=i==null?void 0:i.getPendingMeta)==null?void 0:re.call(i,{requestId:b,arg:m},{getState:_,extra:T}))),X=await Promise.race([P,Promise.resolve(t(m,{dispatch:g,getState:_,extra:T,requestId:b,signal:x.signal,abort:D,rejectWithValue:(R,A)=>new _p(R,A),fulfillWithValue:(R,A)=>new yT(R,A)})).then(R=>{if(R instanceof _p)throw R;return R instanceof yT?a(R.payload,b,m,R.meta):a(R,b,m)})])}catch(oe){X=oe instanceof _p?c(null,b,m,oe.payload,oe.meta):c(oe,b,m)}finally{I&&x.signal.removeEventListener("abort",I)}return i&&!i.dispatchConditionRejection&&c.match(X)&&X.meta.condition||g(X),X}();return Object.assign(G,{abort:D,requestId:b,arg:m,unwrap(){return G.then(hN)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:a,settled:oN(c,a),typePrefix:e})}return n.withTypes=()=>n,n})();function hN(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function dN(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var mN=Symbol.for("rtk-slice-createasyncthunk");function pN(n,e){return`${n}/${e}`}function gN({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[mN];return function(a){const{name:l,reducerPath:c=l}=a;if(!l)throw new Error(fi(11));const d=(typeof a.reducers=="function"?a.reducers(_N()):a.reducers)||{},m=Object.keys(d),g={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase($,se){const re=typeof $=="string"?$:$.type;if(!re)throw new Error(fi(12));if(re in g.sliceCaseReducersByType)throw new Error(fi(13));return g.sliceCaseReducersByType[re]=se,_},addMatcher($,se){return g.sliceMatchers.push({matcher:$,reducer:se}),_},exposeAction($,se){return g.actionCreators[$]=se,_},exposeCaseReducer($,se){return g.sliceCaseReducersByName[$]=se,_}};m.forEach($=>{const se=d[$],re={reducerName:$,type:pN(l,$),createNotation:typeof a.reducers=="function"};EN(se)?wN(re,se,_,e):vN(re,se,_)});function T(){const[$={},se=[],re=void 0]=typeof a.extraReducers=="function"?Kb(a.extraReducers):[a.extraReducers],oe={...$,...g.sliceCaseReducersByType};return sN(a.initialState,P=>{for(let R in oe)P.addCase(R,oe[R]);for(let R of g.sliceMatchers)P.addMatcher(R.matcher,R.reducer);for(let R of se)P.addMatcher(R.matcher,R.reducer);re&&P.addDefaultCase(re)})}const b=$=>$,x=new Map;let I;function j($,se){return I||(I=T()),I($,se)}function D(){return I||(I=T()),I.getInitialState()}function G($,se=!1){function re(P){let R=P[$];return typeof R>"u"&&se&&(R=D()),R}function oe(P=b){const R=pT(x,se,()=>new WeakMap);return pT(R,P,()=>{const A={};for(const[O,L]of Object.entries(a.selectors??{}))A[O]=yN(L,P,D,se);return A})}return{reducerPath:$,getSelectors:oe,get selectors(){return oe(re)},selectSlice:re}}const X={name:l,reducer:j,actions:g.actionCreators,caseReducers:g.sliceCaseReducersByName,getInitialState:D,...G(c),injectInto($,{reducerPath:se,...re}={}){const oe=se??c;return $.inject({reducerPath:oe,reducer:j},re),{...X,...G(oe,!0)}}};return X}}function yN(n,e,t,i){function a(l,...c){let d=e(l);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return a.unwrapped=n,a}var Sa=gN();function _N(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function vN({type:n,reducerName:e,createNotation:t},i,a){let l,c;if("reducer"in i){if(t&&!TN(i))throw new Error(fi(17));l=i.reducer,c=i.prepare}else l=i;a.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,c?cu(n,c):cu(n))}function EN(n){return n._reducerDefinitionType==="asyncThunk"}function TN(n){return n._reducerDefinitionType==="reducerWithPrepare"}function wN({type:n,reducerName:e},t,i,a){if(!a)throw new Error(fi(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:m,settled:g,options:_}=t,T=a(n,l,_);i.exposeAction(e,T),c&&i.addCase(T.fulfilled,c),d&&i.addCase(T.pending,d),m&&i.addCase(T.rejected,m),g&&i.addMatcher(T.settled,g),i.exposeCaseReducer(e,{fulfilled:c||yf,pending:d||yf,rejected:m||yf,settled:g||yf})}function yf(){}function fi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const bN={loadingCounter:0},$b=Sa({name:"loading",initialState:bN,reducers:{startLoading:n=>{n.loadingCounter+=1},endLoading:n=>{n.loadingCounter=Math.max(0,n.loadingCounter-1)},resetLoading:n=>{n.loadingCounter=0}}}),{startLoading:Qb,endLoading:Yf,resetLoading:zL}=$b.actions,SN=$b.reducer;function Xf(n){const[e,t]=H.useState([]),i=rn();return H.useEffect(()=>{i(Qb()),mt.get(`https://fakestoreapi.com/${n}`).then(a=>{t(a.data),i(Yf())}).catch(a=>{console.error(a),i(Yf())})},[n,i]),e}const AN={category:"Select a Category"},Yb=Sa({name:"category",initialState:AN,reducers:{setCategory:(n,e)=>{n.category=e.payload}}}),{setCategory:RN}=Yb.actions,CN=Yb.reducer;function xN(){const[n,e]=H.useState(!1),t=wt(g=>g.category.category),i=rn();function a(g){return String(g).charAt(0).toUpperCase()+String(g).slice(1)}const c=["All",...Xf("products/categories")].map(g=>a(g)),d=H.useRef(null),m=g=>{i(RN(g)),e(!1)};return H.useEffect(()=>{const g=_=>{d.current&&!d.current.contains(_.target)&&e(!1)};return n?document.addEventListener("mousedown",g):document.removeEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[n]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:"relative rounded-full mx-auto select-none bg-white w-full",ref:d,children:[C.jsx("button",{onClick:()=>e(!n),className:"w-full rounded-full py-2 px-4 select-none border-1 border-gray-500 focus:outline-none cursor-pointer","aria-haspopup":"listbox","aria-expanded":n,children:t}),n&&C.jsx("div",{className:"absolute mt-1 w-full bg-white shadow-lg rounded-md z-[3]",children:C.jsx("ul",{className:"max-h-60 overflow-auto",role:"listbox",children:c.map((g,_)=>C.jsx("li",{onClick:()=>m(g),className:"cursor-pointer hover:bg-gray-200 px-4 py-2",role:"option","aria-selected":t===g,children:g},_))})})]})})}const IN={sort:"Select a Sort"},Xb=Sa({name:"sort",initialState:IN,reducers:{setSort:(n,e)=>{n.sort=e.payload}}}),{setSort:NN}=Xb.actions,DN=Xb.reducer;function ON(){const[n,e]=H.useState(!1),t=wt(d=>d.sort.sort),i=rn(),a=["None","Highest to lowest price","Lowest to highest price","Highest to lowest rating","Lowest to highest rating","Alphabetical"],l=H.useRef(null),c=d=>{i(NN(d)),e(!1)};return H.useEffect(()=>{const d=m=>{l.current&&!l.current.contains(m.target)&&e(!1)};return n?document.addEventListener("mousedown",d):document.removeEventListener("mousedown",d),()=>{document.removeEventListener("mousedown",d)}},[n]),C.jsx(C.Fragment,{children:C.jsxs("div",{className:"relative rounded-full mx-auto select-none bg-white w-full",ref:l,children:[C.jsx("button",{onClick:()=>e(!n),className:"w-full rounded-full py-2 px-4 select-none focus:outline-none border-1 border-gray-500 cursor-pointer","aria-haspopup":"listbox","aria-expanded":n,children:t}),n&&C.jsx("div",{className:"absolute mt-1 w-full bg-white shadow-lg rounded-md z-[3]",children:C.jsx("ul",{className:"max-h-60 overflow-auto",role:"listbox",children:a.map((d,m)=>C.jsx("li",{onClick:()=>c(d),className:"cursor-pointer hover:bg-gray-200 px-4 py-2",role:"option","aria-selected":t===d,children:d},m))})})]})})}function MN(n){const e=wt(d=>d.category.category),t=wt(d=>d.sort.sort),i=wt(d=>d.search.searchName),a=H.useMemo(()=>e==="Select a Category"||e==="All"?n:n.filter(d=>d.category===e.toLowerCase()),[n,e]),l=H.useMemo(()=>{const d=[...a];switch(t){case"Highest to lowest price":d.sort((m,g)=>g.price-m.price);break;case"Lowest to highest price":d.sort((m,g)=>m.price-g.price);break;case"Highest to lowest rating":d.sort((m,g)=>g.rating.rate-m.rating.rate);break;case"Lowest to highest rating":d.sort((m,g)=>m.rating.rate-g.rating.rate);break;case"Alphabetical":d.sort((m,g)=>m.title.localeCompare(g.title));break}return d},[a,t]);return H.useMemo(()=>i.trim()?l.filter(d=>d.title.toLowerCase().includes(i.toLowerCase())):l,[l,i])}const PN={searchName:""},Wb=Sa({name:"search",initialState:PN,reducers:{setSearch:(n,e)=>{n.searchName=e.payload},clearSearch:n=>{n.searchName=""}}}),{setSearch:VN,clearSearch:kN}=Wb.actions,LN=Wb.reducer;var _T={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},UN=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const a=n[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(m>>10)),e[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let b=(d&15)<<2|g>>6,x=g&63;m||(x=64,c||(b=64)),i.push(t[_],t[T],t[b],t[x])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):UN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new jN;const b=l<<2|d>>4;if(i.push(b),g!==64){const x=d<<4&240|g>>2;if(i.push(x),T!==64){const I=g<<6&192|T;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class jN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zN=function(n){const e=Zb(n);return Jb.encodeByteArray(e,!0)},Wf=function(n){return zN(n).replace(/\./g,"")},e0=function(n){try{return Jb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=()=>BN().__FIREBASE_DEFAULTS__,HN=()=>{if(typeof process>"u"||typeof _T>"u")return;const n=_T.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},FN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&e0(n[1]);return e&&JSON.parse(e)},Oh=()=>{try{return qN()||HN()||FN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},t0=n=>{var e,t;return(t=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},GN=n=>{const e=t0(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},n0=()=>{var n;return(n=Oh())===null||n===void 0?void 0:n.config},r0=n=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wf(JSON.stringify(t)),Wf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function YN(){var n;const e=(n=Oh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function ZN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JN(){const n=nn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function eD(){return!YN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tD(){try{return typeof indexedDB=="object"}catch{return!1}}function nD(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="FirebaseError";class _i extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=rD,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vu.prototype.create)}}class Vu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iD(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new _i(a,d,i)}}function iD(n,e){return n.replace(sD,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const sD=/\{\$([^}]+)}/g;function aD(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zf(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=n[a],c=e[a];if(vT(l)&&vT(c)){if(!Zf(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function vT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function iu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function su(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oD(n,e){const t=new lD(n,e);return t.subscribe.bind(t)}class lD{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");uD(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=vp),a.error===void 0&&(a.error=vp),a.complete===void 0&&(a.complete=vp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uD(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function vp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(n){return n&&n._delegate?n._delegate:n}class ga{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new KN;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hD(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){var i;const a=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:fD(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fD(n){return n===aa?void 0:n}function hD(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new cD(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Me||(Me={}));const mD={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},pD=Me.INFO,gD={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},yD=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),a=gD[e];if(a)console[a](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ig{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=yD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _D=(n,e)=>e.some(t=>n instanceof t);let ET,TT;function vD(){return ET||(ET=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ED(){return TT||(TT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i0=new WeakMap,Fp=new WeakMap,s0=new WeakMap,Ep=new WeakMap,Ng=new WeakMap;function TD(n){const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(os(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&i0.set(t,n)}).catch(()=>{}),Ng.set(e,n),e}function wD(n){if(Fp.has(n))return;const e=new Promise((t,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Fp.set(n,e)}let Gp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bD(n){Gp=n(Gp)}function SD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Tp(this),e,...t);return s0.set(i,e.sort?e.sort():[e]),os(i)}:ED().includes(n)?function(...e){return n.apply(Tp(this),e),os(i0.get(this))}:function(...e){return os(n.apply(Tp(this),e))}}function AD(n){return typeof n=="function"?SD(n):(n instanceof IDBTransaction&&wD(n),_D(n,vD())?new Proxy(n,Gp):n)}function os(n){if(n instanceof IDBRequest)return TD(n);if(Ep.has(n))return Ep.get(n);const e=AD(n);return e!==n&&(Ep.set(n,e),Ng.set(e,n)),e}const Tp=n=>Ng.get(n);function RD(n,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=os(c);return i&&c.addEventListener("upgradeneeded",m=>{i(os(c.result),m.oldVersion,m.newVersion,os(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const CD=["get","getKey","getAll","getAllKeys","count"],xD=["put","add","delete","clear"],wp=new Map;function wT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=xD.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||CD.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return wp.set(e,l),l}bD(n=>({...n,get:(e,t,i)=>wT(e,t)||n.get(e,t,i),has:(e,t)=>!!wT(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(ND(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function ND(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kp="@firebase/app",bT="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi=new Ig("@firebase/app"),DD="@firebase/app-compat",OD="@firebase/analytics-compat",MD="@firebase/analytics",PD="@firebase/app-check-compat",VD="@firebase/app-check",kD="@firebase/auth",LD="@firebase/auth-compat",UD="@firebase/database",jD="@firebase/data-connect",zD="@firebase/database-compat",BD="@firebase/functions",qD="@firebase/functions-compat",HD="@firebase/installations",FD="@firebase/installations-compat",GD="@firebase/messaging",KD="@firebase/messaging-compat",$D="@firebase/performance",QD="@firebase/performance-compat",YD="@firebase/remote-config",XD="@firebase/remote-config-compat",WD="@firebase/storage",ZD="@firebase/storage-compat",JD="@firebase/firestore",eO="@firebase/vertexai",tO="@firebase/firestore-compat",nO="firebase",rO="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="[DEFAULT]",iO={[Kp]:"fire-core",[DD]:"fire-core-compat",[MD]:"fire-analytics",[OD]:"fire-analytics-compat",[VD]:"fire-app-check",[PD]:"fire-app-check-compat",[kD]:"fire-auth",[LD]:"fire-auth-compat",[UD]:"fire-rtdb",[jD]:"fire-data-connect",[zD]:"fire-rtdb-compat",[BD]:"fire-fn",[qD]:"fire-fn-compat",[HD]:"fire-iid",[FD]:"fire-iid-compat",[GD]:"fire-fcm",[KD]:"fire-fcm-compat",[$D]:"fire-perf",[QD]:"fire-perf-compat",[YD]:"fire-rc",[XD]:"fire-rc-compat",[WD]:"fire-gcs",[ZD]:"fire-gcs-compat",[JD]:"fire-fst",[tO]:"fire-fst-compat",[eO]:"fire-vertex","fire-js":"fire-js",[nO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new Map,sO=new Map,Qp=new Map;function ST(n,e){try{n.container.addComponent(e)}catch(t){mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Io(n){const e=n.name;if(Qp.has(e))return mi.debug(`There were multiple attempts to register component ${e}.`),!1;Qp.set(e,n);for(const t of Jf.values())ST(t,n);for(const t of sO.values())ST(t,n);return!0}function Dg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Rn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ls=new Vu("app","Firebase",aO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=rO;function a0(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:$p,automaticDataCollectionEnabled:!1},e),a=i.name;if(typeof a!="string"||!a)throw ls.create("bad-app-name",{appName:String(a)});if(t||(t=n0()),!t)throw ls.create("no-options");const l=Jf.get(a);if(l){if(Zf(t,l.options)&&Zf(i,l.config))return l;throw ls.create("duplicate-app",{appName:a})}const c=new dD(a);for(const m of Qp.values())c.addComponent(m);const d=new oO(t,i,c);return Jf.set(a,d),d}function o0(n=$p){const e=Jf.get(n);if(!e&&n===$p&&n0())return a0();if(!e)throw ls.create("no-app",{appName:n});return e}function us(n,e,t){var i;let a=(i=iO[n])!==null&&i!==void 0?i:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mi.warn(d.join(" "));return}Io(new ga(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="firebase-heartbeat-database",uO=1,Eu="firebase-heartbeat-store";let bp=null;function l0(){return bp||(bp=RD(lO,uO,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Eu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ls.create("idb-open",{originalErrorMessage:n.message})})),bp}async function cO(n){try{const t=(await l0()).transaction(Eu),i=await t.objectStore(Eu).get(u0(n));return await t.done,i}catch(e){if(e instanceof _i)mi.warn(e.message);else{const t=ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mi.warn(t.message)}}}async function AT(n,e){try{const i=(await l0()).transaction(Eu,"readwrite");await i.objectStore(Eu).put(e,u0(n)),await i.done}catch(t){if(t instanceof _i)mi.warn(t.message);else{const i=ls.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});mi.warn(i.message)}}}function u0(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=1024,hO=30;class dO{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pO(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=RT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>hO){const c=gO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){mi.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=RT(),{heartbeatsToSend:i,unsentEntries:a}=mO(this._heartbeatsCache.heartbeats),l=Wf(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return mi.warn(t),""}}}function RT(){return new Date().toISOString().substring(0,10)}function mO(n,e=fO){const t=[];let i=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),CT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),CT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class pO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await cO(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return AT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return AT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function CT(n){return Wf(JSON.stringify({version:2,heartbeats:n})).length}function gO(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(n){Io(new ga("platform-logger",e=>new ID(e),"PRIVATE")),Io(new ga("heartbeat",e=>new dO(e),"PRIVATE")),us(Kp,bT,n),us(Kp,bT,"esm2017"),us("fire-js","")}yO("");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,c0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function A(){}A.prototype=R.prototype,P.D=R.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(O,L,q){for(var M=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)M[bt-2]=arguments[bt];return R.prototype[L].apply(O,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(P,R,A){A||(A=0);var O=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)O[L]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(L=0;16>L;++L)O[L]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=P.g[0],A=P.g[1],L=P.g[2];var q=P.g[3],M=R+(q^A&(L^q))+O[0]+3614090360&4294967295;R=A+(M<<7&4294967295|M>>>25),M=q+(L^R&(A^L))+O[1]+3905402710&4294967295,q=R+(M<<12&4294967295|M>>>20),M=L+(A^q&(R^A))+O[2]+606105819&4294967295,L=q+(M<<17&4294967295|M>>>15),M=A+(R^L&(q^R))+O[3]+3250441966&4294967295,A=L+(M<<22&4294967295|M>>>10),M=R+(q^A&(L^q))+O[4]+4118548399&4294967295,R=A+(M<<7&4294967295|M>>>25),M=q+(L^R&(A^L))+O[5]+1200080426&4294967295,q=R+(M<<12&4294967295|M>>>20),M=L+(A^q&(R^A))+O[6]+2821735955&4294967295,L=q+(M<<17&4294967295|M>>>15),M=A+(R^L&(q^R))+O[7]+4249261313&4294967295,A=L+(M<<22&4294967295|M>>>10),M=R+(q^A&(L^q))+O[8]+1770035416&4294967295,R=A+(M<<7&4294967295|M>>>25),M=q+(L^R&(A^L))+O[9]+2336552879&4294967295,q=R+(M<<12&4294967295|M>>>20),M=L+(A^q&(R^A))+O[10]+4294925233&4294967295,L=q+(M<<17&4294967295|M>>>15),M=A+(R^L&(q^R))+O[11]+2304563134&4294967295,A=L+(M<<22&4294967295|M>>>10),M=R+(q^A&(L^q))+O[12]+1804603682&4294967295,R=A+(M<<7&4294967295|M>>>25),M=q+(L^R&(A^L))+O[13]+4254626195&4294967295,q=R+(M<<12&4294967295|M>>>20),M=L+(A^q&(R^A))+O[14]+2792965006&4294967295,L=q+(M<<17&4294967295|M>>>15),M=A+(R^L&(q^R))+O[15]+1236535329&4294967295,A=L+(M<<22&4294967295|M>>>10),M=R+(L^q&(A^L))+O[1]+4129170786&4294967295,R=A+(M<<5&4294967295|M>>>27),M=q+(A^L&(R^A))+O[6]+3225465664&4294967295,q=R+(M<<9&4294967295|M>>>23),M=L+(R^A&(q^R))+O[11]+643717713&4294967295,L=q+(M<<14&4294967295|M>>>18),M=A+(q^R&(L^q))+O[0]+3921069994&4294967295,A=L+(M<<20&4294967295|M>>>12),M=R+(L^q&(A^L))+O[5]+3593408605&4294967295,R=A+(M<<5&4294967295|M>>>27),M=q+(A^L&(R^A))+O[10]+38016083&4294967295,q=R+(M<<9&4294967295|M>>>23),M=L+(R^A&(q^R))+O[15]+3634488961&4294967295,L=q+(M<<14&4294967295|M>>>18),M=A+(q^R&(L^q))+O[4]+3889429448&4294967295,A=L+(M<<20&4294967295|M>>>12),M=R+(L^q&(A^L))+O[9]+568446438&4294967295,R=A+(M<<5&4294967295|M>>>27),M=q+(A^L&(R^A))+O[14]+3275163606&4294967295,q=R+(M<<9&4294967295|M>>>23),M=L+(R^A&(q^R))+O[3]+4107603335&4294967295,L=q+(M<<14&4294967295|M>>>18),M=A+(q^R&(L^q))+O[8]+1163531501&4294967295,A=L+(M<<20&4294967295|M>>>12),M=R+(L^q&(A^L))+O[13]+2850285829&4294967295,R=A+(M<<5&4294967295|M>>>27),M=q+(A^L&(R^A))+O[2]+4243563512&4294967295,q=R+(M<<9&4294967295|M>>>23),M=L+(R^A&(q^R))+O[7]+1735328473&4294967295,L=q+(M<<14&4294967295|M>>>18),M=A+(q^R&(L^q))+O[12]+2368359562&4294967295,A=L+(M<<20&4294967295|M>>>12),M=R+(A^L^q)+O[5]+4294588738&4294967295,R=A+(M<<4&4294967295|M>>>28),M=q+(R^A^L)+O[8]+2272392833&4294967295,q=R+(M<<11&4294967295|M>>>21),M=L+(q^R^A)+O[11]+1839030562&4294967295,L=q+(M<<16&4294967295|M>>>16),M=A+(L^q^R)+O[14]+4259657740&4294967295,A=L+(M<<23&4294967295|M>>>9),M=R+(A^L^q)+O[1]+2763975236&4294967295,R=A+(M<<4&4294967295|M>>>28),M=q+(R^A^L)+O[4]+1272893353&4294967295,q=R+(M<<11&4294967295|M>>>21),M=L+(q^R^A)+O[7]+4139469664&4294967295,L=q+(M<<16&4294967295|M>>>16),M=A+(L^q^R)+O[10]+3200236656&4294967295,A=L+(M<<23&4294967295|M>>>9),M=R+(A^L^q)+O[13]+681279174&4294967295,R=A+(M<<4&4294967295|M>>>28),M=q+(R^A^L)+O[0]+3936430074&4294967295,q=R+(M<<11&4294967295|M>>>21),M=L+(q^R^A)+O[3]+3572445317&4294967295,L=q+(M<<16&4294967295|M>>>16),M=A+(L^q^R)+O[6]+76029189&4294967295,A=L+(M<<23&4294967295|M>>>9),M=R+(A^L^q)+O[9]+3654602809&4294967295,R=A+(M<<4&4294967295|M>>>28),M=q+(R^A^L)+O[12]+3873151461&4294967295,q=R+(M<<11&4294967295|M>>>21),M=L+(q^R^A)+O[15]+530742520&4294967295,L=q+(M<<16&4294967295|M>>>16),M=A+(L^q^R)+O[2]+3299628645&4294967295,A=L+(M<<23&4294967295|M>>>9),M=R+(L^(A|~q))+O[0]+4096336452&4294967295,R=A+(M<<6&4294967295|M>>>26),M=q+(A^(R|~L))+O[7]+1126891415&4294967295,q=R+(M<<10&4294967295|M>>>22),M=L+(R^(q|~A))+O[14]+2878612391&4294967295,L=q+(M<<15&4294967295|M>>>17),M=A+(q^(L|~R))+O[5]+4237533241&4294967295,A=L+(M<<21&4294967295|M>>>11),M=R+(L^(A|~q))+O[12]+1700485571&4294967295,R=A+(M<<6&4294967295|M>>>26),M=q+(A^(R|~L))+O[3]+2399980690&4294967295,q=R+(M<<10&4294967295|M>>>22),M=L+(R^(q|~A))+O[10]+4293915773&4294967295,L=q+(M<<15&4294967295|M>>>17),M=A+(q^(L|~R))+O[1]+2240044497&4294967295,A=L+(M<<21&4294967295|M>>>11),M=R+(L^(A|~q))+O[8]+1873313359&4294967295,R=A+(M<<6&4294967295|M>>>26),M=q+(A^(R|~L))+O[15]+4264355552&4294967295,q=R+(M<<10&4294967295|M>>>22),M=L+(R^(q|~A))+O[6]+2734768916&4294967295,L=q+(M<<15&4294967295|M>>>17),M=A+(q^(L|~R))+O[13]+1309151649&4294967295,A=L+(M<<21&4294967295|M>>>11),M=R+(L^(A|~q))+O[4]+4149444226&4294967295,R=A+(M<<6&4294967295|M>>>26),M=q+(A^(R|~L))+O[11]+3174756917&4294967295,q=R+(M<<10&4294967295|M>>>22),M=L+(R^(q|~A))+O[2]+718787259&4294967295,L=q+(M<<15&4294967295|M>>>17),M=A+(q^(L|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,P.g[2]=P.g[2]+L&4294967295,P.g[3]=P.g[3]+q&4294967295}i.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var A=R-this.blockSize,O=this.B,L=this.h,q=0;q<R;){if(L==0)for(;q<=A;)a(this,P,q),q+=this.blockSize;if(typeof P=="string"){for(;q<R;)if(O[L++]=P.charCodeAt(q++),L==this.blockSize){a(this,O),L=0;break}}else for(;q<R;)if(O[L++]=P[q++],L==this.blockSize){a(this,O),L=0;break}}this.h=L,this.o+=R},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var A=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=A&255,A/=256;for(this.u(P),P=Array(16),R=A=0;4>R;++R)for(var O=0;32>O;O+=8)P[A++]=this.g[R]>>>O&255;return P};function l(P,R){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=R(P)}function c(P,R){this.h=R;for(var A=[],O=!0,L=P.length-1;0<=L;L--){var q=P[L]|0;O&&q==R||(A[L]=q,O=!1)}this.g=A}var d={};function m(P){return-128<=P&&128>P?l(P,function(R){return new c([R|0],0>R?-1:0)}):new c([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return D(g(-P));for(var R=[],A=1,O=0;P>=A;O++)R[O]=P/A|0,A*=4294967296;return new c(R,0)}function _(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return D(_(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(R,8)),O=T,L=0;L<P.length;L+=8){var q=Math.min(8,P.length-L),M=parseInt(P.substring(L,L+q),R);8>q?(q=g(Math.pow(R,q)),O=O.j(q).add(g(M))):(O=O.j(A),O=O.add(g(M)))}return O}var T=m(0),b=m(1),x=m(16777216);n=c.prototype,n.m=function(){if(j(this))return-D(this).m();for(var P=0,R=1,A=0;A<this.g.length;A++){var O=this.i(A);P+=(0<=O?O:4294967296+O)*R,R*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(j(this))return"-"+D(this).toString(P);for(var R=g(Math.pow(P,6)),A=this,O="";;){var L=se(A,R).g;A=G(A,L.j(R));var q=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=L,I(A))return q+O;for(;6>q.length;)q="0"+q;O=q+O}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=G(this,P),j(P)?-1:I(P)?0:1};function D(P){for(var R=P.g.length,A=[],O=0;O<R;O++)A[O]=~P.g[O];return new c(A,~P.h).add(b)}n.abs=function(){return j(this)?D(this):this},n.add=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],O=0,L=0;L<=R;L++){var q=O+(this.i(L)&65535)+(P.i(L)&65535),M=(q>>>16)+(this.i(L)>>>16)+(P.i(L)>>>16);O=M>>>16,q&=65535,M&=65535,A[L]=M<<16|q}return new c(A,A[A.length-1]&-2147483648?-1:0)};function G(P,R){return P.add(D(R))}n.j=function(P){if(I(this)||I(P))return T;if(j(this))return j(P)?D(this).j(D(P)):D(D(this).j(P));if(j(P))return D(this.j(D(P)));if(0>this.l(x)&&0>P.l(x))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,A=[],O=0;O<2*R;O++)A[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<P.g.length;L++){var q=this.i(O)>>>16,M=this.i(O)&65535,bt=P.i(L)>>>16,pt=P.i(L)&65535;A[2*O+2*L]+=M*pt,X(A,2*O+2*L),A[2*O+2*L+1]+=q*pt,X(A,2*O+2*L+1),A[2*O+2*L+1]+=M*bt,X(A,2*O+2*L+1),A[2*O+2*L+2]+=q*bt,X(A,2*O+2*L+2)}for(O=0;O<R;O++)A[O]=A[2*O+1]<<16|A[2*O];for(O=R;O<2*R;O++)A[O]=0;return new c(A,0)};function X(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function $(P,R){this.g=P,this.h=R}function se(P,R){if(I(R))throw Error("division by zero");if(I(P))return new $(T,T);if(j(P))return R=se(D(P),R),new $(D(R.g),D(R.h));if(j(R))return R=se(P,D(R)),new $(D(R.g),R.h);if(30<P.g.length){if(j(P)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var A=b,O=R;0>=O.l(P);)A=re(A),O=re(O);var L=oe(A,1),q=oe(O,1);for(O=oe(O,2),A=oe(A,2);!I(O);){var M=q.add(O);0>=M.l(P)&&(L=L.add(A),q=M),O=oe(O,1),A=oe(A,1)}return R=G(P,L.j(R)),new $(L,R)}for(L=T;0<=P.l(R);){for(A=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(A)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),q=g(A),M=q.j(R);j(M)||0<M.l(P);)A-=O,q=g(A),M=q.j(R);I(q)&&(q=b),L=L.add(q),P=G(P,M)}return new $(L,P)}n.A=function(P){return se(this,P).h},n.and=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],O=0;O<R;O++)A[O]=this.i(O)&P.i(O);return new c(A,this.h&P.h)},n.or=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],O=0;O<R;O++)A[O]=this.i(O)|P.i(O);return new c(A,this.h|P.h)},n.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),A=[],O=0;O<R;O++)A[O]=this.i(O)^P.i(O);return new c(A,this.h^P.h)};function re(P){for(var R=P.g.length+1,A=[],O=0;O<R;O++)A[O]=P.i(O)<<1|P.i(O-1)>>>31;return new c(A,P.h)}function oe(P,R){var A=R>>5;R%=32;for(var O=P.g.length-A,L=[],q=0;q<O;q++)L[q]=0<R?P.i(q+A)>>>R|P.i(q+A+1)<<32-R:P.i(q+A);return new c(L,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=_,cs=c}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var f0,au,h0,If,Yp,d0,m0,p0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,y,v){return f==Array.prototype||f==Object.prototype||(f[y]=v.value),f};function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var y=0;y<f.length;++y){var v=f[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(f,y){if(y)e:{var v=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var B=f[S];if(!(B in v))break e;v=v[B]}f=f[f.length-1],S=v[f],y=y(S),y!=S&&y!=null&&e(v,f,{configurable:!0,writable:!0,value:y})}}function l(f,y){f instanceof String&&(f+="");var v=0,S=!1,B={next:function(){if(!S&&v<f.length){var Q=v++;return{value:y(Q,f[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(f){return f||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(f){var y=typeof f;return y=y!="object"?y:f?Array.isArray(f)?"array":y:"null",y=="array"||y=="object"&&typeof f.length=="number"}function g(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function _(f,y,v){return f.call.apply(f.bind,arguments)}function T(f,y,v){if(!f)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),f.apply(y,B)}}return function(){return f.apply(y,arguments)}}function b(f,y,v){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,b.apply(null,arguments)}function x(f,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function I(f,y){function v(){}v.prototype=y.prototype,f.aa=y.prototype,f.prototype=new v,f.prototype.constructor=f,f.Qb=function(S,B,Q){for(var ae=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ae[Le-2]=arguments[Le];return y.prototype[B].apply(S,ae)}}function j(f){const y=f.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=f[S];return v}return[]}function D(f,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const B=f.length||0,Q=S.length||0;f.length=B+Q;for(let ae=0;ae<Q;ae++)f[B+ae]=S[ae]}else f.push(S)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(f){return/^[\s\xa0]*$/.test(f)}function $(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function se(f){return se[" "](f),f}se[" "]=function(){};var re=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function oe(f,y,v){for(const S in f)y.call(v,f[S],S,f)}function P(f,y){for(const v in f)y.call(void 0,f[v],v,f)}function R(f){const y={};for(const v in f)y[v]=f[v];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(f,y){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)f[v]=S[v];for(let Q=0;Q<A.length;Q++)v=A[Q],Object.prototype.hasOwnProperty.call(S,v)&&(f[v]=S[v])}}function L(f){var y=1;f=f.split(":");const v=[];for(;0<y&&f.length;)v.push(f.shift()),y--;return f.length&&v.push(f.join(":")),v}function q(f){d.setTimeout(()=>{throw f},0)}function M(){var f=Ge;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class bt{constructor(){this.h=this.g=null}add(y,v){const S=pt.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new G(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,ye=!1,Ge=new bt,V=()=>{const f=d.Promise.resolve(void 0);Ee=()=>{f.then(ie)}};var ie=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(v){q(v)}var y=pt;y.j(f),100>y.h&&(y.h++,f.next=y.g,y.g=f)}ye=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var ce=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return f}();function Ie(f,y){if(ue.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var v=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget){if(re){e:{try{se(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else v=="mouseover"?y=f.fromElement:v=="mouseout"&&(y=f.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ce[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Ie.aa.h.call(this)}}I(Ie,ue);var Ce={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var gt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function at(f,y,v,S,B){this.listener=f,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Qe(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function sn(f){this.src=f,this.g={},this.h=0}sn.prototype.add=function(f,y,v,S,B){var Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);var ae=Dn(f,y,S,B);return-1<ae?(y=f[ae],v||(y.fa=!1)):(y=new at(y,this.src,Q,!!S,B),y.fa=v,f.push(y)),y};function Pr(f,y){var v=y.type;if(v in f.g){var S=f.g[v],B=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=B)&&Array.prototype.splice.call(S,B,1),Q&&(Qe(y),f.g[v].length==0&&(delete f.g[v],f.h--))}}function Dn(f,y,v,S){for(var B=0;B<f.length;++B){var Q=f[B];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return B}return-1}var vi="closure_lm_"+(1e6*Math.random()|0),Ei={};function Vr(f,y,v,S,B){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)Vr(f,y[Q],v,S,B);return null}return v=Qu(v),f&&f[gt]?f.K(y,v,g(S)?!!S.capture:!1,B):$o(f,y,v,!1,S,B)}function $o(f,y,v,S,B,Q){if(!y)throw Error("Invalid event type");var ae=g(B)?!!B.capture:!!B,Le=Qo(f);if(Le||(f[vi]=Le=new sn(f)),v=Le.add(y,v,S,ae,Q),v.proxy)return v;if(S=xa(),v.proxy=S,S.src=f,S.listener=v,f.addEventListener)ce||(B=ae),B===void 0&&(B=!1),f.addEventListener(y.toString(),S,B);else if(f.attachEvent)f.attachEvent(Na(y.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xa(){function f(v){return y.call(f.src,f.listener,v)}const y=ed;return f}function Ia(f,y,v,S,B){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Ia(f,y[Q],v,S,B);else S=g(S)?!!S.capture:!!S,v=Qu(v),f&&f[gt]?(f=f.i,y=String(y).toString(),y in f.g&&(Q=f.g[y],v=Dn(Q,v,S,B),-1<v&&(Qe(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete f.g[y],f.h--)))):f&&(f=Qo(f))&&(y=f.g[y.toString()],f=-1,y&&(f=Dn(y,v,S,B)),(v=-1<f?y[f]:null)&&Rs(v))}function Rs(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[gt])Pr(y.i,f);else{var v=f.type,S=f.proxy;y.removeEventListener?y.removeEventListener(v,S,f.capture):y.detachEvent?y.detachEvent(Na(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Qo(y))?(Pr(v,f),v.h==0&&(v.src=null,y[vi]=null)):Qe(f)}}}function Na(f){return f in Ei?Ei[f]:Ei[f]="on"+f}function ed(f,y){if(f.da)f=!0;else{y=new Ie(y,this);var v=f.listener,S=f.ha||f.src;f.fa&&Rs(f),f=v.call(S,y)}return f}function Qo(f){return f=f[vi],f instanceof sn?f:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qu(f){return typeof f=="function"?f:(f[fn]||(f[fn]=function(y){return f.handleEvent(y)}),f[fn])}function St(){pe.call(this),this.i=new sn(this),this.M=this,this.F=null}I(St,pe),St.prototype[gt]=!0,St.prototype.removeEventListener=function(f,y,v,S){Ia(this,f,y,v,S)};function Mt(f,y){var v,S=f.F;if(S)for(v=[];S;S=S.F)v.push(S);if(f=f.M,S=y.type||y,typeof y=="string")y=new ue(y,f);else if(y instanceof ue)y.target=y.target||f;else{var B=y;y=new ue(S,f),O(y,B)}if(B=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ae=y.g=v[Q];B=kr(ae,S,!0,y)&&B}if(ae=y.g=f,B=kr(ae,S,!0,y)&&B,B=kr(ae,S,!1,y)&&B,v)for(Q=0;Q<v.length;Q++)ae=y.g=v[Q],B=kr(ae,S,!1,y)&&B}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,y;for(y in f.g){for(var v=f.g[y],S=0;S<v.length;S++)Qe(v[S]);delete f.g[y],f.h--}}this.F=null},St.prototype.K=function(f,y,v,S){return this.i.add(String(f),y,!1,v,S)},St.prototype.L=function(f,y,v,S){return this.i.add(String(f),y,!0,v,S)};function kr(f,y,v,S){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Q=0;Q<y.length;++Q){var ae=y[Q];if(ae&&!ae.da&&ae.capture==v){var Le=ae.listener,Rt=ae.ha||ae.src;ae.fa&&Pr(f.i,ae),B=Le.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Yu(f,y,v){if(typeof f=="function")v&&(f=b(f,v));else if(f&&typeof f.handleEvent=="function")f=b(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(f,y||0)}function Yo(f){f.g=Yu(()=>{f.g=null,f.i&&(f.i=!1,Yo(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class td extends pe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(f){pe.call(this),this.h=f,this.g={}}I(Cs,pe);var Ti=[];function Yt(f){oe(f.g,function(y,v){this.g.hasOwnProperty(v)&&Rs(y)},f),f.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Yt(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xo=d.JSON.stringify,lr=d.JSON.parse,an=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Wo(){}Wo.prototype.h=null;function Xu(f){return f.h||(f.h=f.i())}function Wu(){}var ur={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){ue.call(this,"d")}I(wi,ue);function Yn(){ue.call(this,"c")}I(Yn,ue);var On={},bi=null;function Da(){return bi=bi||new St}On.La="serverreachability";function Zo(f){ue.call(this,On.La,f)}I(Zo,ue);function Si(f){const y=Da();Mt(y,new Zo(y))}On.STAT_EVENT="statevent";function Oa(f,y){ue.call(this,On.STAT_EVENT,f),this.stat=y}I(Oa,ue);function ft(f){const y=Da();Mt(y,new Oa(y,f))}On.Ma="timingevent";function Zu(f,y){ue.call(this,On.Ma,f),this.size=y}I(Zu,ue);function Ai(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},y)}function Ri(){this.g=!0}Ri.prototype.xa=function(){this.g=!1};function Ju(f,y,v,S,B,Q){f.info(function(){if(f.g)if(Q)for(var ae="",Le=Q.split("&"),Rt=0;Rt<Le.length;Rt++){var Ue=Le[Rt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Ct=kt.split("_");ae=2<=Ct.length&&Ct[1]=="type"?ae+(kt+"="+Ue+"&"):ae+(kt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+y+`
`+v+`
`+ae})}function ec(f,y,v,S,B,Q,ae){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+y+`
`+v+`
`+Q+" "+ae})}function Ci(f,y,v,S){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(f,v)+(S?" "+S:"")})}function cr(f,y){f.info(function(){return"TIMEOUT: "+y})}Ri.prototype.info=function(){};function Pt(f,y){if(!f.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(f=0;f<v.length;f++)if(Array.isArray(v[f])){var S=v[f];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var Q=B[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return Xo(v)}catch{return y}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Lr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Ma(){}I(Ma,Wo),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},xs=new Ma;function fr(f,y,v,S){this.j=f,this.i=y,this.l=v,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Jo}function Jo(){this.i=null,this.g="",this.h=!1}var xi={},Is={};function Xn(f,y,v){f.L=1,f.v=Os(ot(y)),f.m=v,f.P=!0,Ur(f,null)}function Ur(f,y){f.F=Date.now(),tt(f),f.A=ot(f.v);var v=f.A,S=f.R;Array.isArray(S)||(S=[String(S)]),Br(v.i,"t",S),f.C=0,v=f.j.J,f.h=new Jo,f.g=mc(f.j,v?y:null,!f.m),0<f.O&&(f.M=new td(b(f.Y,f,f.g),f.O)),y=f.U,v=f.g,S=f.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ti[0]=B.toString()),B=Ti);for(var Q=0;Q<B.length;Q++){var ae=Vr(v,B[Q],S||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=f.H?R(f.H):{},f.m?(f.u||(f.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,y)):(f.u="GET",f.g.ea(f.A,f.u,null,y)),Si(),Ju(f.i,f.u,f.A,f.l,f.R,f.m)}fr.prototype.ca=function(f){f=f.target;const y=this.M;y&&Ln(f)==3?y.j():this.Y(f)},fr.prototype.Y=function(f){try{if(f==this.g)e:{const Ct=Ln(this.g);var y=this.g.Ba();const Gr=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||ac(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Gr?Si(3):Si(2)),Pa(this);var v=this.g.Z();this.X=v;t:if(Ii(this)){var S=ac(this.g);f="";var B=S.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),vn(this);var ae="";break t}this.h.i=new d.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,f+=this.h.i.decode(S[y],{stream:!(Q&&y==B-1)});S.length=0,this.h.g+=f,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,ec(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Rt=this.g;if((Le=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)Ci(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,v);else{this.o=!1,this.s=3,ft(12),hn(this),vn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ae.length;)if(Bt=Ni(this,ae),Bt==Is){Ct==4&&(this.s=4,ft(14),v=!1),Ci(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==xi){this.s=4,ft(15),Ci(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else Ci(this.i,this.l,Bt,null),En(this,Bt);if(Ii(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ae.length!=0||this.h.h||(this.s=1,ft(16),v=!1),this.o=this.o&&v,!v)Ci(this.i,this.l,ae,"[Invalid Chunked Response]"),hn(this),vn(this);else if(0<ae.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),js(kt),kt.M=!0,ft(11))}}else Ci(this.i,this.l,ae,null),En(this,ae);Ct==4&&hn(this),this.o&&!this.J&&(Ct==4?fc(this.j,this):(this.o=!1,tt(this)))}else od(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),hn(this),vn(this)}}}catch{}finally{}};function Ii(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Ni(f,y){var v=f.C,S=y.indexOf(`
`,v);return S==-1?Is:(v=Number(y.substring(v,S)),isNaN(v)?xi:(S+=1,S+v>y.length?Is:(y=y.slice(S,S+v),f.C=S+v,y)))}fr.prototype.cancel=function(){this.J=!0,hn(this)};function tt(f){f.S=Date.now()+f.I,el(f,f.I)}function el(f,y){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Ai(b(f.ba,f),y)}function Pa(f){f.B&&(d.clearTimeout(f.B),f.B=null)}fr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(cr(this.i,this.A),this.L!=2&&(Si(),ft(17)),hn(this),this.s=2,vn(this)):el(this,this.S-f)};function vn(f){f.j.G==0||f.J||fc(f.j,f)}function hn(f){Pa(f);var y=f.M;y&&typeof y.ma=="function"&&y.ma(),f.M=null,Yt(f.U),f.g&&(y=f.g,f.g=null,y.abort(),y.ma())}function En(f,y){try{var v=f.j;if(v.G!=0&&(v.g==f||Di(v.h,f))){if(!f.K&&Di(v.h,f)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<f.F)Fa(v),qa(v);else break e;fl(v),ft(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ai(b(v.Za,v),6e3));if(1>=tc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fr(v,11)}else if((f.K||v.g==f)&&Fa(v),!X(y))for(B=v.Da.g.parse(y),y=0;y<B.length;y++){let Ue=B[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const kt=Ue[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const Ct=Ue[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Gr=Ue[5];Gr!=null&&typeof Gr=="number"&&0<Gr&&(S=1.5*Gr,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=f.g;if(Bt){const _r=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_r){var Q=S.h;Q.g||_r.indexOf("spdy")==-1&&_r.indexOf("quic")==-1&&_r.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Oi(Q,Q.h),Q.h=null))}if(S.D){const dl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(S.ya=dl,qe(S.I,S.D,dl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-f.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=f;if(S.qa=dc(S,S.J?S.ia:null,S.W),ae.K){Mn(S.h,ae);var Le=ae,Rt=S.L;Rt&&(Le.I=Rt),Le.B&&(Pa(Le),tt(Le)),S.g=ae}else uc(S);0<v.i.length&&Ha(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Fr(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Fr(v,7):ul(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Si(4)}catch{}}var nd=class{constructor(f,y){this.g=f,this.map=y}};function tl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function nl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function tc(f){return f.h?1:f.g?f.g.size:0}function Di(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Oi(f,y){f.g?f.g.add(y):f.h=y}function Mn(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}tl.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function on(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const v of f.g.values())y=y.concat(v.D);return y}return j(f.i)}function nc(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(m(f)){for(var y=[],v=f.length,S=0;S<v;S++)y.push(f[S]);return y}y=[],v=0;for(S in f)y[v++]=f[S];return y}function rd(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(m(f)||typeof f=="string"){var y=[];f=f.length;for(var v=0;v<f;v++)y.push(v);return y}y=[],v=0;for(const S in f)y[v++]=S;return y}}}function Ns(f,y){if(f.forEach&&typeof f.forEach=="function")f.forEach(y,void 0);else if(m(f)||typeof f=="string")Array.prototype.forEach.call(f,y,void 0);else for(var v=rd(f),S=nc(f),B=S.length,Q=0;Q<B;Q++)y.call(void 0,S[Q],v&&v[Q],f)}var rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Va(f,y){if(f){f=f.split("&");for(var v=0;v<f.length;v++){var S=f[v].indexOf("="),B=null;if(0<=S){var Q=f[v].substring(0,S);B=f[v].substring(S+1)}else Q=f[v];y(Q,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function jr(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof jr){this.h=f.h,Mi(this,f.j),this.o=f.o,this.g=f.g,Ds(this,f.s),this.l=f.l;var y=f.i,v=new hr;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),ka(this,v),this.m=f.m}else f&&(y=String(f).match(rl))?(this.h=!1,Mi(this,y[1]||"",!0),this.o=Pi(y[2]||""),this.g=Pi(y[3]||"",!0),Ds(this,y[4]),this.l=Pi(y[5]||"",!0),ka(this,y[6]||"",!0),this.m=Pi(y[7]||"")):(this.h=!1,this.i=new hr(null,this.h))}jr.prototype.toString=function(){var f=[],y=this.j;y&&f.push(Pn(y,il,!0),":");var v=this.g;return(v||y=="file")&&(f.push("//"),(y=this.o)&&f.push(Pn(y,il,!0),"@"),f.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&f.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&f.push("/"),f.push(Pn(v,v.charAt(0)=="/"?sl:rc,!0))),(v=this.i.toString())&&f.push("?",v),(v=this.m)&&f.push("#",Pn(v,ad)),f.join("")};function ot(f){return new jr(f)}function Mi(f,y,v){f.j=v?Pi(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Ds(f,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);f.s=y}else f.s=null}function ka(f,y,v){y instanceof hr?(f.i=y,al(f.i,f.h)):(v||(y=Pn(y,sd)),f.i=new hr(y,f.h))}function qe(f,y,v){f.i.set(y,v)}function Os(f){return qe(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Pi(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Pn(f,y,v){return typeof f=="string"?(f=encodeURI(f).replace(y,id),v&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function id(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var il=/[#\/\?@]/g,rc=/[#\?:]/g,sl=/[#\?]/g,sd=/[#\?@]/g,ad=/#/g;function hr(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function Vn(f){f.g||(f.g=new Map,f.h=0,f.i&&Va(f.i,function(y,v){f.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}n=hr.prototype,n.add=function(f,y){Vn(this),this.i=null,f=qr(this,f);var v=this.g.get(f);return v||this.g.set(f,v=[]),v.push(y),this.h+=1,this};function La(f,y){Vn(f),y=qr(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function zr(f,y){return Vn(f),y=qr(f,y),f.g.has(y)}n.forEach=function(f,y){Vn(this),this.g.forEach(function(v,S){v.forEach(function(B){f.call(y,B,S,this)},this)},this)},n.na=function(){Vn(this);const f=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const B=f[S];for(let Q=0;Q<B.length;Q++)v.push(y[S])}return v},n.V=function(f){Vn(this);let y=[];if(typeof f=="string")zr(this,f)&&(y=y.concat(this.g.get(qr(this,f))));else{f=Array.from(this.g.values());for(let v=0;v<f.length;v++)y=y.concat(f[v])}return y},n.set=function(f,y){return Vn(this),this.i=null,f=qr(this,f),zr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=this.V(f),0<f.length?String(f[0]):y):y};function Br(f,y,v){La(f,y),0<v.length&&(f.i=null,f.g.set(qr(f,y),j(v)),f.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=Q;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),f.push(B)}}return this.i=f.join("&")};function qr(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function al(f,y){y&&!f.j&&(Vn(f),f.i=null,f.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(La(this,S),Br(this,B,v))},f)),f.j=y}function ic(f,y){const v=new Ri;if(d.Image){const S=new Image;S.onload=x(kn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=x(kn,v,"TestLoadImage: error",!1,y,S),S.onabort=x(kn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=x(kn,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else y(!1)}function Ms(f,y){const v=new Ri,S=new AbortController,B=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:S.signal}).then(Q=>{clearTimeout(B),Q.ok?kn(v,"TestPingServer: ok",!0,y):kn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),kn(v,"TestPingServer: error",!1,y)})}function kn(f,y,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Ps(){this.g=new an}function dr(f,y,v){const S=v||"";try{Ns(f,function(B,Q){let ae=B;g(B)&&(ae=Xo(B)),y.push(S+Q+"="+encodeURIComponent(ae))})}catch(B){throw y.push(S+"type="+encodeURIComponent("_badmap")),B}}function Vi(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Vi,Wo),Vi.prototype.g=function(){return new Hr(this.l,this.j)},Vi.prototype.i=function(f){return function(){return f}}({});function Hr(f,y){St.call(this),this.D=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Hr,St),n=Hr.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=y,this.readyState=1,pr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(y.body=f),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ol(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function ol(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}n.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?mr(this):pr(this),this.readyState==3&&ol(this)}},n.Ra=function(f){this.g&&(this.response=this.responseText=f,mr(this))},n.Qa=function(f){this.g&&(this.response=f,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,pr(f)}n.setRequestHeader=function(f,y){this.u.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,f.push(v[0]+": "+v[1]),v=y.next();return f.join(`\r
`)};function pr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Hr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ll(f){let y="";return oe(f,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Vt(f,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=ll(v),typeof f=="string"?v!=null&&encodeURIComponent(String(v)):qe(f,y,v))}function Ke(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ke,St);var Ua=/^https?$/i,Vs=["POST","PUT"];n=Ke.prototype,n.Ha=function(f){this.J=f},n.ea=function(f,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?Xu(this.o):Xu(xs),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Q){sc(this,Q);return}if(f=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),B=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Vs,y,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of v)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(f),this.u=!1}catch(Q){sc(this,Q)}};function sc(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.m=5,ja(f),gr(f)}function ja(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),gr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),Ke.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?za(this):this.bb())},n.bb=function(){za(this)};function za(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Ln(f)!=4||f.Z()!=2)){if(f.u&&Ln(f)==4)Yu(f.Ea,0,f);else if(Mt(f,"readystatechange"),Ln(f)==4){f.h=!1;try{const ae=f.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ae===0){var B=String(f.D).match(rl)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),S=!Ua.test(B?B.toLowerCase():"")}v=S}if(v)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var Q=2<Ln(f)?f.g.statusText:""}catch{Q=""}f.l=Q+" ["+f.Z()+"]",ja(f)}}finally{gr(f)}}}}function gr(f,y){if(f.g){ks(f);const v=f.g,S=f.v[0]?()=>{}:null;f.g=null,f.v=null,y||Mt(f,"ready");try{v.onreadystatechange=S}catch{}}}function ks(f){f.I&&(d.clearTimeout(f.I),f.I=null)}n.isActive=function(){return!!this.g};function Ln(f){return f.g?f.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),lr(y)}};function ac(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function od(f){const y={};f=(f.g&&2<=Ln(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(X(f[S]))continue;var v=L(f[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[B]||[];y[B]=Q,Q.push(v)}P(y,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(f,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[f]||y}function Ba(f){this.Aa=0,this.i=[],this.j=new Ri,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,f),this.cb=Ls("retryDelaySeedMs",1e4,f),this.Wa=Ls("forwardChannelMaxRetries",2,f),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new tl(f&&f.concurrentRequestLimit),this.Da=new Ps,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ba.prototype,n.la=8,n.G=1,n.connect=function(f,y,v,S){ft(0),this.W=f,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=dc(this,null,this.W),Ha(this)};function ul(f){if(oc(f),f.G==3){var y=f.U++,v=ot(f.I);if(qe(v,"SID",f.K),qe(v,"RID",y),qe(v,"TYPE","terminate"),Us(f,v),y=new fr(f,f.j,y),y.L=2,y.v=Os(ot(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=mc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),tt(y)}hc(f)}function qa(f){f.g&&(js(f),f.g.cancel(),f.g=null)}function oc(f){qa(f),f.u&&(d.clearTimeout(f.u),f.u=null),Fa(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function Ha(f){if(!nl(f.h)&&!f.s){f.s=!0;var y=f.Ga;Ee||V(),ye||(Ee(),ye=!0),Ge.add(y,f),f.B=0}}function ld(f,y){return tc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=y.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Ai(b(f.Ga,f,y),hl(f,f.B)),f.B++,!0)}n.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const B=new fr(this,this.j,f);let Q=this.o;if(this.S&&(Q?(Q=R(Q),O(Q,this.S)):Q=this.S),this.m!==null||this.O||(B.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=lc(this,B,y),v=ot(this.I),qe(v,"RID",f),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Us(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(ll(Q)))+"&"+y:this.m&&Vt(v,this.m,Q)),Oi(this.h,B),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",y),qe(v,"SID","null"),B.T=!0,Xn(B,v,null)):Xn(B,v,y),this.G=2}}else this.G==3&&(f?cl(this,f):this.i.length==0||nl(this.h)||cl(this))};function cl(f,y){var v;y?v=y.l:v=f.U++;const S=ot(f.I);qe(S,"SID",f.K),qe(S,"RID",v),qe(S,"AID",f.T),Us(f,S),f.m&&f.o&&Vt(S,f.m,f.o),v=new fr(f,f.j,v,f.B+1),f.m===null&&(v.H=f.o),y&&(f.i=y.D.concat(f.i)),y=lc(f,v,1e3),v.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Oi(f.h,v),Xn(v,S,y)}function Us(f,y){f.H&&oe(f.H,function(v,S){qe(y,S,v)}),f.l&&Ns({},function(v,S){qe(y,S,v)})}function lc(f,y,v){v=Math.min(f.i.length,v);var S=f.l?b(f.l.Na,f.l,f):null;e:{var B=f.i;let Q=-1;for(;;){const ae=["count="+v];Q==-1?0<v?(Q=B[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let Le=!0;for(let Rt=0;Rt<v;Rt++){let Ue=B[Rt].g;const kt=B[Rt].map;if(Ue-=Q,0>Ue)Q=Math.max(0,B[Rt].g-100),Le=!1;else try{dr(kt,ae,"req"+Ue+"_")}catch{S&&S(kt)}}if(Le){S=ae.join("&");break e}}}return f=f.i.splice(0,v),y.D=f,S}function uc(f){if(!f.g&&!f.u){f.Y=1;var y=f.Fa;Ee||V(),ye||(Ee(),ye=!0),Ge.add(y,f),f.v=0}}function fl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Ai(b(f.Fa,f),hl(f,f.v)),f.v++,!0)}n.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Ai(b(this.ab,this),f)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),qa(this),cc(this))};function js(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function cc(f){f.g=new fr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var y=ot(f.qa);qe(y,"RID","rpc"),qe(y,"SID",f.K),qe(y,"AID",f.T),qe(y,"CI",f.F?"0":"1"),!f.F&&f.ja&&qe(y,"TO",f.ja),qe(y,"TYPE","xmlhttp"),Us(f,y),f.m&&f.o&&Vt(y,f.m,f.o),f.L&&(f.g.I=f.L);var v=f.g;f=f.ia,v.L=1,v.v=Os(ot(y)),v.m=null,v.P=!0,Ur(v,f)}n.Za=function(){this.C!=null&&(this.C=null,qa(this),fl(this),ft(19))};function Fa(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function fc(f,y){var v=null;if(f.g==y){Fa(f),js(f),f.g=null;var S=2}else if(Di(f.h,y))v=y.D,Mn(f.h,y),S=1;else return;if(f.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var B=f.B;S=Da(),Mt(S,new Zu(S,v)),Ha(f)}else uc(f);else if(B=y.s,B==3||B==0&&0<y.X||!(S==1&&ld(f,y)||S==2&&fl(f)))switch(v&&0<v.length&&(y=f.h,y.i=y.i.concat(v)),B){case 1:Fr(f,5);break;case 4:Fr(f,10);break;case 3:Fr(f,6);break;default:Fr(f,2)}}}function hl(f,y){let v=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(v*=2),v*y}function Fr(f,y){if(f.j.info("Error code "+y),y==2){var v=b(f.fb,f),S=f.Xa;const B=!S;S=new jr(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Mi(S,"https"),Os(S),B?ic(S.toString(),v):Ms(S.toString(),v)}else ft(2);f.G=0,f.l&&f.l.sa(y),hc(f),oc(f)}n.fb=function(f){f?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function hc(f){if(f.G=0,f.ka=[],f.l){const y=on(f.h);(y.length!=0||f.i.length!=0)&&(D(f.ka,y),D(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function dc(f,y,v){var S=v instanceof jr?ot(v):new jr(v);if(S.g!="")y&&(S.g=y+"."+S.g),Ds(S,S.s);else{var B=d.location;S=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Q=new jr(null);S&&Mi(Q,S),y&&(Q.g=y),B&&Ds(Q,B),v&&(Q.l=v),S=Q}return v=f.D,y=f.ya,v&&y&&qe(S,v,y),qe(S,"VER",f.la),Us(f,S),S}function mc(f,y,v){if(y&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Ca&&!f.pa?new Ke(new Vi({eb:v})):new Ke(f.pa),y.Ha(f.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function pc(){}n=pc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ga(){}Ga.prototype.g=function(f,y){return new ln(f,y)};function ln(f,y){St.call(this),this.g=new Ba(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(f?f["X-WebChannel-Client-Profile"]=y.va:f={"X-WebChannel-Client-Profile":y.va}),this.g.S=f,(f=y&&y.Sb)&&!X(f)&&(this.g.m=f),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new yr(this)}I(ln,St),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){ul(this.g)},ln.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var v={};v.__data__=f,f=v}else this.u&&(v={},v.__data__=Xo(f),f=v);y.i.push(new nd(y.Ya++,f)),y.G==3&&Ha(y)},ln.prototype.N=function(){this.g.l=null,delete this.j,ul(this.g),delete this.g,ln.aa.N.call(this)};function gc(f){wi.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const v in y){f=v;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}I(gc,wi);function yc(){Yn.call(this),this.status=1}I(yc,Yn);function yr(f){this.g=f}I(yr,pc),yr.prototype.ua=function(){Mt(this.g,"a")},yr.prototype.ta=function(f){Mt(this.g,new gc(f))},yr.prototype.sa=function(f){Mt(this.g,new yc)},yr.prototype.ra=function(){Mt(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,p0=function(){return new Ga},m0=function(){return Da()},d0=On,Yp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,If=At,Lr.COMPLETE="complete",h0=Lr,Wu.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",St.prototype.listen=St.prototype.K,au=Wu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,f0=Ke}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});const IT="@firebase/firestore",NT="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qo="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Ig("@firebase/firestore");function vo(){return ya.logLevel}function fe(n,...e){if(ya.logLevel<=Me.DEBUG){const t=e.map(Og);ya.debug(`Firestore (${qo}): ${n}`,...t)}}function pi(n,...e){if(ya.logLevel<=Me.ERROR){const t=e.map(Og);ya.error(`Firestore (${qo}): ${n}`,...t)}}function No(n,...e){if(ya.logLevel<=Me.WARN){const t=e.map(Og);ya.warn(`Firestore (${qo}): ${n}`,...t)}}function Og(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(n="Unexpected state"){const e=`FIRESTORE (${qo}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function $e(n,e){n||we()}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends _i{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Jt.UNAUTHENTICATED))}shutdown(){}}class vO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class EO{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($e(typeof i.accessToken=="string"),new g0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Jt(e)}}class TO{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class wO{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new TO(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bO{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Rn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const i=l=>{l.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,fe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new DT(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new DT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=SO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function ke(n,e){return n<e?-1:n>e?1:0}function Do(n,e,t){return n.length===e.length&&n.every((i,a)=>t(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT=-62135596800,MT=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*MT);return new Nt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<OT)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MT}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-OT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Nt(0,0))}static max(){return new be(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__name__";class Ar{constructor(e,t,i){t===void 0?t=0:t>e.length&&we(),i===void 0?i=e.length-t:i>e.length-t&&we(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Ar.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=Ar.isNumericId(e),a=Ar.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ar.extractNumericId(e).compare(Ar.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cs.fromString(e.substring(4,e.length-2))}}class et extends Ar{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(a=>a.length>0))}return new et(t)}static emptyPath(){return new et([])}}const AO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends Ar{construct(e,t,i){return new $t(e,t,i)}static isValidIdentifier(e){return AO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new $t([PT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(t)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(et.fromString(e))}static fromName(e){return new _e(et.fromString(e).popFirst(5))}static empty(){return new _e(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=-1;function RO(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=be.fromTimestamp(i===1e9?new Nt(t+1,0):new Nt(t,i));return new ps(a,_e.empty(),e)}function CO(n){return new ps(n.readTime,n.key,Tu)}class ps{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ps(be.min(),_e.empty(),Tu)}static max(){return new ps(be.max(),_e.empty(),Tu)}}function xO(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ho(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==IO)throw n;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,i)=>{t(e)})}static reject(e){return new ee((t,i)=>{i(e)})}static waitFor(e){return new ee((t,i)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>i(m))}),c=!0,l===a&&t()})}static or(e){let t=ee.resolve(!1);for(const i of e)t=t.next(a=>a?ee.resolve(a):i());return t}static forEach(e,t){const i=[];return e.forEach((a,l)=>{i.push(t.call(this,a,l))}),this.waitFor(i)}static mapArray(e,t){return new ee((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(_=>{c[g]=_,++d,d===l&&i(c)},_=>a(_))}})}static doWhile(e,t){return new ee((i,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):i()};l()})}}function DO(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Fo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg=-1;function Ph(n){return n==null}function eh(n){return n===0&&1/n==-1/0}function OO(n){return typeof n=="number"&&Number.isInteger(n)&&!eh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="";function MO(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=VT(e)),e=PO(n.get(t),e);return VT(e)}function PO(n,e){let t=e;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case _0:t+="";break;default:t+=l}}return t}function VT(n){return n+_0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ts(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function v0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Kt.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??Kt.RED,this.left=a??Kt.EMPTY,this.right=l??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new Kt(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Kt.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,t,i,a,l){return this}insert(e,t,i){return new Kt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LT(this.data.getIterator())}getIteratorFrom(e){return new LT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class LT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Cn([])}unionWith(e){let t=new Dt($t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Cn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new E0("Invalid base64 string: "+l):l}}(e);return new Qt(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new Qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(n){if($e(!!n),typeof n=="string"){let e=0;const t=VO.exec(n);if($e(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(n.seconds),nanos:dt(n.nanos)}}function dt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ys(n){return typeof n=="string"?Qt.fromBase64String(n):Qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="server_timestamp",w0="__type__",b0="__previous_value__",S0="__local_write_time__";function Pg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[w0])===null||t===void 0?void 0:t.stringValue)===T0}function Vh(n){const e=n.mapValue.fields[b0];return Pg(e)?Vh(e):e}function wu(n){const e=gs(n.mapValue.fields[S0].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e,t,i,a,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const th="(default)";class bu{constructor(e,t){this.projectId=e,this.database=t||th}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===th}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="__type__",LO="__max__",Ef={mapValue:{}},R0="__vector__",nh="value";function _s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Pg(n)?4:jO(n)?9007199254740991:UO(n)?10:11:we()}function Or(n,e){if(n===e)return!0;const t=_s(n);if(t!==_s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return wu(n).isEqual(wu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=gs(a.timestampValue),d=gs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return ys(a.bytesValue).isEqual(ys(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return dt(a.geoPointValue.latitude)===dt(l.geoPointValue.latitude)&&dt(a.geoPointValue.longitude)===dt(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return dt(a.integerValue)===dt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=dt(a.doubleValue),d=dt(l.doubleValue);return c===d?eh(c)===eh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Do(n.arrayValue.values||[],e.arrayValue.values||[],Or);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(kT(c)!==kT(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Or(c[m],d[m])))return!1;return!0}(n,e);default:return we()}}function Su(n,e){return(n.values||[]).find(t=>Or(t,e))!==void 0}function Oo(n,e){if(n===e)return 0;const t=_s(n),i=_s(e);if(t!==i)return ke(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=dt(l.integerValue||l.doubleValue),m=dt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return UT(n.timestampValue,e.timestampValue);case 4:return UT(wu(n),wu(e));case 5:return ke(n.stringValue,e.stringValue);case 6:return function(l,c){const d=ys(l),m=ys(c);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const _=ke(d[g],m[g]);if(_!==0)return _}return ke(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=ke(dt(l.latitude),dt(c.latitude));return d!==0?d:ke(dt(l.longitude),dt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return jT(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,_;const T=l.fields||{},b=c.fields||{},x=(d=T[nh])===null||d===void 0?void 0:d.arrayValue,I=(m=b[nh])===null||m===void 0?void 0:m.arrayValue,j=ke(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((_=I==null?void 0:I.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:jT(x,I)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ef.mapValue&&c===Ef.mapValue)return 0;if(l===Ef.mapValue)return 1;if(c===Ef.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},_=Object.keys(g);m.sort(),_.sort();for(let T=0;T<m.length&&T<_.length;++T){const b=ke(m[T],_[T]);if(b!==0)return b;const x=Oo(d[m[T]],g[_[T]]);if(x!==0)return x}return ke(m.length,_.length)}(n.mapValue,e.mapValue);default:throw we()}}function UT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=gs(n),i=gs(e),a=ke(t.seconds,i.seconds);return a!==0?a:ke(t.nanos,i.nanos)}function jT(n,e){const t=n.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Oo(t[a],i[a]);if(l)return l}return ke(t.length,i.length)}function Mo(n){return Xp(n)}function Xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=gs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ys(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return _e.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Xp(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Xp(t.fields[c])}`;return a+"}"}(n.mapValue):we()}function Nf(n){switch(_s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Vh(n);return e?16+Nf(e):16;case 5:return 2*n.stringValue.length;case 6:return ys(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Nf(l),0)}(n.arrayValue);case 10:case 11:return function(i){let a=0;return Ts(i.fields,(l,c)=>{a+=l.length+Nf(c)}),a}(n.mapValue);default:throw we()}}function zT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Wp(n){return!!n&&"integerValue"in n}function Vg(n){return!!n&&"arrayValue"in n}function BT(n){return!!n&&"nullValue"in n}function qT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Df(n){return!!n&&"mapValue"in n}function UO(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[A0])===null||t===void 0?void 0:t.stringValue)===R0}function fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ts(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=fu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function jO(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===LO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Df(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=fu(t)}setAll(e){let t=$t.emptyPath(),i={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=fu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Df(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Or(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Df(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){Ts(t,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new pn(fu(this.value))}}function C0(n){const e=[];return Ts(n.fields,(t,i)=>{const a=new $t([t]);if(Df(i)){const l=C0(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,be.min(),be.min(),be.min(),pn.empty(),0)}static newFoundDocument(e,t,i,a){return new en(e,1,t,be.min(),i,a,0)}static newNoDocument(e,t){return new en(e,2,t,be.min(),be.min(),pn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,be.min(),be.min(),pn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t){this.position=e,this.inclusive=t}}function HT(n,e,t){let i=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=Oo(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function FT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Or(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function zO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{}class Tt extends x0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new qO(e,t,i):t==="array-contains"?new GO(e,i):t==="in"?new KO(e,i):t==="not-in"?new $O(e,i):t==="array-contains-any"?new QO(e,i):new Tt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new HO(e,i):new FO(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Oo(t,this.value)):t!==null&&_s(this.value)===_s(t)&&this.matchesComparison(Oo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends x0{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ir(e,t)}matches(e){return I0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function I0(n){return n.op==="and"}function N0(n){return BO(n)&&I0(n)}function BO(n){for(const e of n.filters)if(e instanceof ir)return!1;return!0}function Zp(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+Mo(n.value);if(N0(n))return n.filters.map(e=>Zp(e)).join(",");{const e=n.filters.map(t=>Zp(t)).join(",");return`${n.op}(${e})`}}function D0(n,e){return n instanceof Tt?function(i,a){return a instanceof Tt&&i.op===a.op&&i.field.isEqual(a.field)&&Or(i.value,a.value)}(n,e):n instanceof ir?function(i,a){return a instanceof ir&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,c,d)=>l&&D0(c,a.filters[d]),!0):!1}(n,e):void we()}function O0(n){return n instanceof Tt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(n):n instanceof ir?function(t){return t.op.toString()+" {"+t.getFilters().map(O0).join(" ,")+"}"}(n):"Filter"}class qO extends Tt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class HO extends Tt{constructor(e,t){super(e,"in",t),this.keys=M0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class FO extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=M0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function M0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>_e.fromName(i.referenceValue))}class GO extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Vg(t)&&Su(t.arrayValue,this.value)}}class KO extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Su(this.value.arrayValue,t)}}class $O extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Su(this.value.arrayValue,t)}}class QO extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Vg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Su(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function GT(n,e=null,t=[],i=[],a=null,l=null,c=null){return new YO(n,e,t,i,a,l,c)}function kg(n){const e=Ae(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Zp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Ph(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Mo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Mo(i)).join(",")),e.le=t}return e.le}function Lg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!D0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!FT(n.startAt,e.startAt)&&FT(n.endAt,e.endAt)}function Jp(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XO(n,e,t,i,a,l,c,d){return new Lu(n,e,t,i,a,l,c,d)}function Ug(n){return new Lu(n)}function KT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function P0(n){return n.collectionGroup!==null}function hu(n){const e=Ae(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Dt($t.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new ih(l,i))}),t.has($t.keyField().canonicalString())||e.he.push(new ih($t.keyField(),i))}return e.he}function Cr(n){const e=Ae(n);return e.Pe||(e.Pe=WO(e,hu(n))),e.Pe}function WO(n,e){if(n.limitType==="F")return GT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new ih(a.field,l)});const t=n.endAt?new rh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new rh(n.startAt.position,n.startAt.inclusive):null;return GT(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function eg(n,e){const t=n.filters.concat([e]);return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tg(n,e,t){return new Lu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kh(n,e){return Lg(Cr(n),Cr(e))&&n.limitType===e.limitType}function V0(n){return`${kg(Cr(n))}|lt:${n.limitType}`}function Eo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(a=>O0(a)).join(", ")}]`),Ph(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(a=>Mo(a)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(a=>Mo(a)).join(",")),`Target(${i})`}(Cr(n))}; limitType=${n.limitType})`}function Lh(n,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,a){for(const l of hu(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(i,a){return!(i.startAt&&!function(c,d,m){const g=HT(c,d,m);return c.inclusive?g<=0:g<0}(i.startAt,hu(i),a)||i.endAt&&!function(c,d,m){const g=HT(c,d,m);return c.inclusive?g>=0:g>0}(i.endAt,hu(i),a))}(n,e)}function ZO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k0(n){return(e,t)=>{let i=!1;for(const a of hu(n)){const l=JO(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function JO(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Oo(m,g):we()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ts(this.inner,(t,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return v0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new st(_e.comparator);function gi(){return e2}const L0=new st(_e.comparator);function ou(...n){let e=L0;for(const t of n)e=e.insert(t.key,t);return e}function U0(n){let e=L0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function la(){return du()}function j0(){return du()}function du(){return new Aa(n=>n.toString(),(n,e)=>n.isEqual(e))}const t2=new st(_e.comparator),n2=new Dt(_e.comparator);function Pe(...n){let e=n2;for(const t of n)e=e.add(t);return e}const r2=new Dt(ke);function i2(){return r2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(e)?"-0":e}}function z0(n){return{integerValue:""+n}}function s2(n,e){return OO(e)?z0(e):jg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function a2(n,e,t){return n instanceof sh?function(a,l){const c={fields:{[w0]:{stringValue:T0},[S0]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Pg(l)&&(l=Vh(l)),l&&(c.fields[b0]=l),{mapValue:c}}(t,e):n instanceof Au?q0(n,e):n instanceof Ru?H0(n,e):function(a,l){const c=B0(a,l),d=$T(c)+$T(a.Ie);return Wp(c)&&Wp(a.Ie)?z0(d):jg(a.serializer,d)}(n,e)}function o2(n,e,t){return n instanceof Au?q0(n,e):n instanceof Ru?H0(n,e):t}function B0(n,e){return n instanceof ah?function(i){return Wp(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class sh extends Uh{}class Au extends Uh{constructor(e){super(),this.elements=e}}function q0(n,e){const t=F0(e);for(const i of n.elements)t.some(a=>Or(a,i))||t.push(i);return{arrayValue:{values:t}}}class Ru extends Uh{constructor(e){super(),this.elements=e}}function H0(n,e){let t=F0(e);for(const i of n.elements)t=t.filter(a=>!Or(a,i));return{arrayValue:{values:t}}}class ah extends Uh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function $T(n){return dt(n.integerValue||n.doubleValue)}function F0(n){return Vg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function l2(n,e){return n.field.isEqual(e.field)&&function(i,a){return i instanceof Au&&a instanceof Au||i instanceof Ru&&a instanceof Ru?Do(i.elements,a.elements,Or):i instanceof ah&&a instanceof ah?Or(i.Ie,a.Ie):i instanceof sh&&a instanceof sh}(n.transform,e.transform)}class u2{constructor(e,t){this.version=e,this.transformResults=t}}class nr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Of(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jh{}function G0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zg(n.key,nr.none()):new Uu(n.key,n.data,nr.none());{const t=n.data,i=pn.empty();let a=new Dt($t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new ws(n.key,i,new Cn(a.toArray()),nr.none())}}function c2(n,e,t){n instanceof Uu?function(a,l,c){const d=a.value.clone(),m=YT(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ws?function(a,l,c){if(!Of(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=YT(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(K0(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function mu(n,e,t,i){return n instanceof Uu?function(l,c,d,m){if(!Of(l.precondition,c))return d;const g=l.value.clone(),_=XT(l.fieldTransforms,m,c);return g.setAll(_),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,i):n instanceof ws?function(l,c,d,m){if(!Of(l.precondition,c))return d;const g=XT(l.fieldTransforms,m,c),_=c.data;return _.setAll(K0(l)),_.setAll(g),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,d){return Of(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function f2(n,e){let t=null;for(const i of n.fieldTransforms){const a=e.data.field(i.field),l=B0(i.transform,a||null);l!=null&&(t===null&&(t=pn.empty()),t.set(i.field,l))}return t||null}function QT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Do(i,a,(l,c)=>l2(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Uu extends jh{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ws extends jh{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function K0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function YT(n,e,t){const i=new Map;$e(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,o2(c,d,t[a]))}return i}function XT(n,e,t){const i=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);i.set(a.field,a2(l,c,e))}return i}class zg extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h2 extends jh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&c2(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=mu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=mu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=j0();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=G0(c,d);m!==null&&i.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,i)=>QT(t,i))&&Do(this.baseMutations,e.baseMutations,(t,i)=>QT(t,i))}}class Bg{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){$e(e.mutations.length===i.length);let a=function(){return t2}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Bg(e,t,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,ze;function g2(n){switch(n){case te.OK:return we();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we()}}function $0(n){if(n===void 0)return pi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Et.OK:return te.OK;case Et.CANCELLED:return te.CANCELLED;case Et.UNKNOWN:return te.UNKNOWN;case Et.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Et.INTERNAL:return te.INTERNAL;case Et.UNAVAILABLE:return te.UNAVAILABLE;case Et.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Et.NOT_FOUND:return te.NOT_FOUND;case Et.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Et.ABORTED:return te.ABORTED;case Et.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Et.DATA_LOSS:return te.DATA_LOSS;default:return we()}}(ze=Et||(Et={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=new cs([4294967295,4294967295],0);function WT(n){const e=y2().encode(n),t=new c0;return t.update(e),new Uint8Array(t.digest())}function ZT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new cs([t,i],0),new cs([a,l],0)]}class qg{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new lu(`Invalid padding: ${t}`);if(i<0)throw new lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new lu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new lu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=cs.fromNumber(this.Ee)}Ae(e,t,i){let a=e.add(t.multiply(cs.fromNumber(i)));return a.compare(_2)===1&&(a=new cs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=WT(e),[i,a]=ZT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new qg(l,a,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=WT(e),[i,a]=ZT(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(i,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,ju.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new zh(be.min(),a,new st(ke),gi(),Pe())}}class ju{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new ju(i,t,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t,i,a){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=a}}class Q0{constructor(e,t){this.targetId=e,this.ge=t}}class Y0{constructor(e,t,i=Qt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class JT{constructor(){this.pe=0,this.ye=ew(),this.we=Qt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),t=Pe(),i=Pe();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:we()}}),new ju(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=ew()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class v2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gi(),this.$e=Tf(),this.Ke=Tf(),this.Ue=new st(ke)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,i=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Jp(l))if(i===0){const c=new _e(l.path);this.ze(t,c,en.newNoDocument(c,be.min()))}else $e(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ys(i).toUint8Array()}catch(m){if(m instanceof E0)return No("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new qg(c,a,l)}catch(m){return No(m instanceof lu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let a=0;return i.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Jp(d.target)){const m=new _e(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,en.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let i=Pe();this.Ke.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new zh(e,t,this.Ue,this.Qe,i);return this.Qe=gi(),this.$e=Tf(),this.Ke=Tf(),this.Ue=new st(ke),a}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new JT,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new Dt(ke),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(ke),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||fe("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new JT),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Tf(){return new st(_e.comparator)}function ew(){return new st(_e.comparator)}const E2={asc:"ASCENDING",desc:"DESCENDING"},T2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},w2={and:"AND",or:"OR"};class b2{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(n,e){return n.useProto3Json||Ph(e)?e:{value:e}}function oh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function S2(n,e){return oh(n,e.toTimestamp())}function xr(n){return $e(!!n),be.fromTimestamp(function(t){const i=gs(t);return new Nt(i.seconds,i.nanos)}(n))}function Hg(n,e){return rg(n,e).canonicalString()}function rg(n,e){const t=function(a){return new et(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function W0(n){const e=et.fromString(n);return $e(nS(e)),e}function ig(n,e){return Hg(n.databaseId,e.path)}function Sp(n,e){const t=W0(e);if(t.get(1)!==n.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(J0(t))}function Z0(n,e){return Hg(n.databaseId,e)}function A2(n){const e=W0(n);return e.length===4?et.emptyPath():J0(e)}function sg(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J0(n){return $e(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function tw(n,e,t){return{name:ig(n,e),fields:t.value.mapValue.fields}}function R2(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,_){return g.useProto3Json?($e(_===void 0||typeof _=="string"),Qt.fromBase64String(_||"")):($e(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),Qt.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const _=g.code===void 0?te.UNKNOWN:$0(g.code);return new de(_,g.message||"")}(c);t=new Y0(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Sp(n,i.document.name),l=xr(i.document.updateTime),c=i.document.createTime?xr(i.document.createTime):be.min(),d=new pn({mapValue:{fields:i.document.fields}}),m=en.newFoundDocument(a,l,c,d),g=i.targetIds||[],_=i.removedTargetIds||[];t=new Mf(g,_,m.key,m)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Sp(n,i.document),l=i.readTime?xr(i.readTime):be.min(),c=en.newNoDocument(a,l),d=i.removedTargetIds||[];t=new Mf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Sp(n,i.document),l=i.removedTargetIds||[];t=new Mf([],l,a,null)}else{if(!("filter"in e))return we();{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new p2(a,l),d=i.targetId;t=new Q0(d,c)}}return t}function C2(n,e){let t;if(e instanceof Uu)t={update:tw(n,e.key,e.value)};else if(e instanceof zg)t={delete:ig(n,e.key)};else if(e instanceof ws)t={update:tw(n,e.key,e.data),updateMask:k2(e.fieldMask)};else{if(!(e instanceof h2))return we();t={verify:ig(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const d=c.transform;if(d instanceof sh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Au)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ru)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ah)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw we()}(0,i))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:S2(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:we()}(n,e.precondition)),t}function x2(n,e){return n&&n.length>0?($e(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?xr(a.updateTime):xr(l);return c.isEqual(be.min())&&(c=xr(l)),new u2(c,a.transformResults||[])}(t,e))):[]}function I2(n,e){return{documents:[Z0(n,e.path)]}}function N2(n,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Z0(n,a);const l=function(g){if(g.length!==0)return tS(ir.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(_=>function(b){return{field:To(b.field),direction:M2(b.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ng(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function D2(n){let e=A2(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){$e(i===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const b=eS(T);return b instanceof ir&&N0(b)?b.getFilters():[b]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(b=>function(I){return new ih(wo(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(b))}(t.orderBy));let d=null;t.limit&&(d=function(T){let b;return b=typeof T=="object"?T.value:T,Ph(b)?null:b}(t.limit));let m=null;t.startAt&&(m=function(T){const b=!!T.before,x=T.values||[];return new rh(x,b)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const b=!T.before,x=T.values||[];return new rh(x,b)}(t.endAt)),XO(e,a,c,l,d,"F",m,g)}function O2(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eS(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=wo(t.unaryFilter.field);return Tt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=wo(t.unaryFilter.field);return Tt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=wo(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wo(t.unaryFilter.field);return Tt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(n):n.fieldFilter!==void 0?function(t){return Tt.create(wo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ir.create(t.compositeFilter.filters.map(i=>eS(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(t.compositeFilter.op))}(n):we()}function M2(n){return E2[n]}function P2(n){return T2[n]}function V2(n){return w2[n]}function To(n){return{fieldPath:n.canonicalString()}}function wo(n){return $t.fromServerFormat(n.fieldPath)}function tS(n){return n instanceof Tt?function(t){if(t.op==="=="){if(qT(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NAN"}};if(BT(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(qT(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NAN"}};if(BT(t.value))return{unaryFilter:{field:To(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(t.field),op:P2(t.op),value:t.value}}}(n):n instanceof ir?function(t){const i=t.getFilters().map(a=>tS(a));return i.length===1?i[0]:{compositeFilter:{op:V2(t.op),filters:i}}}(n):we()}function k2(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function nS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,t,i,a,l=be.min(),c=be.min(),d=Qt.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new as(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new as(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.Tt=e}}function U2(n){const e=D2({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.Tn=new z2}addToCollectionParentIndex(e,t){return this.Tn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ps.min())}updateCollectionGroup(e,t,i){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class z2{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new Dt(et.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Dt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rS=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(rS,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Po(0)}static Un(){return new Po(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="LruGarbageCollector",B2=1048576;function iw([n,e],[t,i]){const a=ke(n,t);return a===0?ke(e,i):a}class q2{constructor(e){this.Hn=e,this.buffer=new Dt(iw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();iw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class H2{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){fe(rw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Fo(t)?fe(rw,"Ignoring IndexedDB error during garbage collection: ",t):await Ho(t)}await this.er(3e5)})}}class F2{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(Mh.ae);const i=new q2(t);return this.tr.forEachTarget(e,a=>i.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>i.Zn(a))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(nw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,a,l,c,d,m,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(g=Date.now(),vo()<=Me.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function G2(n,e){return new F2(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.changes=new Aa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?ee.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(i!==null&&mu(i.mutation,a,Cn.empty(),Nt.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Pe()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Pe()){const a=la();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,i).next(l=>{let c=ou();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=la();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Pe()))}populateOverlays(e,t,i){const a=[];return i.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,a){let l=gi();const c=du(),d=function(){return du()}();return t.forEach((m,g)=>{const _=i.get(g.key);a.has(g.key)&&(_===void 0||_.mutation instanceof ws)?l=l.insert(g.key,g):_!==void 0?(c.set(g.key,_.mutation.getFieldMask()),mu(_.mutation,g,_.mutation.getFieldMask(),Nt.now())):c.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,_)=>c.set(g,_)),t.forEach((g,_)=>{var T;return d.set(g,new $2(_,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=du();let a=new st((c,d)=>c-d),l=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let _=i.get(m)||Cn.empty();_=d.applyToLocalView(g,_),i.set(m,_);const T=(a.get(d.batchId)||Pe()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,_=m.value,T=j0();_.forEach(b=>{if(!l.has(b)){const x=G0(t.get(b),i.get(b));x!==null&&T.set(b,x),l=l.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ee.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,a){return function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):P0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):ee.resolve(la());let d=Tu,m=l;return c.next(g=>ee.forEach(g,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(b=>{m=m.insert(_,b)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Pe())).next(_=>({batchId:d,changes:U0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next(i=>{let a=ou();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=ou();return this.indexManager.getCollectionParents(e,l).next(d=>ee.forEach(d,m=>{const g=function(T,b){return new Lu(b,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,a).next(_=>{_.forEach((T,b)=>{c=c.insert(T,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a))).next(c=>{l.forEach((m,g)=>{const _=g.getKey();c.get(_)===null&&(c=c.insert(_,en.newInvalidDocument(_)))});let d=ou();return c.forEach((m,g)=>{const _=l.get(m);_!==void 0&&mu(_.mutation,g,Cn.empty(),Nt.now()),Lh(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ee.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:xr(a.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:U2(a.bundledQuery),readTime:xr(a.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.overlays=new st(_e.comparator),this.Rr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const i=la();return ee.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((a,l)=>{this.Et(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Rr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(i)),ee.resolve()}getOverlaysForCollection(e,t,i){const a=la(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return ee.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new st((g,_)=>g-_);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let _=l.get(g.largestBatchId);_===null&&(_=la(),l=l.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const d=la(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,_)=>d.set(g,_)),!(d.size()>=a)););return ee.resolve(d)}Et(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(i.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new m2(t,i));let l=this.Rr.get(t);l===void 0&&(l=Pe(),this.Rr.set(t,l)),this.Rr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(){this.Vr=new Dt(zt.mr),this.gr=new Dt(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new zt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new zt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new _e(new et([])),i=new zt(t,e),a=new zt(t,e+1),l=[];return this.gr.forEachInRange([i,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new _e(new et([])),i=new zt(t,e),a=new zt(t,e+1);let l=Pe();return this.gr.forEachInRange([i,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new zt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class zt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return _e.comparator(e.key,t.key)||ke(e.Cr,t.Cr)}static pr(e,t){return ke(e.Cr,t.Cr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(zt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new d2(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new zt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Nr(i),l=a<0?0:a;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Mg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new zt(t,0),a=new zt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([i,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Dt(ke);return t.forEach(a=>{const l=new zt(a,0),c=new zt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{i=i.add(d.Cr)})}),ee.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new zt(new _e(l),0);let d=new Dt(ke);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Cr)),!0)},c),ee.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const a=this.Or(i);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ee.forEach(t.mutations,a=>{const l=new zt(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new zt(t,0),a=this.Mr.firstAfterOrEqual(i);return ee.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.kr=e,this.docs=function(){return new st(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ee.resolve(i?i.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let i=gi();return t.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():en.newInvalidDocument(a))}),ee.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=gi();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:_}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||xO(CO(_),i)<=0||(a.has(_.key)||Lh(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,i,a){we()}qr(e,t){return ee.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new eM(this)}getSize(e){return ee.resolve(this.size)}}class eM extends K2{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(i)}),ee.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.persistence=e,this.Qr=new Aa(t=>kg(t),Lg),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Fg,this.targetCount=0,this.Ur=Po.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,a)=>t(a)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),ee.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new Po(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.zn(t),ee.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ee.waitFor(l).next(()=>a)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return ee.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),ee.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return ee.resolve(i)}containsKey(e,t){return ee.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new W2,this.referenceDelegate=e(this),this.Hr=new tM(this),this.indexManager=new j2,this.remoteDocumentCache=function(a){return new J2(a)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new L2(t),this.Yr=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new X2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new Z2(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){fe("MemoryPersistence","Starting transaction:",e);const a=new nM(this.Gr.next());return this.referenceDelegate.Zr(),i(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ee.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class nM extends NO{constructor(e){super(),this.currentSequenceNumber=e}}class Gg{constructor(e){this.persistence=e,this.ti=new Fg,this.ni=null}static ri(e){return new Gg(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),ee.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ee.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,i=>{const a=_e.fromPath(i);return this.si(e,a).next(l=>{l||t.removeEntry(a,be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ee.or([()=>ee.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class lh{constructor(e,t){this.persistence=e,this.oi=new Aa(i=>MO(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=G2(this,t)}static ri(e,t){return new lh(e,t)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(a=>i+a))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return ee.forEach(this.oi,(i,a)=>this.ar(e,i,a).next(l=>l?ee.resolve():t(a)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,l.removeEntry(c,be.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ee.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nf(e.data.value)),t}ar(e,t,i){return ee.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ee.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=a}static Yi(e,t){let i=Pe(),a=Pe();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Kg(e,t.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return eD()?8:DO(nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new rM;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,i,a){return i.documentReadCount<this.es?(vo()<=Me.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Eo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(vo()<=Me.DEBUG&&fe("QueryEngine","Query:",Eo(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ts*a?(vo()<=Me.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(t))):ee.resolve())}rs(e,t){if(KT(t))return ee.resolve(null);let i=Cr(t);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=tg(t,null,"F"),i=Cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Pe(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(m=>{const g=this.cs(t,d);return this.ls(t,g,c,m.readTime)?this.rs(e,tg(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,i,a){return KT(t)||a.isEqual(be.min())?ee.resolve(null):this.ns.getDocuments(e,i).next(l=>{const c=this.cs(t,l);return this.ls(t,c,i,a)?ee.resolve(null):(vo()<=Me.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Eo(t)),this.hs(e,c,t,RO(a,Tu)).next(d=>d))})}cs(e,t){let i=new Dt(k0(e));return t.forEach((a,l)=>{Lh(e,l)&&(i=i.add(l))}),i}ls(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,i){return vo()<=Me.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Eo(t)),this.ns.getDocumentsMatchingQuery(e,t,ps.min(),i)}hs(e,t,i,a){return this.ns.getDocumentsMatchingQuery(e,i,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g="LocalStore",sM=3e8;class aM{constructor(e,t,i,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new st(ke),this.Is=new Aa(l=>kg(l),Lg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function oM(n,e,t,i){return new aM(n,e,t,i)}async function sS(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],d=[];let m=Pe();for(const g of a){c.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}for(const g of l){d.push(g.batchId);for(const _ of g.mutations)m=m.add(_.key)}return t.localDocuments.getDocuments(i,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function lM(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,_){const T=g.batch,b=T.keys();let x=ee.resolve();return b.forEach(I=>{x=x.next(()=>_.getEntry(m,I)).next(j=>{const D=g.docVersions.get(I);$e(D!==null),j.version.compareTo(D)<0&&(T.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),_.addEntry(j)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let m=Pe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(i,a))})}function aS(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function uM(n,e){const t=Ae(n),i=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((_,T)=>{const b=a.get(T);if(!b)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let x=b.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?x=x.withResumeToken(Qt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,i)),a=a.insert(T,x),function(j,D,G){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=sM?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(b,x,_)&&d.push(t.Hr.updateTargetData(l,x))});let m=gi(),g=Pe();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(cM(l,c,e.documentUpdates).next(_=>{m=_.Vs,g=_.fs})),!i.isEqual(be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,i));d.push(_)}return ee.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=a,l))}function cM(n,e,t){let i=Pe(),a=Pe();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=gi();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(be.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):fe($g,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function fM(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Mg),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function hM(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return t.Hr.getTargetData(i,e).next(l=>l?(a=l,ee.resolve(a)):t.Hr.allocateTargetId(i).next(c=>(a=new as(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=t.Ts.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function ag(n,e,t){const i=Ae(n),a=i.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Fo(c))throw c;fe($g,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(a.target)}function sw(n,e,t){const i=Ae(n);let a=be.min(),l=Pe();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,_){const T=Ae(m),b=T.Is.get(_);return b!==void 0?ee.resolve(T.Ts.get(b)):T.Hr.getTargetData(g,_)}(i,c,Cr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?a:be.min(),t?l:Pe())).next(d=>(dM(i,ZO(e),d),{documents:d,gs:l})))}function dM(n,e,t){let i=n.Es.get(e)||be.min();t.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.Es.set(e,i)}class aw{constructor(){this.activeTargetIds=i2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mM{constructor(){this.ho=new aw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new aw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="ConnectivityMonitor";class lw{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){fe(ow,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){fe(ow,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wf=null;function og(){return wf===null?wf=function(){return 268435456+Math.round(2147483648*Math.random())}():wf++,"0x"+wf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="RestConnection",gM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yM{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${a}`,this.wo=this.databaseId.database===th?`project_id=${i}`:`project_id=${i}&database_id=${a}`}So(e,t,i,a,l){const c=og(),d=this.bo(e,t.toUriEncodedString());fe(Ap,`Sending RPC '${e}' ${c}:`,d,i);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,i).then(g=>(fe(Ap,`Received RPC '${e}' ${c}: `,g),g),g=>{throw No(Ap,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",i),g})}Co(e,t,i,a,l,c){return this.So(e,t,i,a,l)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const i=gM[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class vM extends yM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,a){const l=og();return new Promise((c,d)=>{const m=new f0;m.setWithCredentials(!0),m.listenOnce(h0.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case If.NO_ERROR:const _=m.getResponseJson();fe(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case If.TIMEOUT:fe(Zt,`RPC '${e}' ${l} timed out`),d(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case If.HTTP_ERROR:const T=m.getStatus();if(fe(Zt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let b=m.getResponseJson();Array.isArray(b)&&(b=b[0]);const x=b==null?void 0:b.error;if(x&&x.status&&x.message){const I=function(D){const G=D.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(x.status);d(new de(I,x.message))}else d(new de(te.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new de(te.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{fe(Zt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);fe(Zt,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,i,15)})}Wo(e,t,i){const a=og(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=p0(),d=m0(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const _=l.join("");fe(Zt,`Creating RPC '${e}' stream ${a}: ${_}`,m);const T=c.createWebChannel(_,m);let b=!1,x=!1;const I=new _M({Fo:D=>{x?fe(Zt,`Not sending because RPC '${e}' stream ${a} is closed:`,D):(b||(fe(Zt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),b=!0),fe(Zt,`RPC '${e}' stream ${a} sending:`,D),T.send(D))},Mo:()=>T.close()}),j=(D,G,X)=>{D.listen(G,$=>{try{X($)}catch(se){setTimeout(()=>{throw se},0)}})};return j(T,au.EventType.OPEN,()=>{x||(fe(Zt,`RPC '${e}' stream ${a} transport opened.`),I.Qo())}),j(T,au.EventType.CLOSE,()=>{x||(x=!0,fe(Zt,`RPC '${e}' stream ${a} transport closed`),I.Ko())}),j(T,au.EventType.ERROR,D=>{x||(x=!0,No(Zt,`RPC '${e}' stream ${a} transport errored:`,D),I.Ko(new de(te.UNAVAILABLE,"The operation could not be completed")))}),j(T,au.EventType.MESSAGE,D=>{var G;if(!x){const X=D.data[0];$e(!!X);const $=X,se=($==null?void 0:$.error)||((G=$[0])===null||G===void 0?void 0:G.error);if(se){fe(Zt,`RPC '${e}' stream ${a} received error:`,se);const re=se.status;let oe=function(A){const O=Et[A];if(O!==void 0)return $0(O)}(re),P=se.message;oe===void 0&&(oe=te.INTERNAL,P="Unknown error status: "+re+" with message "+se.message),x=!0,I.Ko(new de(oe,P)),T.close()}else fe(Zt,`RPC '${e}' stream ${a} received:`,X),I.Uo(X)}}),j(d,d0.STAT_EVENT,D=>{D.stat===Yp.PROXY?fe(Zt,`RPC '${e}' stream ${a} detected buffering proxy`):D.stat===Yp.NOPROXY&&fe(Zt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function Rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(n){return new b2(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-i);a>0&&fe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="PersistentStream";class lS{constructor(e,t,i,a,l,c,d,m){this.Ti=e,this.n_=i,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new oS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.i_===t&&this.V_(i,a)},i=>{e(()=>{const a=new de(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(a)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{i(()=>this.m_(a))}),this.stream.onMessage(a=>{i(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return fe(uw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(fe(uw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EM extends lS{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=R2(this.serializer,e),i=function(l){if(!("targetChange"in l))return be.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?be.min():c.readTime?xr(c.readTime):be.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=sg(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=Jp(m)?{documents:I2(l,m)}:{query:N2(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=X0(l,c.resumeToken);const g=ng(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(be.min())>0){d.readTime=oh(l,c.snapshotVersion.toTimestamp());const g=ng(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const i=O2(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.I_(t)}}class TM extends lS{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=x2(e.writeResults,e.commitTime),i=xr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=sg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>C2(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{}class bM extends wM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,rg(t,i),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(te.UNKNOWN,l.toString())})}Co(e,t,i,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,rg(t,i),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new de(te.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class SM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pi(t),this.N_=!1):fe("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class AM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{i.enqueueAndForget(async()=>{Ra(this)&&(fe(_a,"Restarting streams for network reachability change."),await async function(m){const g=Ae(m);g.W_.add(4),await zu(g),g.j_.set("Unknown"),g.W_.delete(4),await qh(g)}(this))})}),this.j_=new SM(i,a)}}async function qh(n){if(Ra(n))for(const e of n.G_)await e(!0)}async function zu(n){for(const e of n.G_)await e(!1)}function uS(n,e){const t=Ae(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Wg(t)?Xg(t):Go(t).c_()&&Yg(t,e))}function Qg(n,e){const t=Ae(n),i=Go(t);t.U_.delete(e),i.c_()&&cS(t,e),t.U_.size===0&&(i.c_()?i.P_():Ra(t)&&t.j_.set("Unknown"))}function Yg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Go(n).y_(e)}function cS(n,e){n.H_.Ne(e),Go(n).w_(e)}function Xg(n){n.H_=new v2({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Go(n).start(),n.j_.B_()}function Wg(n){return Ra(n)&&!Go(n).u_()&&n.U_.size>0}function Ra(n){return Ae(n).W_.size===0}function fS(n){n.H_=void 0}async function RM(n){n.j_.set("Online")}async function CM(n){n.U_.forEach((e,t)=>{Yg(n,e)})}async function xM(n,e){fS(n),Wg(n)?(n.j_.q_(e),Xg(n)):n.j_.set("Unknown")}async function IM(n,e,t){if(n.j_.set("Online"),e instanceof Y0&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.U_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.U_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(i){fe(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await uh(n,i)}else if(e instanceof Mf?n.H_.We(e):e instanceof Q0?n.H_.Ze(e):n.H_.je(e),!t.isEqual(be.min()))try{const i=await aS(n.localStore);t.compareTo(i)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const _=l.U_.get(g);_&&l.U_.set(g,_.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const _=l.U_.get(m);if(!_)return;l.U_.set(m,_.withResumeToken(Qt.EMPTY_BYTE_STRING,_.snapshotVersion)),cS(l,m);const T=new as(_.target,m,g,_.sequenceNumber);Yg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){fe(_a,"Failed to raise snapshot:",i),await uh(n,i)}}async function uh(n,e,t){if(!Fo(e))throw e;n.W_.add(1),await zu(n),n.j_.set("Offline"),t||(t=()=>aS(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{fe(_a,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await qh(n)})}function hS(n,e){return e().catch(t=>uh(n,t,e))}async function Hh(n){const e=Ae(n),t=vs(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:Mg;for(;NM(e);)try{const a=await fM(e.localStore,i);if(a===null){e.K_.length===0&&t.P_();break}i=a.batchId,DM(e,a)}catch(a){await uh(e,a)}dS(e)&&mS(e)}function NM(n){return Ra(n)&&n.K_.length<10}function DM(n,e){n.K_.push(e);const t=vs(n);t.c_()&&t.S_&&t.b_(e.mutations)}function dS(n){return Ra(n)&&!vs(n).u_()&&n.K_.length>0}function mS(n){vs(n).start()}async function OM(n){vs(n).C_()}async function MM(n){const e=vs(n);for(const t of n.K_)e.b_(t.mutations)}async function PM(n,e,t){const i=n.K_.shift(),a=Bg.from(i,e,t);await hS(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Hh(n)}async function VM(n,e){e&&vs(n).S_&&await async function(i,a){if(function(c){return g2(c)&&c!==te.ABORTED}(a.code)){const l=i.K_.shift();vs(i).h_(),await hS(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Hh(i)}}(n,e),dS(n)&&mS(n)}async function cw(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),fe(_a,"RemoteStore received new credentials");const i=Ra(t);t.W_.add(3),await zu(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await qh(t)}async function kM(n,e){const t=Ae(n);e?(t.W_.delete(2),await qh(t)):e||(t.W_.add(2),await zu(t),t.j_.set("Unknown"))}function Go(n){return n.J_||(n.J_=function(t,i,a){const l=Ae(t);return l.M_(),new EM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:RM.bind(null,n),No:CM.bind(null,n),Lo:xM.bind(null,n),p_:IM.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Wg(n)?Xg(n):n.j_.set("Unknown")):(await n.J_.stop(),fS(n))})),n.J_}function vs(n){return n.Y_||(n.Y_=function(t,i,a){const l=Ae(t);return l.M_(),new TM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:OM.bind(null,n),Lo:VM.bind(null,n),D_:MM.bind(null,n),v_:PM.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Hh(n)):(await n.Y_.stop(),n.K_.length>0&&(fe(_a,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new Zg(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jg(n,e){if(pi("AsyncQueue",`${e}: ${n}`),Fo(n))return new de(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{static emptySet(e){return new bo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=ou(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new bo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.Z_=new st(_e.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Vo{constructor(e,t,i,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Vo(e,t,bo.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UM{constructor(){this.queries=hw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const a=Ae(t),l=a.queries;a.queries=hw(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(i)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function hw(){return new Aa(n=>V0(n),kh)}async function pS(n,e){const t=Ae(n);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(i=2):(l=new LM,i=e.ra()?0:1);try{switch(i){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Jg(c,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&ey(t)}async function gS(n,e){const t=Ae(n),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function jM(n,e){const t=Ae(n);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(i=!0);c.ea=a}}i&&ey(t)}function zM(n,e,t){const i=Ae(n),a=i.queries.get(e);if(a)for(const l of a.ta)l.onError(t);i.queries.delete(e)}function ey(n){n.ia.forEach(e=>{e.next()})}var lg,dw;(dw=lg||(lg={}))._a="default",dw.Cache="cache";class yS{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new Vo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e){this.key=e}}class vS{constructor(e){this.key=e}}class BM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=k0(e),this.wa=new bo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new fw,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const b=a.get(_),x=Lh(this.query,T)?T:null,I=!!b&&this.mutatedKeys.has(b.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let D=!1;b&&x?b.data.isEqual(x.data)?I!==j&&(i.track({type:3,doc:x}),D=!0):this.va(b,x)||(i.track({type:2,doc:x}),D=!0,(m&&this.ya(x,m)>0||g&&this.ya(x,g)<0)&&(d=!0)):!b&&x?(i.track({type:0,doc:x}),D=!0):b&&!x&&(i.track({type:1,doc:b}),D=!0,(m||g)&&(d=!0)),D&&(x?(c=c.add(x),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,T)=>function(x,I){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return j(x)-j(I)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),a=a!=null&&a;const d=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new Vo(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new fw,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new vS(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new _S(i))}),t}Oa(e){this.fa=e.gs,this.pa=Pe();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ty="SyncEngine";class qM{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class HM{constructor(e){this.key=e,this.Ba=!1}}class FM{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Aa(d=>V0(d),kh),this.qa=new Map,this.Qa=new Set,this.$a=new st(_e.comparator),this.Ka=new Map,this.Ua=new Fg,this.Wa={},this.Ga=new Map,this.za=Po.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GM(n,e,t=!0){const i=AS(n);let a;const l=i.ka.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await ES(i,e,t,!0),a}async function KM(n,e){const t=AS(n);await ES(t,e,!0,!1)}async function ES(n,e,t,i){const a=await hM(n.localStore,Cr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await $M(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&uS(n.remoteStore,a),d}async function $M(n,e,t,i,a){n.Ha=(T,b,x)=>async function(j,D,G,X){let $=D.view.ba(G);$.ls&&($=await sw(j.localStore,D.query,!1).then(({documents:P})=>D.view.ba(P,$)));const se=X&&X.targetChanges.get(D.targetId),re=X&&X.targetMismatches.get(D.targetId)!=null,oe=D.view.applyChanges($,j.isPrimaryClient,se,re);return pw(j,D.targetId,oe.Ma),oe.snapshot}(n,T,b,x);const l=await sw(n.localStore,e,!0),c=new BM(e,l.gs),d=c.ba(l.documents),m=ju.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,m);pw(n,t,g.Ma);const _=new qM(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function QM(n,e,t){const i=Ae(n),a=i.ka.get(e),l=i.qa.get(a.targetId);if(l.length>1)return i.qa.set(a.targetId,l.filter(c=>!kh(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await ag(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Qg(i.remoteStore,a.targetId),ug(i,a.targetId)}).catch(Ho)):(ug(i,a.targetId),await ag(i.localStore,a.targetId,!0))}async function YM(n,e){const t=Ae(n),i=t.ka.get(e),a=t.qa.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Qg(t.remoteStore,i.targetId))}async function XM(n,e,t){const i=rP(n);try{const a=await function(c,d){const m=Ae(c),g=Nt.now(),_=d.reduce((x,I)=>x.add(I.key),Pe());let T,b;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let I=gi(),j=Pe();return m.ds.getEntries(x,_).next(D=>{I=D,I.forEach((G,X)=>{X.isValidDocument()||(j=j.add(G))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,I)).next(D=>{T=D;const G=[];for(const X of d){const $=f2(X,T.get(X.key).overlayedDocument);$!=null&&G.push(new ws(X.key,$,C0($.value.mapValue),nr.exists(!0)))}return m.mutationQueue.addMutationBatch(x,g,G,d)}).next(D=>{b=D;const G=D.applyToLocalDocumentSet(T,j);return m.documentOverlayCache.saveOverlays(x,D.batchId,G)})}).then(()=>({batchId:b.batchId,changes:U0(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new st(ke)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(i,a.batchId,t),await Bu(i,a.changes),await Hh(i.remoteStore)}catch(a){const l=Jg(a,"Failed to persist write");t.reject(l)}}async function TS(n,e){const t=Ae(n);try{const i=await uM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ka.get(l);c&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?$e(c.Ba):a.removedDocuments.size>0&&($e(c.Ba),c.Ba=!1))}),await Bu(t,i,e)}catch(i){await Ho(i)}}function mw(n,e,t){const i=Ae(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ae(c);m.onlineState=d;let g=!1;m.queries.forEach((_,T)=>{for(const b of T.ta)b.sa(d)&&(g=!0)}),g&&ey(m)}(i.eventManager,e),a.length&&i.La.p_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function WM(n,e,t){const i=Ae(n);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Ka.get(e),l=a&&a.key;if(l){let c=new st(_e.comparator);c=c.insert(l,en.newNoDocument(l,be.min()));const d=Pe().add(l),m=new zh(be.min(),new Map,new st(ke),c,d);await TS(i,m),i.$a=i.$a.remove(l),i.Ka.delete(e),ny(i)}else await ag(i.localStore,e,!1).then(()=>ug(i,e,t)).catch(Ho)}async function ZM(n,e){const t=Ae(n),i=e.batch.batchId;try{const a=await lM(t.localStore,e);bS(t,i,null),wS(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Bu(t,a)}catch(a){await Ho(a)}}async function JM(n,e,t){const i=Ae(n);try{const a=await function(c,d){const m=Ae(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>($e(T!==null),_=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,_,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>m.localDocuments.getDocuments(g,_))})}(i.localStore,e);bS(i,e,t),wS(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Bu(i,a)}catch(a){await Ho(a)}}function wS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function bS(n,e,t){const i=Ae(n);let a=i.Wa[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.Wa[i.currentUser.toKey()]=a}}function ug(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||SS(n,i)})}function SS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Qg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),ny(n))}function pw(n,e,t){for(const i of t)i instanceof _S?(n.Ua.addReference(i.key,e),eP(n,i)):i instanceof vS?(fe(ty,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||SS(n,i.key)):we()}function eP(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(fe(ty,"New document in limbo: "+t),n.Qa.add(i),ny(n))}function ny(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new _e(et.fromString(e)),i=n.za.next();n.Ka.set(i,new HM(t)),n.$a=n.$a.insert(t,i),uS(n.remoteStore,new as(Cr(Ug(t.path)),i,"TargetPurposeLimboResolution",Mh.ae))}}async function Bu(n,e,t){const i=Ae(n),a=[],l=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,m)=>{c.push(i.Ha(m,e,t).then(g=>{var _;if((g||t)&&i.isPrimaryClient){const T=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(m.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Kg.Yi(m.targetId,g);l.push(T)}}))}),await Promise.all(c),i.La.p_(a),await async function(m,g){const _=Ae(m);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ee.forEach(g,b=>ee.forEach(b.Hi,x=>_.persistence.referenceDelegate.addReference(T,b.targetId,x)).next(()=>ee.forEach(b.Ji,x=>_.persistence.referenceDelegate.removeReference(T,b.targetId,x)))))}catch(T){if(!Fo(T))throw T;fe($g,"Failed to update sequence numbers: "+T)}for(const T of g){const b=T.targetId;if(!T.fromCache){const x=_.Ts.get(b),I=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(I);_.Ts=_.Ts.insert(b,j)}}}(i.localStore,l))}async function tP(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){fe(ty,"User change. New user:",e.toKey());const i=await sS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new de(te.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bu(t,i.Rs)}}function nP(n,e){const t=Ae(n),i=t.Ka.get(e);if(i&&i.Ba)return Pe().add(i.key);{let a=Pe();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function AS(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=TS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WM.bind(null,e),e.La.p_=jM.bind(null,e.eventManager),e.La.Ja=zM.bind(null,e.eventManager),e}function rP(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JM.bind(null,e),e}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return oM(this.persistence,new iM,e.initialUser,this.serializer)}Xa(e){return new iS(Gg.ri,this.serializer)}Za(e){return new mM}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class iP extends ch{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof lh);const i=this.persistence.referenceDelegate.garbageCollector;return new H2(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new iS(i=>lh.ri(i,t),this.serializer)}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=tP.bind(null,this.syncEngine),await kM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UM}()}createDatastore(e){const t=Bh(e.databaseInfo.databaseId),i=function(l){return new vM(l)}(e.databaseInfo);return function(l,c,d,m){return new bM(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,a,l,c,d){return new AM(i,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>mw(this.syncEngine,t,0),function(){return lw.D()?new lw:new pM}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,_){const T=new FM(a,l,c,d,m,g);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ae(a);fe(_a,"RemoteStore shutting down."),l.W_.add(5),await zu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="FirestoreClient";class sP{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=a,this.user=Jt.UNAUTHENTICATED,this.clientId=y0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{fe(Es,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(fe(Es,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Jg(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(n,e){n.asyncQueue.verifyOperationInProgress(),fe(Es,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async a=>{i.isEqual(a)||(await sS(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function gw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await aP(n);fe(Es,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>cw(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>cw(e.remoteStore,a)),n._onlineComponents=e}async function aP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){fe(Es,"Using user provided OfflineComponentProvider");try{await Cp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===te.FAILED_PRECONDITION||a.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;No("Error using user provided cache. Falling back to memory cache: "+t),await Cp(n,new ch)}}else fe(Es,"Using default OfflineComponentProvider"),await Cp(n,new iP(void 0));return n._offlineComponents}async function CS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(fe(Es,"Using user provided OnlineComponentProvider"),await gw(n,n._uninitializedComponentsProvider._online)):(fe(Es,"Using default OnlineComponentProvider"),await gw(n,new cg))),n._onlineComponents}function oP(n){return CS(n).then(e=>e.syncEngine)}async function fg(n){const e=await CS(n),t=e.eventManager;return t.onListen=GM.bind(null,e.syncEngine),t.onUnlisten=QM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=KM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=YM.bind(null,e.syncEngine),t}function lP(n,e,t={}){const i=new fs;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const _=new RS({next:b=>{_.su(),c.enqueueAndForget(()=>gS(l,T)),b.fromCache&&m.source==="server"?g.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),T=new yS(d,_,{includeMetadataChanges:!0,Ta:!0});return pS(l,T)}(await fg(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(n,e,t){if(!t)throw new de(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uP(n,e,t,i){if(e===!0&&i===!0)throw new de(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _w(n){if(!_e.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vw(n){if(_e.isDocumentKey(n))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Fh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":we()}function Ir(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fh(n);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS="firestore.googleapis.com",Ew=!0;class Tw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NS,this.ssl=Ew}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Ew;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B2)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xS((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new _O;switch(i.type){case"firstParty":return new wO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=yw.get(t);i&&(fe("ComponentProvider","Removing Datastore"),yw.delete(t),i.terminate())}(this),Promise.resolve()}}function cP(n,e,t,i={}){var a;const l=(n=Ir(n,Gh))._getSettings(),c=`${e}:${t}`;if(l.host!==NS&&l.host!==c&&No("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let d,m;if(typeof i.mockUserToken=="string")d=i.mockUserToken,m=Jt.MOCK_USER;else{d=$N(i.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jt(g)}n._authCredentials=new vO(new g0(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class yn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class hs extends Ca{constructor(e,t,i){super(e,t,Ug(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new _e(e))}withConverter(e){return new hs(this.firestore,e,this._path)}}function fh(n,e,...t){if(n=Ot(n),IS("collection","path",e),n instanceof Gh){const i=et.fromString(e,...t);return vw(i),new hs(n,null,i)}{if(!(n instanceof yn||n instanceof hs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return vw(i),new hs(n.firestore,null,i)}}function Kh(n,e,...t){if(n=Ot(n),arguments.length===1&&(e=y0.newId()),IS("doc","path",e),n instanceof Gh){const i=et.fromString(e,...t);return _w(i),new yn(n,null,new _e(i))}{if(!(n instanceof yn||n instanceof hs))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return _w(i),new yn(n.firestore,n instanceof hs?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="AsyncQueue";class bw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new oS(this,"async_queue_retry"),this.Su=()=>{const i=Rp();i&&fe(ww,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=Rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Fo(e))throw e;fe(ww,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw pi("INTERNAL UNHANDLED ERROR: ",a),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=Zg.createAndSchedule(this,e,t,i,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Sw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class va extends Gh{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new bw,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bw(e),this._firestoreClient=void 0,await e}}}function fP(n,e){const t=typeof n=="object"?n:o0(),i=typeof n=="string"?n:th,a=Dg(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=GN("firestore");l&&cP(a,...l)}return a}function ry(n){if(n._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||hP(n),n._firestoreClient}function hP(n){var e,t,i;const a=n._freezeSettings(),l=function(d,m,g,_){return new kO(d,m,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,xS(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new sP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ko(Qt.fromBase64String(e))}catch(t){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ko(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP=/^__.*__$/;class mP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,t,this.fieldTransforms):new Uu(e,this.data,t,this.fieldTransforms)}}class DS{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ws(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class oy{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new oy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.$u(e),a}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:i,Qu:!1});return a.Bu(),a}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return hh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OS(this.Lu)&&dP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class pP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Bh(e)}ju(e,t,i,a=!1){return new oy({Lu:e,methodName:t,zu:i,path:$t.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ly(n){const e=n._freezeSettings(),t=Bh(n._databaseId);return new pP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gP(n,e,t,i,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);uy("Data must be an object, but it was:",c,i);const d=MS(i,c);let m,g;if(l.merge)m=new Cn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const b=hg(e,T,t);if(!c.contains(b))throw new de(te.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);VS(_,b)||_.push(b)}m=new Cn(_),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new mP(new pn(d),m,g)}class Qh extends iy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function yP(n,e,t,i){const a=n.ju(1,e,t);uy("Data must be an object, but it was:",a,i);const l=[],c=pn.empty();Ts(i,(m,g)=>{const _=cy(e,m,t);g=Ot(g);const T=a.Ku(_);if(g instanceof Qh)l.push(_);else{const b=qu(g,T);b!=null&&(l.push(_),c.set(_,b))}});const d=new Cn(l);return new DS(c,d,a.fieldTransforms)}function _P(n,e,t,i,a,l){const c=n.ju(1,e,t),d=[hg(e,i,t)],m=[a];if(l.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)d.push(hg(e,l[b])),m.push(l[b+1]);const g=[],_=pn.empty();for(let b=d.length-1;b>=0;--b)if(!VS(g,d[b])){const x=d[b];let I=m[b];I=Ot(I);const j=c.Ku(x);if(I instanceof Qh)g.push(x);else{const D=qu(I,j);D!=null&&(g.push(x),_.set(x,D))}}const T=new Cn(g);return new DS(_,T,c.fieldTransforms)}function vP(n,e,t,i=!1){return qu(t,n.ju(i?4:3,e))}function qu(n,e){if(PS(n=Ot(n)))return uy("Unsupported field value:",e,n),MS(n,e);if(n instanceof iy)return function(i,a){if(!OS(a.Lu))throw a.Wu(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,a){const l=[];let c=0;for(const d of i){let m=qu(d,a.Uu(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,a){if((i=Ot(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return s2(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Nt.fromDate(i);return{timestampValue:oh(a.serializer,l)}}if(i instanceof Nt){const l=new Nt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:oh(a.serializer,l)}}if(i instanceof sy)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ko)return{bytesValue:X0(a.serializer,i._byteString)};if(i instanceof yn){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Hg(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ay)return function(c,d){return{mapValue:{fields:{[A0]:{stringValue:R0},[nh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return jg(d.serializer,g)})}}}}}}(i,a);throw a.Wu(`Unsupported field value: ${Fh(i)}`)}(n,e)}function MS(n,e){const t={};return v0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ts(n,(i,a)=>{const l=qu(a,e.qu(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function PS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Nt||n instanceof sy||n instanceof ko||n instanceof yn||n instanceof iy||n instanceof ay)}function uy(n,e,t){if(!PS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const i=Fh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function hg(n,e,t){if((e=Ot(e))instanceof $h)return e._internalPath;if(typeof e=="string")return cy(n,e);throw hh("Field path arguments must be of type string or ",n,!1,void 0,t)}const EP=new RegExp("[~\\*/\\[\\]]");function cy(n,e,t){if(e.search(EP)>=0)throw hh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $h(...e.split("."))._internalPath}catch{throw hh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hh(n,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${i}`),c&&(m+=` in document ${a}`),m+=")"),new de(te.INVALID_ARGUMENT,d+n+m)}function VS(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class TP extends kS{data(){return super.data()}}function fy(n,e){return typeof e=="string"?cy(n,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hy{}class wP extends hy{}function US(n,e,...t){let i=[];e instanceof hy&&i.push(e),i=i.concat(t),function(l){const c=l.filter(m=>m instanceof dy).length,d=l.filter(m=>m instanceof Yh).length;if(c>1||c>0&&d>0)throw new de(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)n=a._apply(n);return n}class Yh extends wP{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Yh(e,t,i)}_apply(e){const t=this._parse(e);return jS(e._query,t),new Ca(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=ly(e.firestore);return function(l,c,d,m,g,_,T){let b;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Rw(T,_);const I=[];for(const j of T)I.push(Aw(m,l,j));b={arrayValue:{values:I}}}else b=Aw(m,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Rw(T,_),b=vP(d,c,T,_==="in"||_==="not-in");return Tt.create(g,_,b)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function dh(n,e,t){const i=e,a=fy("where",n);return Yh._create(a,i,t)}class dy extends hy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new dy(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:ir.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)jS(c,m),c=eg(c,m)}(e._query,t),new Ca(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Aw(n,e,t){if(typeof(t=Ot(t))=="string"){if(t==="")throw new de(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P0(e)&&t.indexOf("/")!==-1)throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!_e.isDocumentKey(i))throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return zT(n,new _e(i))}if(t instanceof yn)return zT(n,t._key);throw new de(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(t)}.`)}function Rw(n,e){if(!Array.isArray(n)||n.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jS(n,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class bP{convertValue(e,t="none"){switch(_s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ts(e,(a,l)=>{i[a]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,a;const l=(a=(i=(t=e.fields)===null||t===void 0?void 0:t[nh].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(c=>dt(c.doubleValue));return new ay(l)}convertGeoPoint(e){return new sy(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Vh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(wu(e));default:return null}}convertTimestamp(e){const t=gs(e);return new Nt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);$e(nS(i));const a=new bu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return a.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zS extends kS{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(fy("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Pf extends zS{data(e={}){return super.data(e)}}class BS{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new uu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Pf(this._firestore,this._userDataWriter,i.key,i,new uu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Pf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new uu(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,_=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:AP(d.type),doc:m,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class my extends bP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,t)}}function qS(n){n=Ir(n,Ca);const e=Ir(n.firestore,va),t=ry(e),i=new my(e);return LS(n._query),lP(t,n._query).then(a=>new BS(e,i,n,a))}function HS(n,e,t,...i){n=Ir(n,yn);const a=Ir(n.firestore,va),l=ly(a);let c;return c=typeof(e=Ot(e))=="string"||e instanceof $h?_P(l,"updateDoc",n._key,e,t,i):yP(l,"updateDoc",n._key,e),py(a,[c.toMutation(n._key,nr.exists(!0))])}function FS(n){return py(Ir(n.firestore,va),[new zg(n._key,nr.none())])}function GS(n,e){const t=Ir(n.firestore,va),i=Kh(n),a=SP(n.converter,e);return py(t,[gP(ly(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,nr.exists(!1))]).then(()=>i)}function RP(n,...e){var t,i,a;n=Ot(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Sw(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Sw(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let m,g,_;if(n instanceof yn)g=Ir(n.firestore,va),_=Ug(n._key.path),m={next:T=>{e[c]&&e[c](CP(g,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Ir(n,Ca);g=Ir(T.firestore,va),_=T._query;const b=new my(g);m={next:x=>{e[c]&&e[c](new BS(g,b,T,x))},error:e[c+1],complete:e[c+2]},LS(n._query)}return function(b,x,I,j){const D=new RS(j),G=new yS(x,D,I);return b.asyncQueue.enqueueAndForget(async()=>pS(await fg(b),G)),()=>{D.su(),b.asyncQueue.enqueueAndForget(async()=>gS(await fg(b),G))}}(ry(g),_,d,m)}function py(n,e){return function(i,a){const l=new fs;return i.asyncQueue.enqueueAndForget(async()=>XM(await oP(i),a,l)),l.promise}(ry(n),e)}function CP(n,e,t){const i=t.docs.get(e._key),a=new my(n);return new zS(n,a,e._key,i,new uu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){qo=a})(Bo),Io(new ga("firestore",(i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new va(new EO(i.getProvider("auth-internal")),new bO(c,i.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(g.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),us(IT,NT,e),us(IT,NT,"esm2017")})();var xP="firebase",IP="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(xP,IP,"app");function gy(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(t[i[a]]=n[i[a]]);return t}function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NP=KS,$S=new Vu("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Ig("@firebase/auth");function DP(n,...e){mh.logLevel<=Me.WARN&&mh.warn(`Auth (${Bo}): ${n}`,...e)}function Vf(n,...e){mh.logLevel<=Me.ERROR&&mh.error(`Auth (${Bo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(n,...e){throw _y(n,...e)}function rr(n,...e){return _y(n,...e)}function yy(n,e,t){const i=Object.assign(Object.assign({},NP()),{[e]:t});return new Vu("auth","Firebase",i).create(e,{appName:n.name})}function hi(n){return yy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OP(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Qn(n,"argument-error"),yy(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _y(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return $S.create(n,...e)}function Te(n,e,...t){if(!n)throw _y(e,...t)}function oi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vf(e),new Error(e)}function yi(n,e){n||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function MP(){return Cw()==="http:"||Cw()==="https:"}function Cw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(MP()||WN()||"connection"in navigator)?navigator.onLine:!0}function VP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=QN()||ZN()}get(){return PP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(n,e){yi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=new Hu(3e4,6e4);function bs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ss(n,e,t,i,a={}){return YS(n,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=ku(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:m},l);return XN()||(g.referrerPolicy="no-referrer"),QS.fetch()(XS(n,n.config.apiHost,t,d),g)})}async function YS(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},kP),e);try{const a=new jP(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw bf(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw bf(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw bf(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw bf(n,"user-disabled",c);const _=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw yy(n,_,g);Qn(n,_)}}catch(a){if(a instanceof _i)throw a;Qn(n,"network-request-failed",{message:String(a)})}}async function Fu(n,e,t,i,a={}){const l=await Ss(n,e,t,i,a);return"mfaPendingCredential"in l&&Qn(n,"multi-factor-auth-required",{_serverResponse:l}),l}function XS(n,e,t,i){const a=`${e}${t}?${i}`;return n.config.emulator?vy(n.config,a):`${n.config.apiScheme}://${a}`}function UP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(rr(this.auth,"network-request-failed")),LP.get())})}}function bf(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=rr(n,e,i);return a.customData._tokenResponse=t,a}function xw(n){return n!==void 0&&n.enterprise!==void 0}class zP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return UP(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function BP(n,e){return Ss(n,"GET","/v2/recaptchaConfig",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(n,e){return Ss(n,"POST","/v1/accounts:delete",e)}async function WS(n,e){return Ss(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HP(n,e=!1){const t=Ot(n),i=await t.getIdToken(e),a=Ey(i);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:pu(xp(a.auth_time)),issuedAtTime:pu(xp(a.iat)),expirationTime:pu(xp(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xp(n){return Number(n)*1e3}function Ey(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=e0(t);return a?JSON.parse(a):(Vf("Failed to decode base64 JWT payload"),null)}catch(a){return Vf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Iw(n){const e=Ey(n);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof _i&&FP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function FP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(n){var e;const t=n.auth,i=await n.getIdToken(),a=await Cu(n,WS(t,{idToken:i}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ZS(l.providerUserInfo):[],d=$P(n.providerData,c),m=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),_=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new mg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function KP(n){const e=Ot(n);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $P(n,e){return[...n.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function ZS(n){return n.map(e=>{var{providerId:t}=e,i=gy(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QP(n,e){const t=await YS(n,{},async()=>{const i=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=XS(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",QS.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function YP(n,e){return Ss(n,"POST","/v2/accounts:revokeToken",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=Iw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await QP(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new So;return i&&(Te(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new So,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(n,e){Te(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:i,stsTokenManager:a}=e,l=gy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new mg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return HP(this,e)}reload(){return KP(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await ph(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rn(this.auth.app))return Promise.reject(hi(this.auth));const e=await this.getIdToken();return await Cu(this,qP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,a,l,c,d,m,g,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,b=(a=t.email)!==null&&a!==void 0?a:void 0,x=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,D=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:$,emailVerified:se,isAnonymous:re,providerData:oe,stsTokenManager:P}=t;Te($&&P,e,"internal-error");const R=So.fromJSON(this.name,P);Te(typeof $=="string",e,"internal-error"),ns(T,e.name),ns(b,e.name),Te(typeof se=="boolean",e,"internal-error"),Te(typeof re=="boolean",e,"internal-error"),ns(x,e.name),ns(I,e.name),ns(j,e.name),ns(D,e.name),ns(G,e.name),ns(X,e.name);const A=new li({uid:$,auth:e,email:b,emailVerified:se,displayName:T,isAnonymous:re,photoURL:I,phoneNumber:x,tenantId:j,stsTokenManager:R,createdAt:G,lastLoginAt:X});return oe&&Array.isArray(oe)&&(A.providerData=oe.map(O=>Object.assign({},O))),D&&(A._redirectEventId=D),A}static async _fromIdTokenResponse(e,t,i=!1){const a=new So;a.updateFromServerResponse(t);const l=new li({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await ph(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?ZS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new So;d.updateFromIdToken(i);const m=new li({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new mg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw=new Map;function ui(n){yi(n instanceof Function,"Expected a class definition");let e=Nw.get(n);return e?(yi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JS.type="NONE";const Dw=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(n,e,t){return`firebase:${n}:${e}:${t}`}class Ao{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=kf(this.userKey,a.apiKey,l),this.fullPersistenceKey=kf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?li._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Ao(ui(Dw),e,i);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||ui(Dw);const c=kf(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const _=await g._get(c);if(_){const T=li._fromJSON(e,_);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ao(l,e,i):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Ao(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(aA(e))return"Webos";if(tA(e))return"Safari";if((e.includes("chrome/")||nA(e))&&!e.includes("edge/"))return"Chrome";if(iA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function eA(n=nn()){return/firefox\//i.test(n)}function tA(n=nn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nA(n=nn()){return/crios\//i.test(n)}function rA(n=nn()){return/iemobile/i.test(n)}function iA(n=nn()){return/android/i.test(n)}function sA(n=nn()){return/blackberry/i.test(n)}function aA(n=nn()){return/webos/i.test(n)}function Ty(n=nn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function XP(n=nn()){var e;return Ty(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WP(){return JN()&&document.documentMode===10}function oA(n=nn()){return Ty(n)||iA(n)||aA(n)||sA(n)||/windows phone/i.test(n)||rA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(n,e=[]){let t;switch(n){case"Browser":t=Ow(nn());break;case"Worker":t=`${Ow(nn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Bo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP(n,e={}){return Ss(n,"GET","/v2/passwordPolicy",bs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=6;class tV{constructor(e){var t,i,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:eV,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new ZP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ui(t)),this._initializationPromise=this.queue(async()=>{var i,a;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await WS(this,{idToken:e}),i=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Rn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rn(this.app))return Promise.reject(hi(this));const t=e?Ot(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rn(this.app)?Promise.reject(hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rn(this.app)?Promise.reject(hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JP(this),t=new tV(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Vu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await YP(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ui(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[ui(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,i,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Rn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&DP(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function As(n){return Ot(n)}class Mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rV(n){Xh=n}function uA(n){return Xh.loadJS(n)}function iV(){return Xh.recaptchaEnterpriseScript}function sV(){return Xh.gapiScript}function aV(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class oV{constructor(){this.enterprise=new lV}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class lV{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const uV="recaptcha-enterprise",cA="NO_RECAPTCHA";class cV{constructor(e){this.type=uV,this.auth=As(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{BP(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new zP(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;xw(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(cA)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new oV().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&xw(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=iV();m.length!==0&&(m+=d),uA(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function Pw(n,e,t,i=!1,a=!1){const l=new cV(n);let c;if(a)c=cA;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function pg(n,e,t,i,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Pw(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Pw(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(n,e){const t=Dg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Zf(l,e??{}))return a;Qn(a,"already-initialized")}return t.initialize({options:e})}function hV(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ui);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function dV(n,e,t){const i=As(n);Te(i._canInitEmulator,i,"emulator-config-failed"),Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=fA(e),{host:c,port:d}=mV(e),m=d===null?"":`:${d}`;i.config.emulator={url:`${l}//${c}${m}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),pV()}function fA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function mV(n){const e=fA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Vw(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Vw(c)}}}function Vw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function pV(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,t){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function gV(n,e){return Ss(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yV(n,e){return Fu(n,"POST","/v1/accounts:signInWithPassword",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(n,e){return Fu(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}async function vV(n,e){return Fu(n,"POST","/v1/accounts:signInWithEmailLink",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends wy{constructor(e,t,i,a=null){super("password",i),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new xu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new xu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,t,"signInWithPassword",yV);case"emailLink":return _V(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pg(e,i,"signUpPassword",gV);case"emailLink":return vV(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(n,e){return Fu(n,"POST","/v1/accounts:signInWithIdp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV="http://localhost";class Ea extends wy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=t,l=gy(t,["providerId","signInMethod"]);if(!i||!a)return null;const c=new Ea(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ro(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Ro(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ro(e,t)}buildRequest(){const e={requestUri:EV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function wV(n){const e=iu(su(n)).link,t=e?iu(su(e)).deep_link_id:null,i=iu(su(n)).deep_link_id;return(i?iu(su(i)).link:null)||i||t||e||n}class by{constructor(e){var t,i,a,l,c,d;const m=iu(su(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,_=(i=m.oobCode)!==null&&i!==void 0?i:null,T=TV((a=m.mode)!==null&&a!==void 0?a:null);Te(g&&_&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=_,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=wV(e);try{return new by(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(){this.providerId=Ko.PROVIDER_ID}static credential(e,t){return xu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=by.parseLink(t);return Te(i,"argument-error"),xu._fromEmailAndCode(e,i.code,i.tenantId)}}Ko.PROVIDER_ID="password";Ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Gu{constructor(){super("facebook.com")}static credential(e){return Ea._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";rs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Gu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ea._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Rr.credential(t,i)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Gu{constructor(){super("github.com")}static credential(e){return Ea._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Gu{constructor(){super("twitter.com")}static credential(e,t){return Ea._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ss.credential(t,i)}catch{return null}}}ss.TWITTER_SIGN_IN_METHOD="twitter.com";ss.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(n,e){return Fu(n,"POST","/v1/accounts:signUp",bs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await li._fromIdTokenResponse(e,i,a),c=kw(i);return new Ta({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=kw(i);return new Ta({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function kw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends _i{constructor(e,t,i,a){var l;super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new gh(e,t,i,a)}}function hA(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(n,l,e,i):l})}async function SV(n,e,t=!1){const i=await Cu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ta._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AV(n,e,t=!1){const{auth:i}=n;if(Rn(i.app))return Promise.reject(hi(i));const a="reauthenticate";try{const l=await Cu(n,hA(i,a,e,n),t);Te(l.idToken,i,"internal-error");const c=Ey(l.idToken);Te(c,i,"internal-error");const{sub:d}=c;return Te(n.uid===d,i,"user-mismatch"),Ta._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Qn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dA(n,e,t=!1){if(Rn(n.app))return Promise.reject(hi(n));const i="signIn",a=await hA(n,i,e),l=await Ta._fromIdTokenResponse(n,i,a);return t||await n._updateCurrentUser(l.user),l}async function RV(n,e){return dA(As(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(n){const e=As(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CV(n,e,t){if(Rn(n.app))return Promise.reject(hi(n));const i=As(n),c=await pg(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bV).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&mA(n),m}),d=await Ta._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function xV(n,e,t){return Rn(n.app)?Promise.reject(hi(n)):RV(Ot(n),Ko.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&mA(n),i})}function IV(n,e,t,i){return Ot(n).onIdTokenChanged(e,t,i)}function NV(n,e,t){return Ot(n).beforeAuthStateChanged(e,t)}function DV(n,e,t,i){return Ot(n).onAuthStateChanged(e,t,i)}function OV(n){return Ot(n).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1e3,PV=10;class gA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);WP()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,PV):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},MV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}gA.type="LOCAL";const VV=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}yA.type="SESSION";const _A=yA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new Wh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await kV(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Ay("",20);a.port1.start();const _=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const b=T;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(b.data.response);break;default:clearTimeout(_),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return window}function UV(n){Nr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(){return typeof Nr().WorkerGlobalScope<"u"&&typeof Nr().importScripts=="function"}async function jV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zV(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function BV(){return vA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="firebaseLocalStorageDb",qV=1,_h="firebaseLocalStorage",TA="fbase_key";class Ku{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zh(n,e){return n.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function HV(){const n=indexedDB.deleteDatabase(EA);return new Ku(n).toPromise()}function gg(){const n=indexedDB.open(EA,qV);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(_h,{keyPath:TA})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(_h)?e(i):(i.close(),await HV(),e(await gg()))})})}async function Lw(n,e,t){const i=Zh(n,!0).put({[TA]:e,value:t});return new Ku(i).toPromise()}async function FV(n,e){const t=Zh(n,!1).get(e),i=await new Ku(t).toPromise();return i===void 0?null:i.value}function Uw(n,e){const t=Zh(n,!0).delete(e);return new Ku(t).toPromise()}const GV=800,KV=3;class wA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>KV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(BV()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await jV(),!this.activeServiceWorker)return;this.sender=new LV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gg();return await Lw(e,yh,"1"),await Uw(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lw(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>FV(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Uw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Zh(a,!1).getAll();return new Ku(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}wA.type="LOCAL";const $V=wA;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(n,e){return e?ui(e):(Te(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry extends wy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ro(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ro(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QV(n){return dA(n.auth,new Ry(n),n.bypassAuthState)}function YV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),AV(t,new Ry(n),n.bypassAuthState)}async function XV(n){const{auth:e,user:t}=n;return Te(t,e,"internal-error"),SV(t,new Ry(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QV;case"linkViaPopup":case"linkViaRedirect":return XV;case"reauthViaPopup":case"reauthViaRedirect":return YV;default:Qn(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=new Hu(2e3,1e4);async function ZV(n,e,t){if(Rn(n.app))return Promise.reject(rr(n,"operation-not-supported-in-this-environment"));const i=As(n);OP(n,e,Sy);const a=bA(i,t);return new ua(i,"signInViaPopup",e,a).executeNotNull()}class ua extends SA{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,ua.currentPopupAction&&ua.currentPopupAction.cancel(),ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WV.get())};e()}}ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV="pendingRedirect",Lf=new Map;class ek extends SA{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const i=await tk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tk(n,e){const t=ik(e),i=rk(n);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function nk(n,e){Lf.set(n._key(),e)}function rk(n){return ui(n._redirectPersistence)}function ik(n){return kf(JV,n.config.apiKey,n.name)}async function sk(n,e,t=!1){if(Rn(n.app))return Promise.reject(hi(n));const i=As(n),a=bA(i,e),c=await new ek(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=10*60*1e3;class ok{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!AA(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(rr(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ak&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function AA({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(n,e={}){return Ss(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fk=/^https?/;async function hk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await uk(n);for(const t of e)try{if(dk(t))return}catch{}Qn(n,"unauthorized-domain")}function dk(n){const e=dg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!fk.test(t))return!1;if(ck.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Hu(3e4,6e4);function zw(){const n=Nr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pk(n){return new Promise((e,t)=>{var i,a,l;function c(){zw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zw(),t(rr(n,"network-request-failed"))},timeout:mk.get()})}if(!((a=(i=Nr().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Nr().gapi)===null||l===void 0)&&l.load)c();else{const d=aV("iframefcb");return Nr()[d]=()=>{gapi.load?c():t(rr(n,"network-request-failed"))},uA(`${sV()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Uf=null,e})}let Uf=null;function gk(n){return Uf=Uf||pk(n),Uf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new Hu(5e3,15e3),_k="__/auth/iframe",vk="emulator/auth/iframe",Ek={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Tk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wk(n){const e=n.config;Te(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?vy(e,vk):`https://${n.config.authDomain}/${_k}`,i={apiKey:e.apiKey,appName:n.name,v:Bo},a=Tk.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${ku(i).slice(1)}`}async function bk(n){const e=await gk(n),t=Nr().gapi;return Te(t,n,"internal-error"),e.open({where:document.body,url:wk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ek,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=rr(n,"network-request-failed"),d=Nr().setTimeout(()=>{l(c)},yk.get());function m(){Nr().clearTimeout(d),a(i)}i.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ak=500,Rk=600,Ck="_blank",xk="http://localhost";class Bw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ik(n,e,t,i=Ak,a=Rk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const m=Object.assign(Object.assign({},Sk),{width:i.toString(),height:a.toString(),top:l,left:c}),g=nn().toLowerCase();t&&(d=nA(g)?Ck:t),eA(g)&&(e=e||xk,m.scrollbars="yes");const _=Object.entries(m).reduce((b,[x,I])=>`${b}${x}=${I},`,"");if(XP(g)&&d!=="_self")return Nk(e||"",d),new Bw(null);const T=window.open(e||"",d,_);Te(T,n,"popup-blocked");try{T.focus()}catch{}return new Bw(T)}function Nk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="__/auth/handler",Ok="emulator/auth/handler",Mk=encodeURIComponent("fac");async function qw(n,e,t,i,a,l){Te(n.config.authDomain,n,"auth-domain-config-required"),Te(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:Bo,eventId:a};if(e instanceof Sy){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",aD(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Gu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const m=await n._getAppCheckToken(),g=m?`#${Mk}=${encodeURIComponent(m)}`:"";return`${Pk(n)}?${ku(d).slice(1)}${g}`}function Pk({config:n}){return n.emulator?vy(n,Ok):`https://${n.authDomain}/${Dk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="webStorageSupport";class Vk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=sk,this._overrideRedirectResult=nk}async _openPopup(e,t,i,a){var l;yi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await qw(e,t,i,dg(),a);return Ik(e,c,Ay())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await qw(e,t,i,dg(),a);return UV(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(yi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await bk(e),i=new ok(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ip,{type:Ip},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ip];c!==void 0&&t(!!c),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oA()||tA()||Ty()}}const kk=Vk;var Hw="@firebase/auth",Fw="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jk(n){Io(new ga("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lA(n)},g=new nV(i,a,l,m);return hV(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Io(new ga("auth-internal",e=>{const t=As(e.getProvider("auth").getImmediate());return(i=>new Lk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),us(Hw,Fw,Uk(n)),us(Hw,Fw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=5*60,Bk=r0("authIdTokenMaxAge")||zk;let Gw=null;const qk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Bk)return;const a=t==null?void 0:t.token;Gw!==a&&(Gw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Hk(n=o0()){const e=Dg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=fV(n,{popupRedirectResolver:kk,persistence:[$V,VV,_A]}),i=r0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=qk(l.toString());NV(t,c,()=>c(t.currentUser)),IV(t,d=>c(d))}}const a=t0("auth");return a&&dV(t,`http://${a}`),t}function Fk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}rV({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=a=>{const l=rr("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",Fk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jk("Browser");const Gk={apiKey:"AIzaSyDX3m3sUniSTTgP65wBAfOpl8REQDGD--U",authDomain:"e-commerce-store-48e50.firebaseapp.com",projectId:"e-commerce-store-48e50",storageBucket:"e-commerce-store-48e50.firebasestorage.app",messagingSenderId:"616015312615",appId:"1:616015312615:web:1470193e67df1633105442",measurementId:"G-VBRNDMB4G0"},Cy=a0(Gk),$u=Hk(Cy);new Rr(Cy);const wa=fP(Cy),Co=Pu("wishlist/addWishlistItemAsync",async(n,{getState:e,rejectWithValue:t})=>{const i=e().user.uid;try{return{id:(await GS(fh(wa,"wishlist"),{...n,uid:i})).id,...n,uid:i}}catch(a){return console.log(a.message),t(a.message)}}),ha=Pu("wishlist/removeWishlistItemAsync",async(n,{rejectWithValue:e})=>{try{return await FS(Kh(wa,"wishlist",n.id)),n.id}catch(t){return e(t.message)}});function Kk(){const n=Xf("products"),e=MN(n),t=wt(m=>m.search.searchName),i=wt(m=>m.wishlist.wishlistItems),a=wt(m=>m.user.uid),l=H.useMemo(()=>new Map(i.map(m=>[String(m.itemId),m])),[i]),c=rn(),d=ar();return C.jsxs("div",{className:"",children:[C.jsxs("div",{className:"flex flex-col gap-4 md:flex-row",children:[C.jsx(xN,{}),C.jsx(ON,{})]}),C.jsxs("div",{className:"mt-6",children:[t.trim()&&C.jsxs("div",{onClick:()=>c(kN()),className:"relative p-1 px-2 text-[12px] w-max bg-gray-500 text-white rounded-2xl mb-1 select-none cursor-pointer",children:[C.jsx("div",{className:"absolute flex justify-center items-center -top-0.5 -right-0.5 w-3 h-3 bg-gray-400 rounded-full",children:C.jsx("i",{className:"bx bx-x"})}),C.jsxs("p",{className:"",children:["Search: ",t]})]}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-10",children:e.map(m=>C.jsxs("div",{onClick:()=>d(`/product/${m.id}`),className:"flex flex-col shadow-lg rounded-2xl p-4 gap-4 cursor-pointer bg-white",children:[C.jsx("div",{className:"w-full h-[130px] overflow-hidden flex justify-center items-center select-none",children:C.jsx("img",{src:m.image,className:"max-w-full max-h-full object-contain"})}),C.jsxs("div",{className:"",children:[C.jsxs("div",{className:"flex gap-2 justify-between",children:[C.jsx("p",{className:"leading-[20px] overflow-ellipsis whitespace-pre-wrap line-clamp-2",children:m.title}),C.jsx("i",{onClick:g=>{if(g.stopPropagation(),!a)return d("/register");l.has(String(m.id))?c(ha({id:l.get(String(m.id)).id})):c(Co({itemId:m.id,itemTitle:m.title,itemPrice:m.price,itemImage:m.image}))},className:`bx ${l.has(String(m.id))?"bxs-heart text-red-500 hover:text-red-400":"bx-heart hover:text-red-500"} text-2xl select-none`})]}),C.jsxs("p",{className:"text-lg font-semibold",children:[m.price,"$"]}),C.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[C.jsx("i",{className:"bx bxs-star text-yellow-400"}),C.jsx("p",{children:m.rating.rate}),C.jsxs("p",{className:"text-gray-500",children:["(",m.rating.count,")"]})]})]})]},m.id))})]})]})}function $k({products:n}){const e=wt(c=>c.wishlist.wishlistItems),t=H.useMemo(()=>new Map(e.map(c=>[String(c.itemId),c])),[e]),i=wt(c=>c.user.uid),a=rn(),l=ar();return C.jsxs("div",{children:[C.jsx("h3",{className:"font-bold text-xl",children:"More like this product"}),C.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-10 mt-6",children:n.map(c=>C.jsxs("div",{onClick:()=>l(`/product/${c.id}`),className:"flex flex-col shadow-lg rounded-2xl p-4 gap-4 cursor-pointer bg-white",children:[C.jsx("div",{className:"w-full h-[130px] overflow-hidden flex justify-center items-center select-none",children:C.jsx("img",{src:c.image,className:"max-w-full max-h-full object-contain"})}),C.jsxs("div",{className:"",children:[C.jsxs("div",{className:"flex gap-2 justify-between",children:[C.jsx("p",{className:"leading-[20px] overflow-ellipsis whitespace-pre-wrap line-clamp-2",children:c.title}),C.jsx("i",{onClick:d=>{if(d.stopPropagation(),!i)return l("/register");t.has(String(c.id))?a(ha({id:t.get(String(c.id)).id})):a(Co({itemId:c.id,itemTitle:c.title,itemPrice:c.price,itemImage:c.image}))},className:`bx ${t.has(String(c.id))?"bxs-heart text-red-500 hover:text-red-400":"bx-heart hover:text-red-500"} text-2xl select-none`})]}),C.jsxs("p",{className:"text-lg font-semibold",children:[c.price,"$"]}),C.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[C.jsx("i",{className:"bx bxs-star text-yellow-400"}),C.jsx("p",{children:c.rating.rate}),C.jsxs("p",{className:"text-gray-500",children:["(",c.rating.count,")"]})]})]})]},c.id))})]})}function Qk({description:n}){const[e,t]=H.useState(!1),[i,a]=H.useState(!1),l=H.useRef(null);return H.useEffect(()=>{if(l.current){const c=l.current.scrollHeight>l.current.clientHeight;a(c)}},[n]),C.jsxs("div",{className:"text-sm",children:[C.jsx("p",{ref:l,className:`overflow-hidden ${e?"":"line-clamp-4"}`,children:n}),i&&C.jsx("button",{onClick:()=>t(!e),className:"text-green-600 cursor-pointer",children:e?"Read less":"Read more"})]})}function Yk({id:n,data:e,wishlistMap:t,userId:i}){var _;const a=rn(),l=ar(),c=t.has(String(n)),d=(_=t.get(String(n)))==null?void 0:_.id,m=async()=>{if(!i)return l("/register");const T={itemId:e.id,itemTitle:e.title,itemPrice:e.price,itemImage:e.image};a(Co(T))},g=async()=>{a(ha({id:d}))};return C.jsxs("div",{className:"flex flex-col gap-2 w-full lg:max-w-[600px] md:gap-8 lg:flex-row",children:[C.jsxs("div",{className:"relative w-full h-[200px] md:h-[240px] max-w-[260px] overflow-hidden flex justify-center items-center mx-auto select-none",children:[C.jsx("img",{src:e.image,className:"max-w-full max-h-full object-contain"}),C.jsx("i",{onClick:c?g:m,className:`bx ${c?"bxs-heart text-red-500 hover:text-red-400":"bx-heart hover:text-red-500"} absolute bottom-0 right-0 text-2xl`})]}),C.jsxs("div",{className:"lg:max-w-[350px] xl:max-w-[400px]",children:[C.jsx("p",{className:"text-xl",children:e.title}),C.jsxs("div",{className:"flex items-center gap-1",children:[C.jsx("i",{className:"bx bxs-star text-yellow-400"}),C.jsx("p",{children:e.rating.rate}),C.jsxs("p",{className:"text-gray-500",children:["(",e.rating.count,")"]})]}),C.jsxs("p",{className:"text-3xl font-semibold mt-2",children:[e.price,"$"]}),C.jsxs("div",{className:"mt-2",children:[C.jsx("p",{className:"text-lg",children:"Description"}),C.jsx(Qk,{description:e.description})]})]})]})}const jf=Pu("cart/addCartItemAsync",async(n,{getState:e,rejectWithValue:t})=>{const i=e().user.uid;try{const a=US(fh(wa,"cart"),dh("uid","==",i),dh("itemId","==",n.itemId)),l=await qS(a);if(l.empty)return{id:(await GS(fh(wa,"cart"),{...n,uid:i})).id,...n,uid:i};{const c=l.docs[0],m=(c.data().itemQuantity||0)+(n.itemQuantity||1);return await HS(c.ref,{itemQuantity:m}),{id:c.id,...n,uid:i,itemQuantity:m}}}catch(a){return console.log(a.message),t(a.message)}}),zf=Pu("cart/removeCartItemAsync",async(n,{rejectWithValue:e})=>{try{return await FS(Kh(wa,"cart",n.id)),n.id}catch(t){return e(t.message)}}),ca=Pu("cart/updateCartQuantityAsync",async(n,{rejectWithValue:e})=>{try{const t=Kh(wa,"cart",n.id);return await HS(t,{itemQuantity:n.itemQuantity}),{id:n.id,itemQuantity:n.itemQuantity}}catch(t){return e(t.message)}});function Xk({data:n,isCartLoading:e,userId:t}){const[i,a]=H.useState(1),l=rn(),c=ar(),d=()=>{a(x=>x+1)},m=()=>{i>1&&a(x=>x-1)},g=()=>{i<=0&&a(1)},_=x=>{a(Number(x.target.value))},T=()=>{if(!t)return c("/register")},b=async()=>{if(!t)return c("/register");const x={itemId:n.id,itemTitle:n.title,itemPrice:n.price,itemQuantity:i,itemImage:n.image};l(jf(x))};return C.jsx("div",{className:"w-full flex flex-col mx-auto max-w-[400px] lg:max-w-[240px] xl:max-w-[300px] my-6 lg:my-8",children:C.jsxs("div",{className:"flex flex-col border-1 border-gray-400 rounded-xl p-3",children:[C.jsx("h3",{className:"font-semibold text-lg",children:"Buy this product"}),C.jsx("div",{className:"flex select-none mt-2",children:C.jsxs("div",{className:"border-1 border-gray-500 rounded-lg flex items-center justify-center text-center",children:[C.jsx("button",{id:"quantity-decrement",name:"quantity-decrement",onClick:m,className:"w-8 text-green-500 mt-[2px] cursor-pointer outline-none",children:C.jsx("i",{className:"bx bx-minus"})}),C.jsx("input",{id:"quantity-count",name:"quantity-count",className:"max-w-[4ch] text-center",type:"number",onChange:_,onBlur:g,value:i.toString()}),C.jsx("button",{id:"quantity-increment",name:"quantity-increment",onClick:d,className:"w-8 text-green-500 mt-[2px] ml-[2px] cursor-pointer outline-none",children:C.jsx("i",{className:"bx bx-plus"})})]})}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("p",{className:"text-gray-500 mt-1.5",children:"Subtotal"}),C.jsxs("p",{className:"font-bold text-black text-xl",children:[`${(i*n.price).toFixed(2)}`,"$"]})]}),C.jsxs("div",{className:"flex justify-between items-center font-semibold gap-4 select-none mt-2",children:[C.jsx("button",{onClick:T,className:`flex justify-center items-center w-full h-[40px] border-2 border-green-500 rounded-lg cursor-pointer ${e?"opacity-60":"opacity-100"}`,disabled:e,children:C.jsx("p",{children:"Buy"})}),C.jsxs("button",{onClick:b,className:`flex justify-center items-center w-full h-[40px] bg-green-500 text-white rounded-lg cursor-pointer ${e?"opacity-60":"opacity-100"}`,disabled:e,children:[C.jsx("i",{className:"bx bx-plus"}),C.jsx("p",{className:"mr-2",children:"Cart"})]})]})]})})}function Wk(){const{id:n}=nb(),e=Xf(`products/${n}`),t=e==null?void 0:e.category,a=Xf("products/").filter(_=>{if(_.category===(t==null?void 0:t.toLowerCase())&&_.id!==Number(n))return _}),l=wt(_=>_.wishlist.wishlistItems),c=new Map(l.map(_=>[String(_.itemId),_])),d=wt(_=>_.cart.status)==="loading",m=wt(_=>_.user.uid),g=wt(_=>_.loading.loadingCounter>0);return e.length<=0||g?C.jsx("div",{}):C.jsxs("div",{className:"flex flex-col gap-8 md:px-10 lg:pt-6 max-w-[1000px] mx-auto",children:[C.jsx("div",{className:"fixed top-0 left-0 w-full h-screen bg-white z-[-1]"}),C.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row",children:[C.jsx(Yk,{id:n,data:e,wishlistMap:c,userId:m}),C.jsx(Xk,{data:e,isCartLoading:d,userId:m})]}),C.jsx("div",{className:"",children:C.jsx($k,{products:a})})]})}function Zk({isMenuOpen:n,setIsMenuOpen:e}){const t=wt(l=>l.user),i=ar(),a=async()=>{try{e(!1),await OV($u),i("/register")}catch(l){console.log(l)}};return C.jsxs(C.Fragment,{children:[C.jsxs("button",{className:`menu-btn p-5 cursor-pointer z-[2] outline-none ${n?"open":""}`,onClick:()=>e(!n),children:[C.jsx("div",{className:"menu-btn-line"}),C.jsx("div",{className:"menu-btn-line"}),C.jsx("div",{className:"menu-btn-line"})]}),C.jsx("div",{id:"menu-overlay",onClick:()=>e(!1),className:`fixed top-0 left-0 h-screen w-full bg-black transition-opacity duration-500 z-[1] ${n?"opacity-50":"opacity-0 pointer-events-none"}`}),C.jsx("div",{id:"menu",onClick:l=>l.stopPropagation(),className:`fixed top-0 left-0 h-full flex flex-col z-[1] bg-white w-[80%] max-w-[200px] md:max-w-[280px] ${n?"translate-x-0":"-translate-x-full"}`,children:C.jsxs("ul",{id:"menu-content",className:"flex flex-col items-start gap-3 ml-5 mt-16",children:[C.jsx("li",{onClick:()=>i("/wishlist"),className:"cursor-pointer",children:"Wishlist"}),t.uid?C.jsx("li",{onClick:a,className:"cursor-pointer",children:"Logout"}):C.jsx(_n,{to:"/register",children:C.jsx("li",{children:"Sign up"})})]})})]})}function Jk(){const[n,e]=H.useState(!1),[t,i]=H.useState(""),a=rn(),l=ar(),c=d=>{d.preventDefault(),a(VN(t)),l("/")};return C.jsxs(C.Fragment,{children:[C.jsx("a",{className:"text-2xl cursor-pointer md:hidden",onClick:()=>e(!n),children:C.jsx("i",{className:"bx bx-search-alt-2"})}),n&&C.jsxs("form",{onSubmit:c,className:"fixed top-15 left-1/2 transform -translate-x-1/2 w-[90%] flex items-center pl-2 bg-white border-1 border-gray-500 rounded-2xl md:hidden",autoComplete:"off",children:[C.jsx("label",{className:"bx bx-search-alt-2 text-gray-500",htmlFor:"search-input-popup"}),C.jsx("input",{className:"ml-1 flex-1 mr-4 outline-none py-1",value:t,onChange:d=>i(d.target.value),placeholder:"Search",id:"search-input-popup",name:"search-input-popup"})]}),C.jsxs("form",{onSubmit:c,className:"hidden md:flex flex-1 items-center pl-2 bg-white border-1 border-gray-500 rounded-2xl",autoComplete:"off",children:[C.jsx("label",{className:"bx bx-search-alt-2 text-gray-500",htmlFor:"search-input"}),C.jsx("input",{className:"ml-1 flex-1 mr-4 outline-none py-1",value:t,onChange:d=>i(d.target.value),placeholder:"Search",id:"search-input",name:"search-input"})]})]})}function eL(){const[n,e]=H.useState(!1),t=ar(),i=wt(l=>l.cart.cartItems),a=()=>{t("/cart")};return C.jsxs(C.Fragment,{children:[C.jsx("a",{className:"text-2xl cursor-pointer",onClick:i&&i.length>0?a:()=>e(!0),children:C.jsx("i",{className:"bx bx-cart"})}),C.jsx("div",{id:"menu-overlay",onClick:()=>e(!1),className:`fixed top-0 left-0 h-screen w-full bg-black transition-opacity duration-500 z-[3] ${n?"opacity-50":"opacity-0 pointer-events-none"}`}),C.jsxs("div",{className:`fixed flex flex-col justify-center items-center gap-4 bottom-0 left-0 w-full transition-all duration-500 bg-white z-[5] h-full max-h-[400px] p-8 md:max-h-[360px] md:max-w-[400px] md:left-1/2 md:top-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 md:rounded-xl md:shadow-lg ${n?"translate-y-0 md:opacity-100 md:scale-100":"translate-y-full md:translate-y-full md:opacity-0 md:scale-95"}`,children:[C.jsx("i",{className:"bx bx-x absolute top-2 right-2 text-2xl cursor-pointer",onClick:()=>e(!1)}),C.jsx("div",{className:"max-w-[120px]",children:C.jsx("img",{className:"w-full h-auto",src:"https://images.tokopedia.net/img/purchase-platform/illustration/empty-state-pp.png"})}),C.jsx("p",{children:"Oops, theres nothing in this cart!"}),C.jsx(_n,{to:"/",children:C.jsx("button",{onClick:()=>e(!1),className:"p-2 px-4 border-2 border-green-500 rounded-2xl text-green-700 font-semibold cursor-pointer hover:bg-green-200 transition-colors duration-300",children:"Start Shopping"})})]})]})}function tL(){const[n,e]=H.useState(!1);return C.jsxs("nav",{className:"fixed flex justify-between md:justify-start md:gap-8 top-0 w-full select-none bg-white z-50 shadow-lg",children:[C.jsxs("div",{className:"flex",children:[C.jsx(Zk,{isMenuOpen:n,setIsMenuOpen:e}),C.jsx(_n,{to:"/",className:"text-xl text-center text-green-500 self-center font-bold",children:C.jsx("h2",{children:"Shop2Go"})})]}),C.jsxs("div",{className:"flex md:flex-1 items-center gap-3 mr-4",children:[C.jsx(Jk,{}),C.jsx(eL,{})]})]})}function Kw(n){const e=wt(i=>i.user),t=rn();H.useEffect(()=>{if(!e)return;let i=!1,a=()=>{};return(async()=>{try{t(Qb());const c=US(fh(wa,n.collectionName),...n.queryConditions(e)),d=await qS(c);i||n.onDataReceived(d.docs),a=RP(c,m=>{i||n.onDataReceived(m.docs)})}catch(c){n.onError(c)}finally{i||t(Yf())}})(),()=>{i=!0,a(),t(Yf())}},[e,t,...n.dependencies||[]])}const nL={cartItems:[],status:"idle",error:null},RA=Sa({name:"cart",initialState:nL,reducers:{setCartItems:(n,e)=>{n.cartItems=e.payload}},extraReducers:n=>{n.addCase(jf.pending,e=>{e.status="loading"}).addCase(jf.fulfilled,e=>{e.status="succeeded"}).addCase(jf.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(zf.pending,e=>{e.status="loading"}).addCase(zf.fulfilled,(e,t)=>{e.status="succeeded",e.cartItems=e.cartItems.filter(i=>i.itemId!==t.payload)}).addCase(zf.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(ca.pending,e=>{e.status="loading"}).addCase(ca.fulfilled,(e,t)=>{e.status="succeeded";const i=e.cartItems.findIndex(a=>a.id===t.payload.id);i!==-1&&(e.cartItems[i].itemQuantity=t.payload.itemQuantity)}).addCase(ca.rejected,(e,t)=>{e.status="failed",e.error=t.payload})}}),{setCartItems:rL}=RA.actions,iL=RA.reducer,sL={wishlistItems:[],status:"idle",error:null},CA=Sa({name:"wishlist",initialState:sL,reducers:{setWishlistItems:(n,e)=>{n.wishlistItems=e.payload}},extraReducers:n=>{n.addCase(Co.pending,e=>{e.status="loading"}).addCase(Co.fulfilled,e=>{e.status="succeeded"}).addCase(Co.rejected,(e,t)=>{e.status="failed",e.error=t.payload}).addCase(ha.pending,e=>{e.status="loading"}).addCase(ha.fulfilled,(e,t)=>{e.status="succeeded",e.wishlistItems=e.wishlistItems.filter(i=>i.itemId!==t.payload)}).addCase(ha.rejected,(e,t)=>{e.status="failed",e.error=t.payload})}}),{setWishlistItems:aL}=CA.actions,oL=CA.reducer;function lL(){const n=rn();return(()=>{Kw({collectionName:"cart",queryConditions:i=>[dh("uid","==",i.uid)],onDataReceived:i=>{const a=i.map(l=>({...l.data(),id:l.id}));n(rL(a))},onError:i=>{console.error(i)},dependencies:[]})})(),(()=>{Kw({collectionName:"wishlist",queryConditions:i=>[dh("uid","==",i.uid)],onDataReceived:i=>{const a=i.map(l=>({...l.data(),id:l.id}));n(aL(a))},onError:i=>{console.error(i)},dependencies:[]})})(),C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed top-0 left-0 w-full h-screen z-[-2] bg-slate-200"}),C.jsx(tL,{}),C.jsx("div",{className:"pt-18 pb-6 px-5 flex flex-col gap-4 max-w-[1600px] mx-auto",children:C.jsx(tx,{})})]})}const uL={uid:null,displayName:null,email:null,phoneNumber:null,photoURL:null},xA=Sa({name:"user",initialState:uL,reducers:{setUser:(n,e)=>{console.log(e),n.uid=e.payload.uid,n.displayName=e.payload.displayName,n.email=e.payload.email,n.phoneNumber=e.payload.phoneNumber,n.photoURL=e.payload.photoURL},clearUser:n=>{n.uid=null,n.displayName=null,n.email=null,n.phoneNumber=null,n.photoURL=null}}}),{setUser:Jh,clearUser:cL}=xA.actions,fL=xA.reducer;function hL(){const[n,e]=H.useState(""),[t,i]=H.useState(""),[a,l]=H.useState(!0),[c,d]=H.useState(""),m=rn(),g=ar(),_=async T=>{T.preventDefault(),d("");try{const x=(await xV($u,n,t)).user,I={uid:x.uid,displayName:x.displayName,email:x.email,phoneNumber:x.phoneNumber,photoURL:x.photoURL};m(Jh(I)),g("/")}catch(b){d(b.message)}};return C.jsxs("form",{className:"flex flex-col",onSubmit:_,children:[C.jsx("h3",{className:"text-center text-xl font-semibold",children:"Log in with:"}),C.jsxs("p",{className:"text-sm text-center mt-1",children:["Dont have an account? Click ",C.jsx(_n,{to:"/register",className:"text-green-500 transition-colors duration-100 hover:text-green-600",children:"here"})]}),C.jsxs("div",{className:"relative mt-4 select-none",children:[C.jsx("input",{onChange:T=>e(T.target.value),value:n,className:"border-1 border-gray-400 py-[10px] px-2 pl-4 rounded-xl peer focus:border-green-600 outline-none placeholder-transparent w-full text-sm",type:"email",name:"login-email",id:"login-email",placeholder:" ",required:!0}),C.jsx("label",{className:"absolute -top-[7px] left-6 text-xs bg-white text-gray-500 px-1 transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:top-[9px] peer-placeholder-shown:left-2.5 peer-focus:text-xs peer-focus:-top-[7px] peer-focus:left-6",htmlFor:"login-email",children:"Email"})]}),C.jsxs("div",{className:"relative mt-2 select-none",children:[C.jsx("input",{onChange:T=>i(T.target.value),value:t,className:"border-1 border-gray-400 py-[10px] px-2 pl-4 rounded-xl peer focus:border-green-600 outline-none placeholder-transparent w-full text-sm",type:a?"password":"",name:"login-password",id:"login-password",placeholder:" ",required:!0}),C.jsx("label",{className:"absolute -top-[7px] left-6 text-xs bg-white text-gray-500 px-1 transition-all duration-300  peer-placeholder-shown:text-base peer-placeholder-shown:top-[9px] peer-placeholder-shown:left-2.5 peer-focus:text-xs peer-focus:-top-[7px] peer-focus:left-6",htmlFor:"login-password",children:"Password"}),C.jsx("i",{className:`fa-solid ${a?"fa-eye":"fa-eye-slash"} absolute right-3 top-3.5 text-gray-500 cursor-pointer select-none`,onClick:()=>l(!a)}),C.jsx("p",{className:"text-xs ml-2 mt-0.5 text-red-500",children:c})]}),C.jsx("button",{type:"submit",className:"p-2 text-center border-1 border-green-400 hover:bg-green-200 cursor-pointer rounded-xl mt-4 transition-colors duration-300",children:C.jsx("p",{className:"text-green-600 font-bold",children:"Log In"})})]})}function dL(){const[n,e]=H.useState(""),[t,i]=H.useState(""),[a,l]=H.useState(!0),[c,d]=H.useState(""),m=rn(),g=ar(),_=async T=>{T.preventDefault(),d("");try{const x=(await CV($u,n,t)).user,I={uid:x.uid,displayName:x.displayName,email:x.email,phoneNumber:x.phoneNumber,photoURL:x.photoURL};m(Jh(I)),g("/")}catch(b){d(b.message)}};return C.jsx(C.Fragment,{children:C.jsxs("form",{className:"flex flex-col",onSubmit:_,children:[C.jsx("h3",{className:"text-center text-xl font-semibold",children:"Sign up with:"}),C.jsxs("p",{className:"text-sm text-center mt-1",children:["Already have an account? Click ",C.jsx(_n,{to:"/login",className:"text-green-500 transition-colors duration-100 hover:text-green-600",children:"here"})]}),C.jsxs("div",{className:"relative mt-4 select-none",children:[C.jsx("input",{onChange:T=>e(T.target.value),value:n,className:"border-1 border-gray-400 py-[10px] px-2 pl-4 rounded-xl peer focus:border-green-600 outline-none placeholder-transparent w-full text-sm",type:"email",name:"register-email",id:"register-email",placeholder:" ",required:!0}),C.jsx("label",{className:"absolute -top-[7px] left-6 text-xs bg-white text-gray-500 px-1 transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:top-[9px] peer-placeholder-shown:left-2.5 peer-focus:text-xs peer-focus:-top-[7px] peer-focus:left-6",htmlFor:"register-email",children:"Email"})]}),C.jsxs("div",{className:"relative mt-2 select-none",children:[C.jsx("input",{onChange:T=>i(T.target.value),value:t,className:"border-1 border-gray-400 py-[10px] px-2 pl-4 pr-10 rounded-xl peer focus:border-green-600 outline-none placeholder-transparent w-full text-sm",type:a?"password":"",name:"register-password",id:"register-password",placeholder:" ",required:!0}),C.jsx("label",{className:"absolute -top-[7px] left-6 text-xs bg-white text-gray-500 px-1 transition-all duration-300 peer-placeholder-shown:text-base peer-placeholder-shown:top-[9px] peer-placeholder-shown:left-2.5 peer-focus:text-xs peer-focus:-top-[7px] peer-focus:left-6",htmlFor:"register-password",children:"Password"}),C.jsx("i",{className:`fa-solid ${a?"fa-eye":"fa-eye-slash"} absolute right-3 top-3.5 text-gray-500 cursor-pointer select-none`,onClick:()=>l(!a)}),C.jsx("p",{className:"text-xs ml-2 mt-0.5 text-red-500",children:c})]}),C.jsx("button",{type:"submit",className:"p-2 text-center border-1 border-green-400 hover:bg-green-200 cursor-pointer rounded-xl mt-4 transition-colors duration-300",children:C.jsx("p",{className:"text-green-600 font-bold",children:"Sign In"})})]})})}function mL(){const[n,e]=H.useState(""),t=rn(),i=ar(),{authType:a}=nb(),l=async()=>{try{const d=(await ZV($u,new Rr)).user,m={uid:d.uid,displayName:d.displayName,email:d.email,phoneNumber:d.phoneNumber,photoURL:d.photoURL};t(Jh(m)),i("/")}catch(c){e(c.message)}};return C.jsxs(C.Fragment,{children:[C.jsx("div",{className:"fixed top-0 left-0 w-full h-screen z-[-2] bg-slate-200"}),C.jsx("div",{className:"fixed top-0 left-0 w-full flex justify-center items-center p-3 bg-white shadow-lg",children:C.jsx(_n,{to:"/",children:C.jsx("h2",{className:"text-2xl text-green-500 font-semibold",children:"Shop2Go"})})}),C.jsx("div",{className:"min-h-screen flex justify-center items-center",children:C.jsxs("div",{className:"w-full max-w-[400px] mx-auto p-4 bg-white rounded-xl shadow-lg",children:[a==="register"&&C.jsx(dL,{}),a==="login"&&C.jsx(hL,{}),C.jsxs("div",{className:"flex flex-col",children:[C.jsxs("div",{className:"flex items-center justify-center gap-3 mt-4 select-none",children:[C.jsx("div",{className:"h-[.8px] bg-gray-300 flex-1"}),C.jsx("p",{className:"text-gray-500",children:"or with"}),C.jsx("div",{className:"h-[.8px] bg-gray-300 flex-1"})]}),C.jsxs("button",{type:"button",onClick:l,className:"flex items-center justify-center border-1 border-gray-400 p-2 rounded-xl gap-1 mt-4 cursor-pointer hover:bg-gray-200 transition-colors duration-300",children:[C.jsx("div",{className:"",children:C.jsx("img",{src:"https://assets.tokopedia.net/asts/oauth/static-asset-icon/google.svg",className:"w-full h-auto"})}),C.jsx("p",{className:"text-gray-500 font-bold",children:"Google"})]})]})]})})]})}function pL({id:n,itemId:e,itemTitle:t,itemPrice:i,itemQuantity:a,itemImage:l}){const[c,d]=H.useState(a),m=rn();H.useEffect(()=>{d(a)},[a]);const g=()=>{m(ca({id:n,itemQuantity:a+1}))},_=()=>{a>1&&m(ca({id:n,itemQuantity:a-1}))},T=I=>{const j=Number(I);d(j)},b=()=>{c<=0?(m(ca({id:n,itemQuantity:1})),d(1)):m(ca({id:n,itemQuantity:c}))},x=()=>{m(zf({id:n}))};return C.jsxs("div",{className:"flex relative gap-4 w-full lg:max-w-[500px] h-[100px] bg-white p-2 rounded-xl shadow-lg",children:[C.jsx("div",{onClick:x,className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 flex justify-center items-center text-center rounded-full cursor-pointer select-none",children:C.jsx("i",{className:"bx bx-x ml-[.25px] text-white text-sm"})}),C.jsx(_n,{to:`/product/${e}`,className:"w-[50px] flex-shrink-0",children:C.jsx("img",{src:l,className:"w-full h-full object-contain"})}),C.jsxs("div",{className:"max-w-[70%] flex flex-col justify-between",children:[C.jsx(_n,{to:`/product/${e}`,children:C.jsx("p",{className:"text-sm truncate",children:t})}),C.jsxs("p",{className:"font-bold",children:[i,"$"]}),C.jsx("div",{className:"flex select-none",children:C.jsxs("div",{className:"border-1 border-gray-500 rounded-lg flex items-center justify-center text-center",children:[C.jsx("button",{name:"quantity-decrement",onClick:_,className:`w-8 text-green-500 mt-[2px] outline-none ${a<=1?"opacity-50":"cursor-pointer opacity-100"}`,disabled:a<=1,children:C.jsx("i",{className:"bx bx-minus"})}),C.jsx("input",{name:"quantity-count",className:"max-w-[4ch] text-center",type:"number",onChange:I=>T(I.target.value),value:c.toString(),onBlur:b}),C.jsx("button",{name:"quantity-increment",onClick:g,className:"w-8 text-green-500 mt-[2px] ml-[2px] cursor-pointer outline-none",children:C.jsx("i",{className:"bx bx-plus"})})]})})]})]})}function gL(){const n=wt(t=>t.cart.cartItems),e=n.reduce((t,i)=>t+i.itemPrice*i.itemQuantity,0).toFixed(2);return C.jsx("div",{className:"pb-24 lg:pb-0",children:C.jsxs("div",{className:"max-w-[1000px] mx-auto",children:[C.jsx("h2",{className:"text-xl font-bold",children:"My cart"}),n.length<=0&&C.jsxs("div",{className:"bg-white w-full lg:max-w-[700px] rounded-xl shadow-lg p-4 flex flex-col justify-center items-center gap-4 mt-5",children:[C.jsx("div",{className:"max-w-[120px] select-none",children:C.jsx("img",{className:"w-full h-auto",src:"https://images.tokopedia.net/img/purchase-platform/illustration/empty-state-pp.png"})}),C.jsx("p",{children:"Oops, theres nothing in this cart!"}),C.jsx(_n,{to:"/",className:"mb-2",children:C.jsx("button",{className:"p-2 px-4 border-2 border-green-500 rounded-2xl text-green-700 font-semibold select-none cursor-pointer hover:bg-green-200 transition-colors duration-300",children:"Start Shopping"})})]}),C.jsxs("div",{className:"lg:flex lg:justify-between gap-10 mt-4 max-w-[1000px] mx-auto",children:[C.jsx("div",{className:"flex flex-col gap-4",children:n.map((t,i)=>C.jsx(pL,{...t},i))}),n.length>=1&&C.jsxs("div",{className:"fixed bottom-0 left-0 px-4 py-3 bg-white w-full lg:sticky lg:top-24 lg:max-h-fit lg:max-w-[500px] lg:rounded-xl lg:shadow-lg",children:[C.jsxs("div",{className:"flex justify-between items-center text-gray-700",children:[C.jsx("p",{className:"mt-1 font-semibold",children:"Total"}),C.jsxs("p",{className:"font-extrabold text-lg",children:[e,"$"]})]}),C.jsx("button",{className:"p-2 bg-green-400 text-white rounded-lg w-full mt-2 cursor-pointer hover:bg-green-500 transition-colors duration-300",children:"Checkout"})]})]})]})})}function yL({id:n,itemId:e,itemTitle:t,itemPrice:i,itemImage:a}){const l=rn();return C.jsxs("div",{className:"flex relative gap-4 w-[280px] h-[100px] bg-white p-2 rounded-xl shadow-lg",children:[C.jsx("div",{onClick:()=>l(ha({id:n})),className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 flex justify-center items-center text-center rounded-full cursor-pointer select-none",children:C.jsx("i",{className:"bx bx-x ml-[.25px] text-white text-sm"})}),C.jsx(_n,{to:`/product/${e}`,className:"w-[50px] flex-shrink-0",children:C.jsx("img",{src:a,className:"w-full h-full object-contain"})}),C.jsxs("div",{className:"max-w-[70%] flex flex-col justify-center",children:[C.jsx(_n,{to:`/product/${e}`,children:C.jsx("p",{className:"text-sm truncate",children:t})}),C.jsxs("p",{className:"font-bold",children:[i,"$"]})]})]})}function _L(){const n=wt(e=>e.wishlist.wishlistItems);return C.jsxs(C.Fragment,{children:[C.jsx("h2",{className:"text-xl font-bold",children:"My wishlist"}),C.jsxs("div",{className:"flex flex-col gap-3 w-full",children:[n.length<=0&&C.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 flex flex-col justify-center items-center gap-4",children:[C.jsx("div",{className:"max-w-[120px] select-none",children:C.jsx("img",{className:"w-full h-auto",src:"https://images.tokopedia.net/img/purchase-platform/illustration/empty-state-pp.png"})}),C.jsx("p",{children:"You dont wishlist anything yet!"}),C.jsx(_n,{to:"/",className:"mb-2",children:C.jsx("button",{className:"p-2 px-4 border-2 border-green-500 rounded-2xl text-green-700 font-semibold select-none cursor-pointer hover:bg-green-200 transition-colors duration-300",children:"Start Shopping"})})]}),n.map(e=>C.jsx(yL,{...e},e.itemId))]})]})}function vL(){const n=wt(t=>t.loading.loadingCounter>0),e=rn();return H.useEffect(()=>DV($u,i=>{if(i){const a={uid:i.uid,displayName:i.displayName,email:i.email,phoneNumber:i.phoneNumber,photoURL:i.photoURL};e(Jh(a))}else e(cL())}),[]),C.jsx(Cx,{basename:"/E-Commerce-Store/",children:C.jsxs("div",{children:[n&&C.jsx("div",{className:"fixed top-0 left-0 w-full h-screen z-20 bg-white flex justify-center items-center",children:C.jsx("p",{children:"Loading . . ."})}),C.jsxs(rx,{children:[C.jsx(ia,{path:"/:authType",element:C.jsx(mL,{})}),C.jsxs(ia,{path:"/",element:C.jsx(lL,{}),children:[C.jsx(ia,{index:!0,element:C.jsx(Kk,{})}),C.jsx(ia,{path:"/product/:id",element:C.jsx(Wk,{})}),C.jsx(ia,{path:"/cart",element:C.jsx(gL,{})}),C.jsx(ia,{path:"/wishlist",element:C.jsx(_L,{})})]})]})]})})}const EL=rN({reducer:{user:fL,loading:SN,search:LN,category:CN,sort:DN,cart:iL,wishlist:oL}});cC.createRoot(document.getElementById("root")).render(C.jsx(H.StrictMode,{children:C.jsx(CI,{store:EL,children:C.jsx(vL,{})})}));
